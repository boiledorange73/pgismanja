<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第9章 ラスタ リファレンス</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="PostGIS 2.0.0マニュアル日本語訳"><link rel="up" href="index.html" title="PostGIS 2.0.0マニュアル日本語訳"><link rel="prev" href="PostGIS_HasBBox.html" title="PostGIS_HasBBox"><link rel="next" href="geomval.html" title="geomval"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第9章 ラスタ リファレンス</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="PostGIS_HasBBox.html">戻る</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="geomval.html">次へ</a></td></tr></table><hr></div><div class="chapter" title="第9章 ラスタ リファレンス"><div class="titlepage"><div><div><h2 class="title"><a name="RT_reference"></a>第9章 ラスタ リファレンス</h2></div></div></div><div class="toc"><p><b>目次</b></p><dl><dt><span class="sect1"><a href="RT_reference.html#Raster_Types">9.1. ラスタサポートデータ型</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Management_Functions">9.2. ラスタ管理</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Constructors">9.3. ラスタ コンストラクタ</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Accessors">9.4. ラスタ アクセサ</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#RasterBand_Accessors">9.5. ラスタバンド アクセサ</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Pixel_Accessors">9.6. ラスタピクセル アクセサとセッター</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Editors">9.7. ラスタ エディタ</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#RasterBand_Editors">9.8. ラスタバンド エディタ</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#RasterBand_Stats">9.9. ラスタバンド統計情報と解析</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Outputs">9.10. ラスタ出力</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Processing">9.11. ラスタ処理</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Processing_Builtin_Functions">9.12. ラスタ処理組み込み関数</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#RT_Operators">9.13. ラスタ演算子</a></span></dt><dt><span class="sect1"><a href="RT_reference.html#Raster_Relationships">9.14. ラスタ/ラスタバンドの空間関係関数</a></span></dt></dl></div><p>ここで挙げる関数は、PostGISラスタにとって必要と思われるもので、現在PostGISラスタで有効なものです。一般的なユーザが利用しない、ラスタオブジェクトに対して求められるサポート関数があります。</p><p><code class="varname">raster</code>はラスタデータを格納、解析するためのPostGISの型です。</p><p>ラスタファイルからラスタをロードするには<a class="xref" href="using_raster.xml.html#RT_Loading_Rasters" title="5.1. ラスタのロードと生成">「ラスタのロードと生成」</a>を参照して下さい。</p><p>このリファレンスにおける例ではダミーラスタのラスタテーブルを使っています。ラスタは次のようなコードで形成しています。</p><pre class="programlisting">CREATE TABLE dummy_rast(rid integer, rast raster);
INSERT INTO dummy_rast(rid, rast)
VALUES (1,
('01' -- little endian (uint8 ndr)
|| 
'0000' -- version (uint16 0)
||
'0000' -- nBands (uint16 0)
||
'0000000000000040' -- scaleX (float64 2)
||
'0000000000000840' -- scaleY (float64 3)
||
'000000000000E03F' -- ipX (float64 0.5)
||
'000000000000E03F' -- ipY (float64 0.5)
||
'0000000000000000' -- skewX (float64 0)
||
'0000000000000000' -- skewY (float64 0)
||
'00000000' -- SRID (int32 0)
||
'0A00' -- width (uint16 10)
||
'1400' -- height (uint16 20)
)::raster
),
-- Raster: 5 x 5 pixels, 3 bands, PT_8BUI pixel type, NODATA = 0
(2,  ('01000003009A9999999999A93F9A9999999999A9BF000000E02B274A' ||
'41000000007719564100000000000000000000000000000000FFFFFFFF050005000400FDFEFDFEFEFDFEFEFDF9FAFEF' ||
'EFCF9FBFDFEFEFDFCFAFEFEFE04004E627AADD16076B4F9FE6370A9F5FE59637AB0E54F58617087040046566487A1506CA2E3FA5A6CAFFBFE4D566DA4CB3E454C5665')::raster);</pre><div class="sect1" title="9.1. ラスタサポートデータ型"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Types"></a>9.1. ラスタサポートデータ型</h2></div><div><div class="abstract" title="概要"><p class="title"><b>概要</b></p><p>本節では、ラスタ機能をサポートするために作られたPostgreSQLデータ型の一覧を挙げます。</p></div></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="geomval.html">geomval</a></span><span class="refpurpose"> — geom(ジオメトリオブジェクトを保持)とval(ラスタバンドからのピクセル値を倍精度浮動小数点数で保持)の2フィールドからなるデータ型。</span></dt><dt><span class="refentrytitle"><a href="histogram.html">ヒストグラム</a></span><span class="refpurpose"> — ST_HistogramとST_ApproxHistogram関数のレコード出力として使われる複合型。</span></dt><dt><span class="refentrytitle"><a href="raster.html">raster</a></span><span class="refpurpose"> — ラスタ空間データ型</span></dt><dt><span class="refentrytitle"><a href="reclassarg.html">reclassarg</a></span><span class="refpurpose"> — ST_Reclass関数への入力として使用する複合型です。再分類の挙動を定義します。</span></dt><dt><span class="refentrytitle"><a href="summarystats.html">summarystats</a></span><span class="refpurpose"> — ST_SummaryStats関数の出力として使う複合型です。</span></dt></dl></div></div><div class="sect1" title="9.2. ラスタ管理"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Management_Functions"></a>9.2. ラスタ管理</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_AddRasterConstraints.html">AddRasterConstraints</a></span><span class="refpurpose"> — ロードされたラスタテーブルの特定のカラムにラスタ制約を追加します。制約には空間参照系、スケール、ブロックサイズ、アラインメント、バンド、バンド型、ラスタカラムが規則正しいブロックかどうかを示すフラグがあります。テーブルは制約が推論されるためのデータがロードされなければなりません。制約の設定が完了するとtrueを返し、問題があると通知を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_DropRasterConstraints.html">DropRasterConstraints</a></span><span class="refpurpose"> — ラスタテーブルカラムへの参照であるPostGISラスタ制約を削除します。データの再読み込みやラスタカラムデータの更新の際に使います。</span></dt><dt><span class="refentrytitle"><a href="RT_PostGIS_Raster_Lib_Build_Date.html">PostGIS_Raster_Lib_Build_Date</a></span><span class="refpurpose"> — Reports full raster library build date.</span></dt><dt><span class="refentrytitle"><a href="RT_PostGIS_Raster_Lib_Version.html">PostGIS_Raster_Lib_Version</a></span><span class="refpurpose"> — Reports full raster version and build configuration
		infos.</span></dt><dt><span class="refentrytitle"><a href="RT_ST_GDALDrivers.html">ST_GDALDrivers</a></span><span class="refpurpose"> — 使用しているGDALライブラリが対応するラスタ書式の一覧を返します。ST_AsGDALRasterを使って出力できるラスタの書式です。</span></dt></dl></div></div><div class="sect1" title="9.3. ラスタ コンストラクタ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Constructors"></a>9.3. ラスタ コンストラクタ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_AddBand.html">ST_AddBand</a></span><span class="refpurpose"> — 与えられたタイプで、与えられた初期値にした新しいバンドを、与えられたインデクス位置に付けたラスタを返します。インデクス位置を指定していない場合には、バンドは末尾に追加されます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_AsRaster.html">ST_AsRaster</a></span><span class="refpurpose"> — PostGISジオメトリをPostGISラスタに変換します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Band.html">ST_Band</a></span><span class="refpurpose"> — 既存のラスタの1つ以上のバンドを新しいラスタとして返します。既存のラスタから新しいラスタを構築する際に使います。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MakeEmptyRaster.html">ST_MakeEmptyRaster</a></span><span class="refpurpose"> — 与えられたピクセル範囲(width, height)、左上のX,Y、ピクセルサイズ、回転(scalex, scaley, skewx, skewy)と空間参照系(SRID)が指定された空ラスタ(バンドを持たないラスタ)を返します。ラスタが渡されると、新しいラスタは渡されたラスタと同じサイズ、アラインメント、SRIDになります。SRIDが指定されていない場合には、空間参照系は不明(0)とされます。</span></dt></dl></div></div><div class="sect1" title="9.4. ラスタ アクセサ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Accessors"></a>9.4. ラスタ アクセサ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_GeoReference.html">ST_GeoReference</a></span><span class="refpurpose"> — 一般的にワールドファイルでみられるGDALまたはESRI書式の地理参照メタデータを返します。デフォルトはGDALです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Height.html">ST_Height</a></span><span class="refpurpose"> — ラスタの高さをピクセル単位で返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MetaData.html">ST_MetaData</a></span><span class="refpurpose"> — ピクセルサイズ、回転(skew)、左上隅位置等のラスタオブジェクトに関する基本的なメタデータを返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_NumBands.html">ST_NumBands</a></span><span class="refpurpose"> — ラスタオブジェクトのバンド数を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_PixelHeight.html">ST_PixelHeight</a></span><span class="refpurpose"> — 空間参照系の単位での地理的なピクセルの高さを返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_PixelWidth.html">ST_PixelWidth</a></span><span class="refpurpose"> — 空間参照系の単位での地理的なピクセルの幅を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_ScaleX.html">ST_ScaleX</a></span><span class="refpurpose"> — 空間参照系の単位での地理的なピクセル幅のX成分を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_ScaleY.html">ST_ScaleY</a></span><span class="refpurpose"> — 空間参照系の単位での地理的なピクセルの高さのY成分を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Raster2WorldCoordX.html">ST_Raster2WorldCoordX</a></span><span class="refpurpose"> — ラスタの指定した列と行における左上隅の地理座標X値を返します。列と行の番号は1始まりです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Raster2WorldCoordY.html">ST_Raster2WorldCoordY</a></span><span class="refpurpose"> — ラスタの指定した列と行における左上隅の地理座標Y値を返します。列と行の番号は1始まりです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Rotation.html">ST_Rotation</a></span><span class="refpurpose"> — ラスタの回転をラジアンで返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SkewX.html">ST_SkewX</a></span><span class="refpurpose"> — 空間参照のXスキュー(回転パラメータ)を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SkewY.html">ST_SkewY</a></span><span class="refpurpose"> — 空間参照のYスキュー(回転パラメータ)を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SRID.html">ST_SRID</a></span><span class="refpurpose"> — ラスタのspatial_ref_sysテーブルで定義されている空間参照系識別番号を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_UpperLeftX.html">ST_UpperLeftX</a></span><span class="refpurpose"> — 適用されている空間参照系でのラスタの左上隅のX座標値を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_UpperLeftY.html">ST_UpperLeftY</a></span><span class="refpurpose"> — 適用されている空間参照系でのラスタの左上隅のY座標値を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Width.html">ST_Width</a></span><span class="refpurpose"> — ラスタの幅をピクセル単位で返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_World2RasterCoordX.html">ST_World2RasterCoordX</a></span><span class="refpurpose"> — ラスタのワールド空間参照系に基づくポイントジオメトリ(pt)またはX,Y座標値(xw,yw)に対応するラスタの列を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_World2RasterCoordY.html">ST_World2RasterCoordY</a></span><span class="refpurpose"> — ラスタのワールド空間参照系に基づくポイントジオメトリ(pt)またはX,Y座標値(xw,yw)に対応するラスタの行を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_IsEmpty.html">ST_IsEmpty</a></span><span class="refpurpose"> — ラスタが空(width = 0かつheight = 0)の場合にはTRUEを返します。他の場合にはFALSEを返します。</span></dt></dl></div></div><div class="sect1" title="9.5. ラスタバンド アクセサ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RasterBand_Accessors"></a>9.5. ラスタバンド アクセサ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_BandMetaData.html">ST_BandMetaData</a></span><span class="refpurpose"> — 指定したラスタバンドの基本的なメタデータを返します。バンド番号を指定しない場合には、1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_BandNoDataValue.html">ST_BandNoDataValue</a></span><span class="refpurpose"> — 指定されたバンドについてデータが無いことを表現する値を返します。バンド番号を指定しない場合には、1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_BandIsNoData.html">ST_BandIsNoData</a></span><span class="refpurpose"> — 指定したバンドがNODATA値で満たされている場合にはTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_BandPath.html">ST_BandPath</a></span><span class="refpurpose"> — ファイルシステムに格納されているバンドのシステムファイルパスを返します。バンド番号が指定されていない場合には1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_BandPixelType.html">ST_BandPixelType</a></span><span class="refpurpose"> — 指定したバンドのピクセルタイプを返します。バンド番号が指定されていない場合には、1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_HasNoBand.html">ST_HasNoBand</a></span><span class="refpurpose"> — 指定したバンド番号のバンドが無い場合にTRUEを返します。バンド番号を指定していない場合には、1番と仮定します。</span></dt></dl></div></div><div class="sect1" title="9.6. ラスタピクセル アクセサとセッター"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Pixel_Accessors"></a>9.6. ラスタピクセル アクセサとセッター</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_PixelAsPolygon.html">ST_PixelAsPolygon</a></span><span class="refpurpose"> — 指定した行と列のピクセルの境界となるジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_PixelAsPolygons.html">ST_PixelAsPolygons</a></span><span class="refpurpose"> — 全てのピクセルについて境界となるジオメトリを、ピクセルごとのピクセル値とラスタ座標系のXとYとを付けて返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Value.html">ST_Value</a></span><span class="refpurpose"> — 指定したバンドの指定した列Xと行Yまたはジオメトリポイントに対応するピクセルの値を返します。
バンド番号は1始まりで、指定しない場合には1と仮定します。
<code class="varname">exclude_nodata_value</code>がFALSEに設定された場合には、<code class="varname">nodata</code>ピクセルを含む全てのピクセルがインタセクトするかが考慮され、値を返します。<code class="varname">exclude_nodata_value</code>を渡さない場合には、ラスタのメタデータから読みます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetValue.html">ST_SetValue</a></span><span class="refpurpose"> — 指定したバンドの指定した列Xと行Yのピクセルまたは指定したジオメトリポイントとインタセクトするピクセルの値を設定することから得られた変更結果を返します。バンド番号は1始まりで、指定しない場合には1と仮定します。</span></dt></dl></div></div><div class="sect1" title="9.7. ラスタ エディタ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Editors"></a>9.7. ラスタ エディタ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_SetGeoReference.html">ST_SetGeoReference</a></span><span class="refpurpose"> — 1回の関数呼び出しで6つの地理参照パラメータを設定します。値は空白区切りです。GDALまたはESRI書式の入力を受け付けます。デフォルトはGDALです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetRotation.html">ST_SetRotation</a></span><span class="refpurpose"> — ラスタの回転をラジアン単位で設定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetScale.html">ST_SetScale</a></span><span class="refpurpose"> — ピクセルのXとYのサイズを空間参照系の単位で設定します。数値はunits/pixelで、幅、高さの順です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetSkew.html">ST_SetSkew</a></span><span class="refpurpose"> — XとYのスキュー(回転パラメータ)を設定します。引数を1つだけ渡した場合には、XとYは同じ値に設定されます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetSRID.html">ST_SetSRID</a></span><span class="refpurpose"> — ラスタのSRIDを、指定した整数でspatial_ref_sysテーブルで定義されているSRIDに設定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetUpperLeft.html">ST_SetUpperLeft</a></span><span class="refpurpose"> — ラスタの左上隅の地理参照のX,Y座標値を設定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Resample.html">ST_Resample</a></span><span class="refpurpose"> — 指定したリサンプリングアルゴリズム、新しいピクセル範囲、グリッドの角、定義するか他のラスタから借りてきた地理参照属性を使ってリサンプリングを行います。新しいピクセル値は、最近傍補間('NearestNeighbor')、双線形補間('Bilinear')、3次補完('Cubic')、3次スプライン補完('CubicSpline')、ランツォシュ補完('Lanczos')、のいずれかのアルゴリズムを使います。デフォルトは最近傍補完です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Rescale.html">ST_Rescale</a></span><span class="refpurpose"> — スケール(ピクセルサイズ)だけを調整するリサンプリングを行います。新しいピクセル値は、最近傍補間('NearestNeighbor')、双線形補間('Bilinear')、3次補完('Cubic')、3次スプライン補完('CubicSpline')、ランツォシュ補完('Lanczos')、のいずれかのアルゴリズムを使います。デフォルトは最近傍補完です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Reskew.html">ST_Reskew</a></span><span class="refpurpose"> — スキュー(回転パラメタ)の調整によるリサンプリングを行います。新しいピクセル値は、最近傍補間('NearestNeighbor')、双線形補間('Bilinear')、3次補完('Cubic')、3次スプライン補完('CubicSpline')、ランツォシュ補完('Lanczos')、のいずれかのアルゴリズムを使います。デフォルトは最近傍補完です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SnapToGrid.html">ST_SnapToGrid</a></span><span class="refpurpose"> — グリッドにスナップさせるリサンプリングを行います。新しいピクセル値は、最近傍補間('NearestNeighbor')、双線形補間('Bilinear')、3次補完('Cubic')、3次スプライン補完('CubicSpline')、ランツォシュ補完('Lanczos')、のいずれかのアルゴリズムを使います。デフォルトは最近傍補完です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Transform.html">ST_Transform</a></span><span class="refpurpose"> — ラスタを既知の空間参照系から他の既知の空間参照系に、指定したリサンプリングアルゴリズムで投影変換します。選択肢は、最近傍補間('NearestNeighbor')、双線形補間('Bilinear')、3次補完('Cubic')、3次スプライン補完('CubicSpline')、ランツォシュ補完('Lanczos')、があります。デフォルトは最近傍補完です。</span></dt></dl></div></div><div class="sect1" title="9.8. ラスタバンド エディタ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RasterBand_Editors"></a>9.8. ラスタバンド エディタ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_SetBandNoDataValue.html">ST_SetBandNoDataValue</a></span><span class="refpurpose"> — 指定したバンドにNODATAを表現する値を設定します。バンドを指定しない場合は1番と仮定します。NODATA値を持たないようにするには、nodatavalue = NULLとします。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SetBandIsNoData.html">ST_SetBandIsNoData</a></span><span class="refpurpose"> — バンドのisnodataフラグをTRUEにします。ST_BandIsNoData(rast, band) != ST_BandIsNodata(rast, band, TRUE)となり、isnodataフラグが汚れている場合に使用することがあります。バンドを指定しない場合は1番バンドと仮定します。</span></dt></dl></div></div><div class="sect1" title="9.9. ラスタバンド統計情報と解析"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RasterBand_Stats"></a>9.9. ラスタバンド統計情報と解析</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_Count.html">ST_Count</a></span><span class="refpurpose"> — ラスタまたはラスタカバレッジの指定したバンドのピクセル数を返します。バンドを指定しない場合は1番と仮定します。exclude_nodata_valueをTRUEに設定している場合には、NODATA値と等しくないピクセルのみを数えます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Histogram.html">ST_Histogram</a></span><span class="refpurpose"> — ラスタまたはラスタカバレッジのビン範囲で分割したデータ分布をまとめるヒストグラムの集合を返します。ビン数を指定しない場合には自動計算されます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Quantile.html">ST_Quantile</a></span><span class="refpurpose"> — ラスタまたはラスタテーブルカバレッジのサンプルまたは母集団の分位数を計算します。値がラスタの25%,50%,75%にあるかを調べることができます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SummaryStats.html">ST_SummaryStats</a></span><span class="refpurpose"> — ラスタまたはラスタカバレッジの指定したバンドについて、ピクセル数、合計値、平均値、標準偏差、最小値、最大値からなる統計情報の概要を返します。バンドを指定しない場合は1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_ValueCount.html">ST_ValueCount</a></span><span class="refpurpose"> — 
ラスタ(またはラスタカバレッジの)指定されたバンドで、指定した値を持つピクセルを対象として、ピクセルバンド値とピクセル数からなるレコードの集合を返します。バンドを指定しない場合は1番と仮定します。デフォルトではNODATA値のピクセルは数えられず、ピクセルの他の値は出力され、ピクセルバンド値は最も近い整数に丸められます。</span></dt></dl></div></div><div class="sect1" title="9.10. ラスタ出力"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Outputs"></a>9.10. ラスタ出力</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_AsBinary.html">ST_AsBinary</a></span><span class="refpurpose"> — SRIDメタデータを持たないラスタのWell-Known Binary(WKB)表現を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_AsGDALRaster.html">ST_AsGDALRaster</a></span><span class="refpurpose"> — 
指定されたGDALラスタ書式でラスタタイルを返します。ラスタ書式はコンパイルしたライブラリが対応するものです。ライブラリが対応する書式の一覧を得るにはST_GDALRasters()を使います。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_AsJPEG.html">ST_AsJPEG</a></span><span class="refpurpose"> — ラスタの選択されたバンドを、単一のJoint Photographic Exports Group (JPEG)画像としてバイト配列で返します。バンドを指定せず、1バンドか3以上のバンドがある場合には、1番バンドを使用します。3バンドのみ指定した場合には、3バンドを使用し、RGBに対応付けます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_AsPNG.html">ST_AsPNG</a></span><span class="refpurpose"> — ラスタの選択されたバンドを、単一のportable network graphics(PNG)画像としてバイト配列で返します。バンドを指定せず、1バンドか3バンド化4バンドある場合には、全てのバンドを使用します。バンドを指定せず、2バンドか4以上のバンドがある場合には、1番バンドを使用します。対象バンドはRGBまたはRGBAに対応付けられます。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_AsTIFF.html">ST_AsTIFF</a></span><span class="refpurpose"> — ラスタの選択されたバンドを、単一のTIFF画像として返します。バンドを指定しない場合には、全てのバンドの使用を試みます。</span></dt></dl></div></div><div class="sect1" title="9.11. ラスタ処理"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Processing"></a>9.11. ラスタ処理</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_Box3D.html">Box3D</a></span><span class="refpurpose"> — ラスタを囲むボックスのbox3d表現を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Clip.html">ST_Clip</a></span><span class="refpurpose"> — 入力ジオメトリで切り取ったラスタを返します。バンドが指定されていない場合には、全てのバンドが返されます。<code class="varname">crop</code>が指定されていない場合はTRUEと仮定され、出力ラスタをクロップします。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_ConvexHull.html">ST_ConvexHull</a></span><span class="refpurpose"> — BandNoDataValueと等しいピクセル値を含むラスタの凸包ジオメトリを返します。一般的な形状で回転していないラスタでは、ST_Envelopeと同じ結果になります。不規則な形状をしているか回転しているラスタでのみ使います。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_DumpAsPolygons.html">ST_DumpAsPolygons</a></span><span class="refpurpose"> — 指定されたラスタバンドからgeomval(geom,val)行の集合を返します。バンドを指定しない場合のデフォルトは1番です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Envelope.html">ST_Envelope</a></span><span class="refpurpose"> — ラスタの範囲のポリゴン表現を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_HillShade.html">ST_HillShade</a></span><span class="refpurpose"> — 方位、高度、輝度、標高スケールの入力を使って、標高ラスタバンドの仮定的な光による明暗を返します。地形の視覚化に使用します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Aspect.html">ST_Aspect</a></span><span class="refpurpose"> — 標高ラスタバンドの斜面方位を返します。地形解析に使います。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Slope.html">ST_Slope</a></span><span class="refpurpose"> — 標高ラスタバンドの傾斜角を返します。地形解析に使います。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Intersection.html">ST_Intersection</a></span><span class="refpurpose"> — 2つのラスタの共有部分またはベクタ化したラスタとジオメトリとのインタセクションを表現する、ラスタまたはジオメトリとピクセル値のペアの集合を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MapAlgebraExpr.html">ST_MapAlgebraExpr</a></span><span class="refpurpose"> — 1バンド版: 入力バンドに対する妥当なPostgreSQL代数演算で形成された、指定したピクセルタイプの1バンドのラスタを生成します。バンドを指定しない場合は1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MapAlgebraExpr2.html">ST_MapAlgebraExpr</a></span><span class="refpurpose"> — 2バンド版: 2つの入力バンドに対する妥当なPostgreSQL代数演算で形成された、指定したピクセルタイプの1バンドのラスタを生成します。バンドを指定しない場合はどちらも1番と仮定します。結果ラスタは、ひとつめのラスタのアラインメント(スケール、スキュー、ピクセル角位置)にあわされます。範囲は"extenttype"引数で定義されます。取りうる"extenttype"の値はINTERSECTION, UNION, FIRST, SECONDです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MapAlgebraFct.html">ST_MapAlgebraFct</a></span><span class="refpurpose"> — 1バンド版 - 入力バンドに対する妥当なPostgreSQL関数で形成された、指定したピクセルタイプの1バンドのラスタを生成します。バンドを指定しない場合は1番と仮定します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MapAlgebraFct2.html">ST_MapAlgebraFct</a></span><span class="refpurpose"> — 2ラスタ版 - 2つの入力バンドに対する妥当なPostgreSQL関数で形成された、指定したピクセルタイプの1バンドのラスタを生成します。バンドを指定しない場合は1番と仮定します。"extenttype"のデフォルトはINTERSECTIONです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_MapAlgebraFctNgb.html">ST_MapAlgebraFctNgb</a></span><span class="refpurpose"> — 1バンド版: ユーザ定義PostgreSQL関数を使用する最近傍地図代数関数です。入力ラスタバンドの近傍の値を与えたPL/pgSQLユーザ定義関数の結果からなるラスタを返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Polygon.html">ST_Polygon</a></span><span class="refpurpose"> — 
NODATA値でないピクセル値を持つピクセルの結合で形成されるポリゴンジオメトリを返します。バンド番号を設定しない場合には、デフォルトは1番バンドです。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Reclass.html">ST_Reclass</a></span><span class="refpurpose"> — 元のラスタから再分類したバンドタイプからなるラスタを生成します。nbandは変更するバンドです。nbandが指定されていない場合は1番と仮定します。他の全てのバンドは変更せずに返します。可視画像の書式としてより単純な描画を行うために、16BUIバンドを8BUIバンドに変換する、等のために使います。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Union.html">ST_Union</a></span><span class="refpurpose"> — ラスタタイルの集合を1バンドの単一のラスタに結合します。バンドを指定しない場合は1番と仮定します。結果ラスタの範囲は、集合全体の範囲となります。インタセクトする場合には、結果値はp_expressionで定義されます。p_expressionはLAST, MEAN, SUM, FIRST, MAX, MINで、デフォルトはLASTです。</span></dt></dl></div></div><div class="sect1" title="9.12. ラスタ処理組み込み関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Processing_Builtin_Functions"></a>9.12. ラスタ処理組み込み関数</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_Min4ma.html">ST_Min4ma</a></span><span class="refpurpose"> — 近傍における最小ピクセル値を計算するラスタ処理関数です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Max4ma.html">ST_Max4ma</a></span><span class="refpurpose"> — 近傍における最大ピクセル値を計算するラスタ処理関数です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Sum4ma.html">ST_Sum4ma</a></span><span class="refpurpose"> — 近傍におけるピクセル値の合計を計算するラスタ処理関数です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Mean4ma.html">ST_Mean4ma</a></span><span class="refpurpose"> — 近傍におけるピクセル値の平均を計算するラスタ処理関数です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Range4ma.html">ST_Range4ma</a></span><span class="refpurpose"> — 近傍におけるピクセル値の範囲合計を計算するラスタ処理関数です。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_Distinct4ma.html">ST_Distinct4ma</a></span><span class="refpurpose"> — 近傍における一意となるピクセル値の数を計算するラスタ処理関数です。

Raster processing function that calculates the number of unique pixel values in a neighborhood.</span></dt><dt><span class="refentrytitle"><a href="RT_ST_StdDev4ma.html">ST_StdDev4ma</a></span><span class="refpurpose"> — 近傍におけるピクセル値の標準偏差を計算するラスタ処理関数です。</span></dt></dl></div></div><div class="sect1" title="9.13. ラスタ演算子"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RT_Operators"></a>9.13. ラスタ演算子</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_Raster_Overlap.html">&amp;&amp;</a></span><span class="refpurpose"> — のバウンディングボックスがBのバウンディングボックスをオーバラップする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_Raster_OverLeft.html">&amp;&lt;</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスをオーバラップするか、Bのバウンディングボックスの左にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="RT_Raster_OverRight.html">&amp;&gt;</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスをオーバラップするか、Bのバウンディングボックスの右にある場合に<code class="varname">TRUE</code>を返します。</span></dt></dl></div></div><div class="sect1" title="9.14. ラスタ/ラスタバンドの空間関係関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Raster_Relationships"></a>9.14. ラスタ/ラスタバンドの空間関係関数</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="RT_ST_Intersects.html">ST_Intersects</a></span><span class="refpurpose"> — バンド番号が省略された場合はラスタの凸包を考慮するだけです。指定したバンドのNODATA値でない値を持つピクセルがインタセクトする場合のみTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="RT_ST_SameAlignment.html">ST_SameAlignment</a></span><span class="refpurpose"> — ラスタが同じスキュー、スケール、空間参照系を持つ場合にはTRUEを返し、そうでない場合は問題を詳述する通知とともにFALSEを返します。</span></dt></dl></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="PostGIS_HasBBox.html">戻る</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="geomval.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">PostGIS_HasBBox </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> geomval</td></tr></table></div></body></html>
