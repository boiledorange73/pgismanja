<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第8章 PostGISリファレンス</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="PostGIS 2.4.0 マニュアル"><link rel="up" href="index.html" title="PostGIS 2.4.0 マニュアル"><link rel="prev" href="performance_tips.html" title="第7章 性能向上に関する技法"><link rel="next" href="box2d_type.html" title="box2d"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第8章 PostGISリファレンス</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="performance_tips.html">戻る</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="box2d_type.html">次へ</a></td></tr></table><hr></div><div class="chapter" title="第8章 PostGISリファレンス"><div class="titlepage"><div><div><h2 class="title"><a name="reference"></a>第8章 PostGISリファレンス</h2></div></div></div><div class="toc"><p><b>目次</b></p><dl><dt><span class="sect1"><a href="reference.html#PostGIS_Types">8.1. PostgreSQL PostGIS Geometry/Geography/Box型</a></span></dt><dt><span class="sect1"><a href="reference.html#PostGIS_GUC">8.2. PostGIS GUC (Grand Unified Custom)変数</a></span></dt><dt><span class="sect1"><a href="reference.html#Management_Functions">8.3. 管理関数</a></span></dt><dt><span class="sect1"><a href="reference.html#Geometry_Constructors">8.4. ジオメトリ コンストラクタ</a></span></dt><dt><span class="sect1"><a href="reference.html#Geometry_Accessors">8.5. ジオメトリアクセサ</a></span></dt><dt><span class="sect1"><a href="reference.html#Geometry_Editors">8.6. ジオメトリエディタ</a></span></dt><dt><span class="sect1"><a href="reference.html#Geometry_Outputs">8.7. ジオメトリ出力</a></span></dt><dt><span class="sect1"><a href="reference.html#Operators">8.8. 演算子</a></span></dt><dt><span class="sect1"><a href="reference.html#Spatial_Relationships_Measurements">8.9. 空間関係関数と空間計測関数 </a></span></dt><dt><span class="sect1"><a href="reference.html#reference_sfcgal">8.10. SFCGAL関数</a></span></dt><dt><span class="sect1"><a href="reference.html#Geometry_Processing">8.11. ジオメトリ処理関数</a></span></dt><dt><span class="sect1"><a href="reference.html#Linear_Referencing">8.12. 線型参照</a></span></dt><dt><span class="sect1"><a href="reference.html#Temporal">8.13. 時間機能</a></span></dt><dt><span class="sect1"><a href="reference.html#Long_Transactions_Support">8.14. ロングトランザクション機能</a></span></dt><dt><span class="sect1"><a href="reference.html#Miscellaneous_Functions">8.15. その他の関数</a></span></dt><dt><span class="sect1"><a href="reference.html#Exceptional_Functions">8.16. 例外的関数</a></span></dt></dl></div><p>ここで示す関数はPostGISユーザが必要とすると思われる関数です。この他に、一般的なユーザが使わないPostGISオブジェクトに対して求められるサポート関数があります。</p><div class="note" title="注記" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>PostGISは、既存の名前付け方針からSQL-MM中心の方針への切り替えを開始しています。結果として、ユーザが知っていて愛用している関数の多くが標準空間型 (ST) プレフィクスを使うように名前変更されました。以前の関数はまだ有効ですが、更新された等価な関数があるものについては、この文書の一覧から外しています (訳注: 非推奨関数はPostGIS 2.0では基本的に外れています)。これらの関数は非推奨であり、将来のリリースでは削除されますので、*使わないでください*。</p></td></tr></table></div><div class="sect1" title="8.1. PostgreSQL PostGIS Geometry/Geography/Box型"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="PostGIS_Types"></a>8.1. PostgreSQL PostGIS Geometry/Geography/Box型</h2></div><div><div class="abstract" title="概要"><p class="title"><b>概要</b></p><p>本節では、PostGISによってインストールされるPostgreSQLデータ型を挙げます。特にユーザ定義関数をデザインする際に大変重要なキャストの挙動を記載しています。 </p><p>ある型が他の型に強制されることをキャストといいます。PostgreSQLは、ほとんどのデータベースと異なり、カスタム型のキャストの挙動と、キャストのために使われる関数を定義することができます。キャストは自動的に指定することができます。この場合は、otherfootypeでしか動作しない関数にmyfooを渡す場合で、自動キャストがある場合には、CAST(myfoo AS otherfootype)やmyfoo::otherfootypeというものを必要としません。 </p><p>自動キャストの挙動に頼る危険性は、関数をオーバロードするときに出てきます。たとえば、box2dを取るものとbox3dとを取るものがあるけれどもジオメトリをとるものが無いとします。どちらの関数とも、ジオメトリは両方に自動キャストするので、ジオメトリを使って良いことになります。-- しかし、あいまいな関数エラーで終わります。PostgreSQLに強制的に選択させるために、CAST(mygeom As box3d)またはmygeom::box3dを実行します。</p><p><span class="emphasis"><em>少なくともPostgreSQL 8.3では</em></span>、全て文字列にキャストできます (おそらく、不思議な未知の型のためです)。オブジェクトを文字列にキャストするために表現するキャストの定義は必要ありません。</p></div></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="box2d_type.html">box2d</a></span><span class="refpurpose"> — xmin, ymin, xmax, ymaxで作られるボックス。しばしばジオメトリを囲む2次元のボックスを返すために使われます。 </span></dt><dt><span class="refentrytitle"><a href="box3d_type.html">box3d</a></span><span class="refpurpose"> — xmin, ymin, zmin, xmax, ymax, zmaxで作られるボックス。しばしばジオメトリやジオメトリのコレクションの3次元範囲を返すために使われます。 </span></dt><dt><span class="refentrytitle"><a href="geometry.html">geometry</a></span><span class="refpurpose"> — 平面空間データ型。</span></dt><dt><span class="refentrytitle"><a href="geometry_dump.html">geometry_dump</a></span><span class="refpurpose"> — geom (ジオメトリオブジェクトを保持)とpath[] (ダンプされたオブジェクト内のジオメトリの位置を保持する1次元配列)とからなる二つのフィールドを持つ空間データ型。</span></dt><dt><span class="refentrytitle"><a href="geography.html">geography</a></span><span class="refpurpose"> — 回転楕円体空間データ型。</span></dt></dl></div></div><div class="sect1" title="8.2. PostGIS GUC (Grand Unified Custom)変数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="PostGIS_GUC"></a>8.2. PostGIS GUC (Grand Unified Custom)変数</h2></div><div><div class="abstract" title="概要"><p class="title"><b>概要</b></p><p>本節では、PostGIS GUC (Grand Unified Custom)変数の一覧を上げます。これらは、グローバル、データベースごと、セッションごと、またはトランザクションごとに設定できます。グローバルまたはデータベースごとの設定が最善です。</p></div></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="postgis_backend.html">postgis.backend</a></span><span class="refpurpose"> — GEOSとSFCGALで重複する関数を提供するバックエンドです。GEOSまたはSFCGALを選択します。デフォルトはGEOSです。</span></dt><dt><span class="refentrytitle"><a href="postgis_gdal_datapath.html">postgis.gdal_datapath</a></span><span class="refpurpose"> — GDALのGDAL_DATAオプションの値を設定するためのコンフィギュレーションオプションです。設定しない場合には、GDAL_DATA環境変数が使われます。 </span></dt><dt><span class="refentrytitle"><a href="postgis_gdal_enabled_drivers.html">postgis.gdal_enabled_drivers</a></span><span class="refpurpose"> — PostGIS環境でGDALドライバを有効にするコンフィギュレーションオプションです。GDALコンフィギュレーション変数GDAL_SKIPに影響を与えます。 </span></dt><dt><span class="refentrytitle"><a href="postgis_enable_outdb_rasters.html">postgis.enable_outdb_rasters</a></span><span class="refpurpose"> — データベース外ラスタのバンドにアクセスできるようにする、真偽型のコンフィギュレーションオプション。 </span></dt></dl></div></div><div class="sect1" title="8.3. 管理関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Management_Functions"></a>8.3. 管理関数</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="AddGeometryColumn.html">AddGeometryColumn</a></span><span class="refpurpose"> — ジオメトリカラムを既存の属性テーブルに追加します。デフォルトでは、制約の定義でなく型の変更を使います。use_typmodにfalseを渡すと制約ベースの古い挙動で動作します。</span></dt><dt><span class="refentrytitle"><a href="DropGeometryColumn.html">DropGeometryColumn</a></span><span class="refpurpose"> — ジオメトリカラムを空間テーブルから除去します。</span></dt><dt><span class="refentrytitle"><a href="DropGeometryTable.html">DropGeometryTable</a></span><span class="refpurpose"> — テーブルとgeometry_columnsの当該テーブルへの参照の全てを削除します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Full_Version.html">PostGIS_Full_Version</a></span><span class="refpurpose"> — 完全なPostGISのバージョン情報とコンフィギュレーション情報を報告します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_GEOS_Version.html">PostGIS_GEOS_Version</a></span><span class="refpurpose"> — GEOSライブラリのバージョン番号を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Liblwgeom_Version.html">PostGIS_Lib_Version</a></span><span class="refpurpose"> — LibXML2ライブラリのバージョン番号を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_LibXML_Version.html">PostGIS_LibXML_Version</a></span><span class="refpurpose"> — LibXML2ライブラリのバージョン番号を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Lib_Build_Date.html">PostGIS_Lib_Build_Date</a></span><span class="refpurpose"> — PostGISライブラリのビルド日付を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Lib_Version.html">PostGIS_Lib_Version</a></span><span class="refpurpose"> — PostGISのバージョン番号を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_PROJ_Version.html">PostGIS_PROJ_Version</a></span><span class="refpurpose"> — PROJ4のバージョン番号を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Scripts_Build_Date.html">PostGIS_Scripts_Build_Date</a></span><span class="refpurpose"> — PostGISスクリプトのビルド日付を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Scripts_Installed.html">PostGIS_Scripts_Installed</a></span><span class="refpurpose"> — このデータベースにインストールしたPostGISスクリプトの版を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Scripts_Released.html">PostGIS_Scripts_Released</a></span><span class="refpurpose"> — インストールしたPostGISライブラリとともにリリースされたpostgis.sqlスクリプトのバージョン番号を返します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_Version.html">PostGIS_Version</a></span><span class="refpurpose"> — PostGISバージョン番号とコンパイルオプションを返します。</span></dt><dt><span class="refentrytitle"><a href="Populate_Geometry_Columns.html">Populate_Geometry_Columns</a></span><span class="refpurpose"> — ジオメトリカラムが型修飾子で定義されるか、適切な制約を持つことを確実にします。ジオメトリカラムが<code class="varname">geometry_columns</code>に正しく登録されることを確実にします。デフォルトでは、型修飾子によらないジオメトリカラムを型修飾子によるジオメトリカラムに変換します。以前の挙動にするには<code class="varname">use_typmod=false</code>とします。</span></dt><dt><span class="refentrytitle"><a href="UpdateGeometrySRID.html">UpdateGeometrySRID</a></span><span class="refpurpose"> — ジオメトリカラムの全てのフィーチャーのSRID、geometry_columnsメタデータとSRIDテーブル制約を更新します。制約付きの場合には、制約が新しいSRID制約に更新されます。型定義付きの場合は、型定義が変更されます。</span></dt></dl></div></div><div class="sect1" title="8.4. ジオメトリ コンストラクタ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Geometry_Constructors"></a>8.4. ジオメトリ コンストラクタ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_BdPolyFromText.html">ST_BdPolyFromText</a></span><span class="refpurpose"> — マルチラインストリングのWell-Known Text表現による、閉じたラインストリングの任意のコレクションからポリゴンを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_BdMPolyFromText.html">ST_BdMPolyFromText</a></span><span class="refpurpose"> — マルチラインストリングのWell-Known Text表現による、閉じたラインストリングの任意のコレクションからマルチポリゴンを構築します。</span></dt><dt><span class="refentrytitle"><a href="ST_Box2dFromGeoHash.html">ST_Box2dFromGeoHash</a></span><span class="refpurpose"> — GeoHash文字列からBOX2Dを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeogFromText.html">ST_GeogFromText</a></span><span class="refpurpose"> — Well-Known Text表現または拡張WKTから指定したジオグラフィ値を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_GeographyFromText.html">ST_GeographyFromText</a></span><span class="refpurpose"> — Well-Known Text表現または拡張WKTから指定したジオグラフィ値を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_GeogFromWKB.html">ST_GeogFromWKB</a></span><span class="refpurpose"> — Well-Known Binaryジオメトリ表現(WKB)または拡張WKB(EWKB)からジオグラフィインスタンスを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromTWKB.html">ST_GeomFromTWKB</a></span><span class="refpurpose"> — TWKB ("<a class="ulink" href="https://github.com/TWKB/Specification/blob/master/twkb.md" target="_top">Tiny Well-Known Binary</a>")ジオメトリ表現からジオメトリインスタンスを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomCollFromText.html">ST_GeomCollFromText</a></span><span class="refpurpose"> — WKTのコレクションと与えられたSRIDからジオメトリのコレクションを生成します。SRIDが与えられていない場合は0とします。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromEWKB.html">ST_GeomFromEWKB</a></span><span class="refpurpose"> — 拡張Well-Known Binary表現 (EWKB)から指定したST_Geometry値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromEWKT.html">ST_GeomFromEWKT</a></span><span class="refpurpose"> — 拡張Well-Known Text表現 (EWKT)から指定されたST_Geometry値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeometryFromText.html">ST_GeometryFromText</a></span><span class="refpurpose"> — Well-Knwon Text表現 (WKT)から指定したST_Geometry値を返します。これはST_GeomFromTextの別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromGeoHash.html">ST_GeomFromGeoHash</a></span><span class="refpurpose"> — GeoHash文字列からジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromGML.html">ST_GeomFromGML</a></span><span class="refpurpose"> — GML表現からPostGISジオメトリオブジェクトを出力します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromGeoJSON.html">ST_GeomFromGeoJSON</a></span><span class="refpurpose"> — ジオメトリのGeoJSON表現を入力として、PostGISジオメトリオブジェクトを出力します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromKML.html">ST_GeomFromKML</a></span><span class="refpurpose"> — ジオメトリのKML表現の入力をとり、PostGISジオメトリオブジェクトを出力します。</span></dt><dt><span class="refentrytitle"><a href="ST_GMLToSQL.html">ST_GMLToSQL</a></span><span class="refpurpose"> — GML表現から指定したST_Geometry値を返します。これはST_GeomFromGMLの別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromText.html">ST_GeomFromText</a></span><span class="refpurpose"> — Well-Known Text表現 (WKT)から指定したST_Geometryを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeomFromWKB.html">ST_GeomFromWKB</a></span><span class="refpurpose"> — Well-Knwon Binaryジオメトリ表現 (WKB)と任意パラメタのSRIDからジオメトリインスタンスを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_LineFromEncodedPolyline.html">ST_LineFromEncodedPolyline</a></span><span class="refpurpose"> — エンコード化ポリラインからラインストリングを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_LineFromMultiPoint.html">ST_LineFromMultiPoint</a></span><span class="refpurpose"> — マルチポイントジオメトリからラインストリングを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_LineFromText.html">ST_LineFromText</a></span><span class="refpurpose"> — WKT表現と与えられたSRIDからジオメトリを生成します。SRIDが与えられていない場合は0 (不明)となります。</span></dt><dt><span class="refentrytitle"><a href="ST_LineFromWKB.html">ST_LineFromWKB</a></span><span class="refpurpose"> — WKB表現と与えられたSRIDから<code class="varname">LINESTRING</code>を生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_LinestringFromWKB.html">ST_LinestringFromWKB</a></span><span class="refpurpose"> — WKB表現と与えられたSRIDからジオメトリを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_MakeBox2D.html">ST_MakeBox2D</a></span><span class="refpurpose"> — 与えられたポイントジオメトリから定義されるBOX2Dを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_3DMakeBox.html">ST_3DMakeBox</a></span><span class="refpurpose"> — 与えられた3次元ポイントジオメトリから定義されるBOX3Dを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_MakeLine.html">ST_MakeLine</a></span><span class="refpurpose"> — ポイント、マルチポイント、ラインジオメトリからラインストリングを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_MakeEnvelope.html">ST_MakeEnvelope</a></span><span class="refpurpose"> — 与えられた最小値と最大値から長方形ポリゴンを生成します。入力値はSRIDで指定された空間参照系でなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_MakePolygon.html">ST_MakePolygon</a></span><span class="refpurpose"> — 与えられた外環で形成されるポリゴンを生成します。入力ジオメトリは閉じたラインストリングでなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_MakePoint.html">ST_MakePoint</a></span><span class="refpurpose"> — Creates a 2D,3DZ or 4D point geometry.</span></dt><dt><span class="refentrytitle"><a href="ST_MakePointM.html">ST_MakePointM</a></span><span class="refpurpose"> — X, Y, M座標を持つポイントジオメトリを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_MLineFromText.html">ST_MLineFromText</a></span><span class="refpurpose"> — WKT表現から指定したST_MultiLineString値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_MPointFromText.html">ST_MPointFromText</a></span><span class="refpurpose"> — Well-Known Text (WKT)表現と与えられたSRIDからジオメトリを生成します。SRIDを与えない場合は0 (不明)となります。</span></dt><dt><span class="refentrytitle"><a href="ST_MPolyFromText.html">ST_MPolyFromText</a></span><span class="refpurpose"> — Well-Known Text (WKT)表現と与えられたSRIDからマルチポリゴンを生成します。SRIDを与えない場合は0 (不明)となります。</span></dt><dt><span class="refentrytitle"><a href="ST_Point.html">ST_Point</a></span><span class="refpurpose"> — 与えられた座標値のST_Pointを返します。ST_MakePointのOGC別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_PointFromGeoHash.html">ST_PointFromGeoHash</a></span><span class="refpurpose"> — GeoHash文字列からポイントを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_PointFromText.html">ST_PointFromText</a></span><span class="refpurpose"> — WKTと与えられたSRIDからポイントジオメトリを生成します。SRIDが与えられていない場合は0 (不明)とします。</span></dt><dt><span class="refentrytitle"><a href="ST_PointFromWKB.html">ST_PointFromWKB</a></span><span class="refpurpose"> — WKBと与えられたSRIDからジオメトリを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_Polygon.html">ST_Polygon</a></span><span class="refpurpose"> — 指定されたラインストリングとSRIDからポリゴンを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_PolygonFromText.html">ST_PolygonFromText</a></span><span class="refpurpose"> — Well-Known Text (WKT)表現と与えられたSRIDからジオメトリを生成します。SRIDを与えない場合は0 (不明)となります。</span></dt><dt><span class="refentrytitle"><a href="ST_WKBToSQL.html">ST_WKBToSQL</a></span><span class="refpurpose"> — Well-Known Binary表現 (WKB)からST_Geometry値を生成します。これはSRIDを取らないST_GeomFromWKBの別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_WKTToSQL.html">ST_WKTToSQL</a></span><span class="refpurpose"> — Well-Knwon Text表現 (WKT)から指定したST_Geometry値を返します。これはST_GeomFromTextの別名です。</span></dt></dl></div></div><div class="sect1" title="8.5. ジオメトリアクセサ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Geometry_Accessors"></a>8.5. ジオメトリアクセサ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="GeometryType.html">GeometryType</a></span><span class="refpurpose"> — ジオメトリ型を'LINESTRING', 'POLYGON', 'MULTIPOINT'などの文字列で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Boundary.html">ST_Boundary</a></span><span class="refpurpose"> — ジオメトリの組み合わせ境界の閉包を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_CoordDim.html">ST_CoordDim</a></span><span class="refpurpose"> — ST_Geometry値の座標次元を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Dimension.html">ST_Dimension</a></span><span class="refpurpose"> — ジオメトリの固有次元を返します。ジオメトリは座標次元以下でなければなりません。 </span></dt><dt><span class="refentrytitle"><a href="ST_EndPoint.html">ST_EndPoint</a></span><span class="refpurpose"> — <code class="varname">LINESTRING</code>の最後のポイントを<code class="varname">POINT</code>で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Envelope.html">ST_Envelope</a></span><span class="refpurpose"> — ジオメトリの浮動小数点数 (float8)バウンディングボックスを表現するジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_BoundingDiagonal.html">ST_BoundingDiagonal</a></span><span class="refpurpose"> — 与えられたジオメトリのバウンディングボックスの対角線を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_ExteriorRing.html">ST_ExteriorRing</a></span><span class="refpurpose"> — <code class="varname">POLYGON</code>の外環を表現するラインストリングを返します。ジオメトリがポリゴンでない場合はNULLを返します。マルチポリゴンでは動作しません。</span></dt><dt><span class="refentrytitle"><a href="ST_GeometryN.html">ST_GeometryN</a></span><span class="refpurpose"> — GEOMETRYCOLLECTION, (MULTI)POINT, (MULTI)LINESTRING, MULTICURVE, (MULTI)POLYGON, POLYHEDRALSURFACEの場合には、1始まりでN番目のジオメトリを返します。それ以外の場合にはNULLを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeometryType.html">ST_GeometryType</a></span><span class="refpurpose"> — ST_Geometry値のジオメトリ型を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_InteriorRingN.html">ST_InteriorRingN</a></span><span class="refpurpose"> — ポリゴンのN番目の内環を返します。ジオメトリがポリゴンでないかNが範囲外の場合はNULLを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_IsPolygonCCW.html">ST_IsCollection </a></span><span class="refpurpose"> — Returns true if all exterior rings are oriented counter-clockwise and all interior rings are oriented clockwise. </span></dt><dt><span class="refentrytitle"><a href="ST_IsPolygonCW.html">ST_IsCollection </a></span><span class="refpurpose"> — Returns true if all exterior rings are oriented clockwise and all interior rings are oriented counter-clockwise. </span></dt><dt><span class="refentrytitle"><a href="ST_IsClosed.html">ST_IsClosed</a></span><span class="refpurpose"> — <code class="varname">LINESTRING</code>の始点と終点が一致する場合に<code class="varname">TRUE</code>を返します。多面体サーフェスの場合は閉じているかどうか (ボリュームであるかどうか)を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_IsCollection.html">ST_IsCollection</a></span><span class="refpurpose"> — 引数がコレクション(<code class="varname">MULTI*</code>, <code class="varname">GEOMETRYCOLLECTION</code>, ...)の場合に<code class="varname">TRUE</code>を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_IsEmpty.html">ST_IsEmpty</a></span><span class="refpurpose"> — ジオメトリが、空のジオメトリコレクション、ポリゴン、ポイント等の場合に、trueを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_IsRing.html">ST_IsRing</a></span><span class="refpurpose"> — <code class="varname">LINESTRING</code>が閉じていて、かつ単純である場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_IsSimple.html">ST_IsSimple</a></span><span class="refpurpose"> — ジオメトリが自己インタセクションや自己接触のような異常な幾何学ポイントを持っていない場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_IsValid.html">ST_IsValid</a></span><span class="refpurpose"> — ST_Geometryが整形されている場合には、<code class="varname">true</code>を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_IsValidReason.html">ST_IsValidReason</a></span><span class="refpurpose"> — ジオメトリが妥当か否かを示す文字列を返し、不正な場合は理由を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_IsValidDetail.html">ST_IsValidDetail</a></span><span class="refpurpose"> — ジオメトリが妥当か否かを示すvalid_detail (valid,reason,location)行を返します。不正である場合には、理由と位置を示します。</span></dt><dt><span class="refentrytitle"><a href="ST_M.html">ST_M</a></span><span class="refpurpose"> — ポイントのM座標値を返し、有効でないならNULLを返します。入力はポイントでなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_NDims.html">ST_NDims</a></span><span class="refpurpose"> — ジオメトリの座標次元をsmall intで返します。値は2, 3, 4のいずれかです。</span></dt><dt><span class="refentrytitle"><a href="ST_NPoints.html">ST_NPoints</a></span><span class="refpurpose"> — ジオメトリのポイント (頂点)数を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_NRings.html">ST_NRings</a></span><span class="refpurpose"> — ジオメトリがポリゴンまたはマルチポリゴンの場合、リング数を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_NumGeometries.html">ST_NumGeometries</a></span><span class="refpurpose"> — ジオメトリがジオメトリコレクションまたはマルチ系の場合はジオメトリの数を、単一のジオメトリの場合は1を返し、それ以外の場合はNULLを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_NumInteriorRings.html">ST_NumInteriorRings</a></span><span class="refpurpose"> — ポリゴンジオメトリの内環の数を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_NumInteriorRing.html">ST_NumInteriorRing</a></span><span class="refpurpose"> — ジオメトリ内のポリゴンの内環の数を返します。ST_NumInteriorRingsと同義です。 </span></dt><dt><span class="refentrytitle"><a href="ST_NumPatches.html">ST_NumPatches</a></span><span class="refpurpose"> — 多面体サーフェスのフェイス数を返します。多面体でないジオメトリの場合にはNULLを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_NumPoints.html">ST_NumPoints</a></span><span class="refpurpose"> — ST_LineStringまたはST_CircularStringのポイント数を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_PatchN.html">ST_PatchN</a></span><span class="refpurpose"> — ジオメトリがPOLYHEDRALSURFACEかPOLYHEDRALSURFACEMの場合には、1始まりでN番目のジオメトリ (フェイス)を返します。それ以外の場合には、NULLを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_PointN.html">ST_PointN</a></span><span class="refpurpose"> — ラインストリングまたは曲線ストリングのN番目の点を返します。負数はラインストリングの終端から逆方向に遡って数えます。ジオメトリにラインストリングが無い場合には、NULLを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Points.html">ST_Points</a></span><span class="refpurpose"> — ジオメトリの全ての座標値からなるマルチポイントを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_SRID.html">ST_SRID</a></span><span class="refpurpose"> — ST_Geometryのspatial_ref_sysテーブルで定義されている空間参照系の識別番号を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_StartPoint.html">ST_StartPoint</a></span><span class="refpurpose"> — <code class="varname">LINESTRING</code>の最初のポイントを<code class="varname">POINT</code>として返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Summary.html">ST_Summary</a></span><span class="refpurpose"> — ジオメトリについての要約文を返します。  </span></dt><dt><span class="refentrytitle"><a href="ST_X.html">ST_X</a></span><span class="refpurpose"> — ポイントのX座標値を返し、有効でないならNULLを返します。入力はポイントでなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_XMax.html">ST_XMax</a></span><span class="refpurpose"> — 2次元、3次元バウンディングボックスまたはジオメトリにおけるXの最大値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_XMin.html">ST_XMin</a></span><span class="refpurpose"> — 2次元、3次元バウンディングボックスまたはジオメトリにおけるXの最小値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Y.html">ST_Y</a></span><span class="refpurpose"> — ポイントのY座標値を返し、有効でないならNULLを返します。入力はポイントでなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_YMax.html">ST_YMax</a></span><span class="refpurpose"> — 2次元、3次元バウンディングボックスまたはジオメトリにおけるYの最大値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_YMin.html">ST_YMin</a></span><span class="refpurpose"> — 2次元、3次元バウンディングボックスまたはジオメトリにおけるYの最小値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Z.html">ST_Z</a></span><span class="refpurpose"> — ポイントのZ座標値を返し、有効でないならNULLを返します。入力はポイントでなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_ZMax.html">ST_ZMax</a></span><span class="refpurpose"> — 2次元、3次元バウンディングボックスまたはジオメトリにおけるZの最大値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Zmflag.html">ST_Zmflag</a></span><span class="refpurpose"> — ポイントのZM (次元の意味)フラグをsmall intで返します。値は 0=XY, 1=XYM, 2=XYZ, 3=XYZMとなります。</span></dt><dt><span class="refentrytitle"><a href="ST_ZMin.html">ST_ZMin</a></span><span class="refpurpose"> — 2次元、3次元バウンディングボックスまたはジオメトリにおけるZの最大値を返します。</span></dt></dl></div></div><div class="sect1" title="8.6. ジオメトリエディタ"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Geometry_Editors"></a>8.6. ジオメトリエディタ</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_AddPoint.html">ST_AddPoint</a></span><span class="refpurpose"> — Add a point to a LineString.</span></dt><dt><span class="refentrytitle"><a href="ST_Affine.html">ST_Affine</a></span><span class="refpurpose"> — Apply a 3d affine transformation to a geometry.</span></dt><dt><span class="refentrytitle"><a href="ST_Force2D.html">ST_Force2D</a></span><span class="refpurpose"> — ジオメトリをXYMモードに強制します。</span></dt><dt><span class="refentrytitle"><a href="ST_Force_3D.html">ST_Force3D</a></span><span class="refpurpose"> — ジオメトリをXYZモードに強制します。これはST_Force3DZの別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_Force_3DZ.html">ST_Force3DZ</a></span><span class="refpurpose"> — ジオメトリをXYZMモードに強制します。</span></dt><dt><span class="refentrytitle"><a href="ST_Force_3DM.html">ST_Force3DM</a></span><span class="refpurpose"> — ジオメトリをXYMモードに強制します。</span></dt><dt><span class="refentrytitle"><a href="ST_Force_4D.html">ST_Force4D</a></span><span class="refpurpose"> — ジオメトリをXYZMモードに強制します。 </span></dt><dt><span class="refentrytitle"><a href="ST_ForcePolygonCCW.html">ST_ForceCollection </a></span><span class="refpurpose"> — Orients all exterior rings counter-clockwise and all interior rings clockwise. </span></dt><dt><span class="refentrytitle"><a href="ST_Force_Collection.html">ST_ForceCollection</a></span><span class="refpurpose"> — ジオメトリをジオメトリコレクションに変換します。</span></dt><dt><span class="refentrytitle"><a href="ST_ForcePolygonCW.html">ST_ForceCollection </a></span><span class="refpurpose"> — Orients all exterior rings clockwise and all interior rings counter-clockwise. </span></dt><dt><span class="refentrytitle"><a href="ST_ForceSFS.html">ST_ForceSFS</a></span><span class="refpurpose"> — SFS 1.1ジオメトリタイプのみ使うようジオメトリに強制します。</span></dt><dt><span class="refentrytitle"><a href="ST_ForceRHR.html">ST_ForceRHR</a></span><span class="refpurpose"> — ポリゴンの頂点の方向を右回りに強制します。</span></dt><dt><span class="refentrytitle"><a href="ST_ForceCurve.html">ST_ForceCurve</a></span><span class="refpurpose"> — 該当する場合は、ジオメトリを曲線タイプに変換します。</span></dt><dt><span class="refentrytitle"><a href="ST_LineMerge.html">ST_LineMerge</a></span><span class="refpurpose"> — MULTILINESTRINGをまとめ合わせて形成されるラインストリング (またはその集合)を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_CollectionExtract.html">ST_CollectionExtract</a></span><span class="refpurpose"> — (マルチ)ジオメトリを与えると、指定したタイプの要素でのみ構成される (マルチ)ジオメトリを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_CollectionHomogenize.html">ST_CollectionHomogenize</a></span><span class="refpurpose"> — ジオメトリコレクションを与えると、「最も単純な」表現を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_Multi.html">ST_Multi</a></span><span class="refpurpose"> — 頂点の順序を逆にしたジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Normalize.html">ST_Normalize</a></span><span class="refpurpose"> — 頂点の順序を逆にしたジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_RemovePoint.html">ST_RemovePoint</a></span><span class="refpurpose"> — ラインストリングからポイントを削除します。オフセットは0はじまりです。</span></dt><dt><span class="refentrytitle"><a href="ST_Reverse.html">ST_Reverse</a></span><span class="refpurpose"> — 頂点の順序を逆にしたジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Rotate.html">ST_Rotate</a></span><span class="refpurpose"> — ジオメトリを、原点について反時計回りにrotRadiasnぶん回転させます。</span></dt><dt><span class="refentrytitle"><a href="ST_RotateX.html">ST_RotateX</a></span><span class="refpurpose"> — ジオメトリをX軸についてrotRadiansぶん回転させます。</span></dt><dt><span class="refentrytitle"><a href="ST_RotateY.html">ST_RotateY</a></span><span class="refpurpose"> — ジオメトリgeomAをY軸についてrotRadiansぶん回転させます。</span></dt><dt><span class="refentrytitle"><a href="ST_RotateZ.html">ST_RotateZ</a></span><span class="refpurpose"> — ジオメトリをZ軸についてrotRadiansぶん回転させます。</span></dt><dt><span class="refentrytitle"><a href="ST_Scale.html">ST_Scale</a></span><span class="refpurpose"> — Scale a geometry by given factors.</span></dt><dt><span class="refentrytitle"><a href="ST_Segmentize.html">ST_Segmentize</a></span><span class="refpurpose"> — Return a modified geometry/geography having no segment longer than the given distance.</span></dt><dt><span class="refentrytitle"><a href="ST_SetPoint.html">ST_SetPoint</a></span><span class="refpurpose"> — ラインストリングのN番目を与えられたポイントに置き換えます。インデクスは0はじまりです。</span></dt><dt><span class="refentrytitle"><a href="ST_SetSRID.html">ST_SetSRID</a></span><span class="refpurpose"> — ジオメトリのSRIDを特定の整数値に設定します。</span></dt><dt><span class="refentrytitle"><a href="ST_SnapToGrid.html">ST_SnapToGrid</a></span><span class="refpurpose"> — 入力ジオメトリの全ての点を規則的なグリッドにスナップします。 </span></dt><dt><span class="refentrytitle"><a href="ST_Snap.html">ST_Snap</a></span><span class="refpurpose"> — 入力ジオメトリの辺と頂点を参照ジオメトリの頂点にスナップします。 </span></dt><dt><span class="refentrytitle"><a href="ST_Transform.html">ST_Transform</a></span><span class="refpurpose"> — 整数パラメータで参照されるSRIDに座標変換し、新しいジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Translate.html">ST_Translate</a></span><span class="refpurpose"> — Translate a geometry by given offsets.</span></dt><dt><span class="refentrytitle"><a href="ST_TransScale.html">ST_TransScale</a></span><span class="refpurpose"> — Translate a geometry by given factors and offsets.</span></dt></dl></div></div><div class="sect1" title="8.7. ジオメトリ出力"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Geometry_Outputs"></a>8.7. ジオメトリ出力</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_AsBinary.html">ST_AsBinary</a></span><span class="refpurpose"> — ジオメトリ/ジオグラフィのSRIDメタデータのないWell-Known Binary (WKB)表現を返します</span></dt><dt><span class="refentrytitle"><a href="ST_AsEncodedPolyline.html">ST_AsEncodedPolyline</a></span><span class="refpurpose"> — ラインストリングジオメトリから符号化したポリラインを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsEWKB.html">ST_AsEWKB</a></span><span class="refpurpose"> — ジオメトリのSRIDメタデータが付いたWell-Known Binary (WKB)表現を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsEWKT.html">ST_AsEWKT</a></span><span class="refpurpose"> — ジオメトリのSRIDメタデータが付いたWell-Known Text (WKT)表現を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsGeoJSON.html">ST_AsGeoJSON</a></span><span class="refpurpose"> — GeoJSON要素としてジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsGML.html">ST_AsGML</a></span><span class="refpurpose"> — GML第2版または第3版としてジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsHEXEWKB.html">ST_AsHEXEWKB</a></span><span class="refpurpose"> — ジオメトリのHEXEWKB表現を (文字列として)返します。リトルエンディアン (NDR)またはビッグエンディアン (XDR)のどちらかのエンコーディングを使います。</span></dt><dt><span class="refentrytitle"><a href="ST_AsKML.html">ST_AsKML</a></span><span class="refpurpose"> — ジオメトリをKML要素で返します。いくつかの形式があります。デフォルトはversion=2, precision=15です。</span></dt><dt><span class="refentrytitle"><a href="ST_AsLatLonText.html">ST_AsLatLonText</a></span><span class="refpurpose"> — 与えられたポイントの度・分・秒表現を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsSVG.html">ST_AsSVG</a></span><span class="refpurpose"> — ジオメトリまたはジオグラフィで与えられたSVGパスデータによるジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsText.html">ST_AsText</a></span><span class="refpurpose"> — ジオメトリ/ジオグラフィのSRIDメタデータのないWell-Known Text (WKT)表現を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsTWKB.html">ST_AsTWKB</a></span><span class="refpurpose"> — TWKB (Tiny Well-Known Binary)としてジオメトリを出力します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsX3D.html">ST_AsX3D</a></span><span class="refpurpose"> — ジオメトリをX3Dノード要素書式　(ISO-IEC-19776-1.2-X3DEncodings-XML)で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_GeoHash.html">ST_GeoHash</a></span><span class="refpurpose"> — ジオメトリのGeoHash表現を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsGeobuf.html">ST_AsGeobuf</a></span><span class="refpurpose"> — 行集合のGeobuf表現を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsMVTGeom.html">ST_AsMVTGeom</a></span><span class="refpurpose"> — ジオメトリを<a class="ulink" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a>の座標空間に変換します。</span></dt><dt><span class="refentrytitle"><a href="ST_AsMVT.html">ST_AsMVT</a></span><span class="refpurpose"> — 行集合の<a class="ulink" href="https://www.mapbox.com/vector-tiles/" target="_top">Mapbox Vector Tile</a>表現を返します。</span></dt></dl></div></div><div class="sect1" title="8.8. 演算子"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Operators"></a>8.8. 演算子</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="geometry_overlaps.html">&amp;&amp;</a></span><span class="refpurpose"> — Aの2次元バウンディングボックスがBの2次元バウンディングボックスとインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="overlaps_geometry_box2df.html">&amp;&amp;(geometry,box2df)</a></span><span class="refpurpose"> — ジオメトリの (キャッシュされている)2次元バウンディングボックスが単精度浮動小数点数による2次元バウンディングボックスとインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="overlaps_box2df_geometry.html">&amp;&amp;(box2df,geometry)</a></span><span class="refpurpose"> — 単精度浮動小数点数による2次元バウンディングボックスがジオメトリの (キャッシュされている)2次元バウンディングボックスとインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="overlaps_box2df_box2df.html">&amp;&amp;(box2df,box2df)</a></span><span class="refpurpose"> — 二つの単精度浮動小数点数による2次元バウンディングボックス (BOX2DF)が相互にインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="geometry_overlaps_nd.html">&amp;&amp;&amp;</a></span><span class="refpurpose"> — Aのn次元バウンディングボックスがBのn次元バウンディングボックスとインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="overlaps_nd_geometry_gidx.html">&amp;&amp;&amp;(geometry,gidx)</a></span><span class="refpurpose"> — ジオメトリの (キャッシュされている)n次元バウンディングボックスが単精度浮動小数点数によるn次元バウンディングボックス (GIDX)とインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="overlaps_nd_gidx_geometry.html">&amp;&amp;&amp;(gidx,geometry)</a></span><span class="refpurpose"> — 単精度浮動小数点数によるn次元バウンディングボックス (GIDX)がジオメトリの (キャッシュされている)n次元バウンディングボックスとインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="overlaps_nd_gidx_gidx.html">&amp;&amp;&amp;(gidx,gidx)</a></span><span class="refpurpose"> — 二つの単精度浮動小数点数によるn次元バウンディングボックス (GIDX)が相互にインタセクトする場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Overleft.html">&amp;&lt;</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスをオーバラップするか、Bのバウンディングボックスの左にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Overbelow.html">&amp;&lt;|</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスをオーバラップするか、Bのバウンディングボックスの下にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Overright.html">&amp;&gt;</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスをオーバラップするか、Bのバウンディングボックスの右にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Left.html">&lt;&lt;</a></span><span class="refpurpose"> — Aのバウンダリボックスが、厳密にBのバウンダリボックスの左にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Below.html">&lt;&lt;|</a></span><span class="refpurpose"> — Aのバウンダリボックスが、厳密にBのバウンダリボックスの下にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_EQ.html">=</a></span><span class="refpurpose"> — <code class="varname">~=</code>演算子はジオメトリ/ジオグラフィAのバウンディングボックスがジオメトリ/ジオグラフィBのバウンディングボックスと同じ場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Right.html">&gt;&gt;</a></span><span class="refpurpose"> — Aのバウンダリボックスが、厳密にBのバウンダリボックスの右にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Contained.html">@</a></span><span class="refpurpose"> — AのバウンダリボックスがBのバウンダリボックスに含まれている場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="is_contained_geometry_box2df.html">@(geometry,box2df)</a></span><span class="refpurpose"> — ジオメトリの2次元バウンディングボックスが単精度浮動小数点数による2次元バウンディングボックス (BOX2DF)に包含される場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="is_contained_box2df_geometry.html">@(box2df,geometry)</a></span><span class="refpurpose"> — 単精度浮動小数点数による2次元バウンディングボックス (BOX2DF)がジオメトリの2次元バウンディングボックスに包含される場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="is_contained_box2df_box2df.html">@(box2df,box2df)</a></span><span class="refpurpose"> — 二つの単精度浮動小数点数によるn次元バウンディングボックス (GIDX)の一方がもう一方を包含する場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Overabove.html">|&amp;&gt;</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスをオーバラップするか、Bのバウンディングボックスの上にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Above.html">|&gt;&gt;</a></span><span class="refpurpose"> — Aのバウンダリボックスが、厳密にBのバウンダリボックスの上にある場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Contain.html">~</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスを含む場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="contains_geometry_box2df.html">~(geometry,box2df)</a></span><span class="refpurpose"> — ジオメトリの (キャッシュされている)2次元バウンディングボックスが単精度浮動小数点数によるn次元バウンディングボックス (GIDX)を包含する場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="contains_box2df_geometry.html">~(box2df,geometry)</a></span><span class="refpurpose"> — 単精度浮動小数点数による2次元バウンディングボックス (BOX2DF)をジオメトリの (キャッシュされている)2次元バウンディングボックスが包含する場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="contains_box2df_box2df.html">~(box2df,box2df)</a></span><span class="refpurpose"> — 二つの単精度浮動小数点数による2次元バウンディングボックス (BOX2DF)の一方がもう一方を包含する場合に<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Geometry_Same.html">~=</a></span><span class="refpurpose"> — AのバウンディングボックスがBのバウンディングボックスと同じ場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="geometry_distance_knn.html">&lt;-&gt;</a></span><span class="refpurpose"> — AとBの2次元距離を返します。 </span></dt><dt><span class="refentrytitle"><a href="geometry_distance_cpa.html">|=|</a></span><span class="refpurpose"> — AトラジェクトリとBトラジェクトリとの最接近する時の距離を返します。 </span></dt><dt><span class="refentrytitle"><a href="geometry_distance_box.html">&lt;#&gt;</a></span><span class="refpurpose"> — AのバウンディングボックスとBのバウンディングボックスの2次元距離を返します。 </span></dt><dt><span class="refentrytitle"><a href="geometry_distance_centroid_nd.html">&lt;&lt;-&gt;&gt;</a></span><span class="refpurpose"> — AのバウンディングボックスとBのバウンディングボックスのn次元距離を返します。 </span></dt><dt><span class="refentrytitle"><a href="geometry_distance_box_nd.html">&lt;&lt;#&gt;&gt;</a></span><span class="refpurpose"> — AのバウンディングボックスとBのバウンディングボックスのn次元距離を返します。 </span></dt></dl></div></div><div class="sect1" title="8.9. 空間関係関数と空間計測関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Spatial_Relationships_Measurements"></a>8.9. 空間関係関数と空間計測関数 </h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_3DClosestPoint.html">ST_3DClosestPoint</a></span><span class="refpurpose"> — g1上の、g2に最も近い3次元ポイントを返します。3次元最短線の一つ目のポイントです。 </span></dt><dt><span class="refentrytitle"><a href="ST_3DDistance.html">ST_3DDistance</a></span><span class="refpurpose"> — ジオメトリ型について、二つのジオメトリの、3次元の最小デカルト距離 (空間参照系に基づきます)を、投影法の単位で返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_3DDWithin.html">ST_3DDWithin</a></span><span class="refpurpose"> — 3次元 (XYZ)ジオメトリ型について、二つのジオメトリの3次元距離が指定した数の内にある場合にtrueを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_3DDFullyWithin.html">ST_3DDFullyWithin</a></span><span class="refpurpose"> — 3次元ジオメトリが他のジオメトリとの距離が指定した範囲内ならtrueを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_3DIntersects.html">ST_3DIntersects</a></span><span class="refpurpose"> — ジオメトリが3次元で「空間的にインタセクトする」場合にTRUEを返します。ポイント、ラインストリング、ポリゴン、多面体サーフェス (面)のみ対応します。SFCGALバックエンドによってTINも対応します。 </span></dt><dt><span class="refentrytitle"><a href="ST_3DLongestLine.html">ST_3DLongestLine</a></span><span class="refpurpose"> — 二つのジオメトリの3次元長が最長となるラインを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_3DMaxDistance.html">ST_3DMaxDistance</a></span><span class="refpurpose"> — ジオメトリ型について、二つのジオメトリの、3次元の最大デカルト距離 (空間参照系に基づきます)を、投影法の単位で返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_3DShortestLine.html">ST_3DShortestLine</a></span><span class="refpurpose"> — 二つのジオメトリの3次元長が最短となるラインを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Area.html">ST_Area</a></span><span class="refpurpose"> — ポリゴンまたはマルチポリゴンの場合にはサーフェスの面積を返します。ジオメトリ型の面積はSRIDに基づく単位です。ジオグラフィ型の面積は曲面上で計算され、単位は平方メートルです。</span></dt><dt><span class="refentrytitle"><a href="ST_Azimuth.html">ST_Azimuth</a></span><span class="refpurpose"> — pointAの鉛直線からPointBへの右回りの方位を北を基準にしたラジアン単位で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Centroid.html">ST_Centroid</a></span><span class="refpurpose"> — ジオメトリの幾何学的重心を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_ClosestPoint.html">ST_ClosestPoint</a></span><span class="refpurpose"> — g2に最も接近するg1上の2次元のポイントを返します。これは最短線の最初のポイントです。</span></dt><dt><span class="refentrytitle"><a href="ST_ClusterDBSCAN.html">ST_ClusterDBSCAN</a></span><span class="refpurpose"> — DBSCAN (ノイズ適用可能な密度に基づいた空間クラスタリング)アルゴリズムの2次元実装に基づいて、それぞれの入力ジオメトリが入るクラスタの整数識別子を返すウィンドウ関数です。</span></dt><dt><span class="refentrytitle"><a href="ST_ClusterIntersecting.html">ST_ClusterIntersecting</a></span><span class="refpurpose"> — 集約関数です。ジオメトリの集合の接続された要素の配列を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_ClusterKMeans.html">ST_ClusterKMeans</a></span><span class="refpurpose"> — 個々のジオメトリが入るクラスタの整数識別子を返すウィンドウ関数です。</span></dt><dt><span class="refentrytitle"><a href="ST_ClusterWithin.html">ST_ClusterWithin</a></span><span class="refpurpose"> — 集計関数です。ジオメトリコレクションの配列を返します。要素は、指定した距離以内となるよう分けられたジオメトリの集合です。</span></dt><dt><span class="refentrytitle"><a href="ST_Contains.html">ST_Contains</a></span><span class="refpurpose"> — Bの点がAの外部に無く、かつBの内部の少なくとも一つの点がAの内部にある場合に限って、TRUEを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_ContainsProperly.html">ST_ContainsProperly</a></span><span class="refpurpose"> — BがAの内部にインタセクトするが境界 (または外部)にインタセクトしない場合に、TRUEを返します。Aは自身には、ContainsProperlyではありませんが、Containsです。</span></dt><dt><span class="refentrytitle"><a href="ST_Covers.html">ST_Covers</a></span><span class="refpurpose"> — ジオメトリBにジオメトリAの外となるポイントが無い場合には、1 (TRUE)を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_CoveredBy.html">ST_CoveredBy</a></span><span class="refpurpose"> — ジオメトリ/ジオグラフィAの点がジオメトリ/ジオグラフィBの外に無い場合に、1 (TRUE)を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Crosses.html">ST_Crosses</a></span><span class="refpurpose"> — 与えられたジオメトリが共通の内部の点を持ち、かつそうでない点を持つ場合に、<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_LineCrossingDirection.html">ST_LineCrossingDirection</a></span><span class="refpurpose"> — 与えられた二つのラインストリングに関するクロスの種類を-3から3の区間の数で返します。0の場合はクロスしていません</span></dt><dt><span class="refentrytitle"><a href="ST_Disjoint.html">ST_Disjoint</a></span><span class="refpurpose"> — ジオメトリが「空間的にインタセクトし」ていない、すなわち、空間を共有していない場合に、TRUEを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_Distance.html">ST_Distance</a></span><span class="refpurpose"> — ジオメトリ型については、二つのジオメトリの、2次元の最小デカルト距離 (空間参照系に基づきます)を、投影法の単位で返します。ジオグラフィ型については、デフォルトでは、二つのジオメトリ間の測地距離をメートル単位で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_MinimumClearance.html">ST_MinimumClearance</a></span><span class="refpurpose"> — ジオメトリのクリアランスの最小値を返します。この値はジオメトリのロバスト性を示すものです。</span></dt><dt><span class="refentrytitle"><a href="ST_MinimumClearanceLine.html">ST_MinimumClearanceLine</a></span><span class="refpurpose"> — ジオメトリの最小クリアランスを示す、2点のラインストリングを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_HausdorffDistance.html">ST_HausdorffDistance</a></span><span class="refpurpose"> — 二つのジオメトリ間のハウスドルフ距離を返します。基本的にジオメトリが似ているかどうかを計測するものです。単位はジオメトリの空間参照系の単位です。</span></dt><dt><span class="refentrytitle"><a href="ST_FrechetDistance.html">ST_FrechetDistance</a></span><span class="refpurpose"> — 二つのジオメトリのフレシェ距離を返します。曲線の位置と点の並び順とを考慮に入れた曲線間の類似度を計測するものです。単位はジオメトリの空間参照系の単位です。</span></dt><dt><span class="refentrytitle"><a href="ST_MaxDistance.html">ST_MaxDistance</a></span><span class="refpurpose"> — 二つのジオメトリ間の2次元距離の最大値を、投影法の単位で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_DistanceSphere.html">ST_DistanceSphere</a></span><span class="refpurpose"> — 二つの経度緯度ジオメトリの間の最短距離をメートル単位で返します。SRIDで定義された回転楕円体に由来する半径となる球面を使います。<a class="xref" href="ST_Distance_Spheroid.html" title="ST_DistanceSpheroid">ST_DistanceSpheroid</a>より高速ですが、精度が悪くなります。PostGISの1.5より前の版ではポイント間の計測のみ実装していました。</span></dt><dt><span class="refentrytitle"><a href="ST_Distance_Spheroid.html">ST_DistanceSpheroid</a></span><span class="refpurpose"> — 指定した回転楕円体による、二つの経度緯度ジオメトリ間の最小距離を返します。PostGIS 1.5より前ではポイント間の計測のみ対応していました。</span></dt><dt><span class="refentrytitle"><a href="ST_DFullyWithin.html">ST_DFullyWithin</a></span><span class="refpurpose"> — 全てのジオメトリが指定したジオメトリから指定した距離内にある場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_DWithin.html">ST_DWithin</a></span><span class="refpurpose"> — ジオメトリが指定したジオメトリから指定した距離内にある場合にTRUEを返します。ジオメトリについては、距離は空間参照系で定義されている単位になります。ジオグラフィについては、メートル単位で、デフォルトではuse_spheroid=true　(回転楕円体を使った計算)となり、速いチェックをするにはuse_spheroid=falseとして球面を使って計算します。</span></dt><dt><span class="refentrytitle"><a href="ST_Equals.html">ST_Equals</a></span><span class="refpurpose"> — 与えられたジオメトリ表現が同じ場合にTRUEを返します。方向は無視されます。</span></dt><dt><span class="refentrytitle"><a href="ST_GeometricMedian.html">ST_GeometricMedian </a></span><span class="refpurpose"> — マルチポイントの幾何学的中央値を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_HasArc.html">ST_HasArc</a></span><span class="refpurpose"> — ジオメトリまたはジオメトリコレクションが曲線ストリングを含む場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Intersects.html">ST_Intersects</a></span><span class="refpurpose"> — ジオメトリ/ジオグラフィが「2次元空間で空間的にインタセクトする」 (空間に共有部分がある)場合にTRUEを返します。そうでない (非接続)場合はFALSEを返します。ジオグラフィについては、許容量は0.00001メートルです (近い点はインタセクトと考えられてしまいます)。 </span></dt><dt><span class="refentrytitle"><a href="ST_Length.html">ST_Length</a></span><span class="refpurpose"> — ジオメトリがLINESTRINGまたはMULTILINESTRINGの場合には、それらの2次元長を返します。ジオメトリでは、単位は空間参照系の単位です。ジオグラフィでは、メートル単位です (回転楕円体がデフォルトです)。</span></dt><dt><span class="refentrytitle"><a href="ST_Length2D.html">ST_Length2D</a></span><span class="refpurpose"> — LINESTRINGまたはMULTILINESTRINGに対して、ジオメトリの2次元長を返します。これは<code class="varname">ST_Length</code>の別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_3DLength.html">ST_3DLength</a></span><span class="refpurpose"> — LINESTRINGまたはMULTILINESTRINGに対して、ジオメトリの3次元長または2次元長を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_Length_Spheroid.html">ST_LengthSpheroid</a></span><span class="refpurpose"> — 回転楕円体上のジオメトリの2次元長/周囲長または3次元長/周囲長を計算します。これは、ジオメトリの座標が経度/緯度になっていて、投影変換を行わずに距離を求めたい場合に使います。</span></dt><dt><span class="refentrytitle"><a href="ST_Length2D_Spheroid.html">ST_Length2D_Spheroid</a></span><span class="refpurpose"> — 回転楕円体上のジオメトリの2次元長/周囲長を計算します。これは、ジオメトリの座標が経度/緯度になっていて、投影変換を行わずに距離を求めたい場合に使います。 </span></dt><dt><span class="refentrytitle"><a href="ST_LongestLine.html">ST_LongestLine</a></span><span class="refpurpose"> — 二つのジオメトリの2次元長が最長となるラインを返します。見つかったラインが複数ある場合は、最初のもののみ返します。返されるラインは常にg1側を始点、g2側を終点とします。この関数が返すラインの長さは、常に始点をg1に終点をg2にそれぞれ指定した場合のST_MaxDistanceが返す値と同じになります。</span></dt><dt><span class="refentrytitle"><a href="ST_OrderingEquals.html">ST_OrderingEquals</a></span><span class="refpurpose"> — 与えられたジオメトリが同じジオメトリを示し、ポイントの順序が同じである場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Overlaps.html">ST_Overlaps</a></span><span class="refpurpose"> — ジオメトリが共有空間を持ち、同じ次元で、かつ完全には一方に含まれていない場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Perimeter.html">ST_Perimeter</a></span><span class="refpurpose"> — ST_SrrfaceまたはST_MultiSurface (POLYGONまたはMULTIPOLYGON)の境界の長さの計測値を返します。ジオメトリでは単位は空間参照系によります。ジオグラフィではメートル単位になります。</span></dt><dt><span class="refentrytitle"><a href="ST_Perimeter2D.html">ST_Perimeter2D</a></span><span class="refpurpose"> — POLYGONまたはMULTIPOLYGONジオメトリの場合に、2次元周囲長を返します。これは、現在はST_Perimeterの別名です。</span></dt><dt><span class="refentrytitle"><a href="ST_3DPerimeter.html">ST_3DPerimeter</a></span><span class="refpurpose"> — POLYGONまたはMULTIPOLYGONジオメトリの場合には、3次元周囲長を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_PointOnSurface.html">ST_PointOnSurface</a></span><span class="refpurpose"> — サーフェス上にあることを保障された<code class="varname">POINT</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Project.html">ST_Project</a></span><span class="refpurpose"> — メートル単位の距離とラジアン単位の方位とを使って始点から算出された<code class="varname">POINT</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Relate.html">ST_Relate</a></span><span class="refpurpose"> — intersectionMatrixPatternの値について、二つのジオメトリの内部、境界、外部のインタセクションを見て、指定したジオメトリがもうひとつのジオメトリと空間的に関係している場合に、TRUEを返します。intersectionMatrixPatternが無い場合には、二つのジオメトリについての最大のintersectionMatrixPatternを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_RelateMatch.html">ST_RelateMatch</a></span><span class="refpurpose"> — intersectionMattrixPattern1がintersectionMatrixPattern2を含む場合にTRUEを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_ShortestLine.html">ST_ShortestLine</a></span><span class="refpurpose"> — 二つのジオメトリの2次元長が最短となるラインを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Touches.html">ST_Touches</a></span><span class="refpurpose"> — ジオメトリが共通のポイントを少なくとも一つ持ち、かつ内部でインタセクトしない場合に、<code class="varname">TRUE</code>を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Within.html">ST_Within</a></span><span class="refpurpose"> — ジオメトリAが完全にジオメトリBの内側にある場合にTRUEを返します。</span></dt></dl></div></div><div class="sect1" title="8.10. SFCGAL関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="reference_sfcgal"></a>8.10. SFCGAL関数</h2></div><div><div class="abstract" title="概要"><p class="title"><b>概要</b></p><p>SFCGALは、高度な2次元と3次元の関数を提供するCGALのC++ラッパです。堅牢性のために、ジオメトリの座標は正確な有理数表現を持ちます。 </p><p>このライブラリのインストール手順は、SFCGALウェブページ<a class="ulink" href="http://www.sfcgal.org" target="_top">http://www.sfcgal.org/</a>にあります。関数をロードするには、<code class="code">CREATE EXTENSION postgis_sfcgal;</code>とします。 </p><p>SFCGAL関数には標準の関数を置き換えるものがあります (ST_Intersects, ST_Intersection, ST_Difference, ST_Union, ST_Area, ST_Distance)。標準の関数とSFCGAL関数とを切り替えるには、次の二つのいずれかを実行します。</p><pre class="programlisting">SET postgis.backend = sfcgal;</pre><p>および </p><pre class="programlisting">SET postgis.backend = geos;</pre><p>

        </p></div></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="postgis_sfcgal_version.html">postgis_sfcgal_version</a></span><span class="refpurpose"> — 使用しているSFCGALの版を返します</span></dt><dt><span class="refentrytitle"><a href="ST_Extrude.html">ST_Extrude</a></span><span class="refpurpose"> — 関連するボリュームにサーフェスを押し出します。</span></dt><dt><span class="refentrytitle"><a href="ST_StraightSkeleton.html">ST_StraightSkeleton</a></span><span class="refpurpose"> — ジオメトリからストレートスケルトンを計算します。</span></dt><dt><span class="refentrytitle"><a href="ST_ApproximateMedialAxis.html">ST_ApproximateMedialAxis</a></span><span class="refpurpose"> — 面ジオメトリの近似的な中心軸を計算します。</span></dt><dt><span class="refentrytitle"><a href="ST_IsPlanar.html">ST_IsPlanar</a></span><span class="refpurpose"> — サーフェスが平面であるかないかをチェックします。</span></dt><dt><span class="refentrytitle"><a href="ST_Orientation.html">ST_Orientation</a></span><span class="refpurpose"> — サーフェスの方向を判定します。</span></dt><dt><span class="refentrytitle"><a href="ST_ForceLHR.html">ST_ForceLHR</a></span><span class="refpurpose"> — LHR (Left Hand Rule)方向に強制します。</span></dt><dt><span class="refentrytitle"><a href="ST_MinkowskiSum.html">ST_MinkowskiSum</a></span><span class="refpurpose"> — ミンコフスキー和を求めます。</span></dt><dt><span class="refentrytitle"><a href="ST_3DIntersection.html">ST_3DIntersection</a></span><span class="refpurpose"> — 3次元のインタセクトした (共有する)部分を計算します。</span></dt><dt><span class="refentrytitle"><a href="ST_3DDifference.html">ST_3DDifference</a></span><span class="refpurpose"> — 3次元の差分を計算します。</span></dt><dt><span class="refentrytitle"><a href="ST_3DUnion.html">ST_3DUnion</a></span><span class="refpurpose"> — 3次元の結合を計算します。</span></dt><dt><span class="refentrytitle"><a href="ST_3DArea.html">ST_3DArea</a></span><span class="refpurpose"> — 3次元の面ジオメトリの面積を計算します。立体の場合は0を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Tesselate.html">ST_Tesselate</a></span><span class="refpurpose"> — ポリゴンまたは多面体サーフェスのテッセレーションを計算し、TINまたはTINコレクションを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Volume.html">ST_Volume</a></span><span class="refpurpose"> — 3次元立体の体積を計算します。面ジオメトリは (閉じていても)0を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_MakeSolid.html">ST_MakeSolid</a></span><span class="refpurpose"> — ジオメトリを立体にキャストします。チェックはしません。妥当な立体を得るには、入力ジオメトリは閉じた多面体サーフェスか閉じたTINでなければなりません。</span></dt><dt><span class="refentrytitle"><a href="ST_IsSolid.html">ST_IsSolid</a></span><span class="refpurpose"> — ジオメトリが立体であるかどうかをテストします。妥当性チェックは行いません。</span></dt></dl></div></div><div class="sect1" title="8.11. ジオメトリ処理関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Geometry_Processing"></a>8.11. ジオメトリ処理関数</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_Buffer.html">ST_Buffer</a></span><span class="refpurpose"> — (T) このジオメトリからの距離が指定された距離以下となる点全てを表現するジオメトリを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_BuildArea.html">ST_BuildArea</a></span><span class="refpurpose"> — 与えられたジオメトリの構成ラインから面ジオメトリを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_ClipByBox2D.html">ST_ClipByBox2D</a></span><span class="refpurpose"> — 長方形内に落ちるジオメトリの一部を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Collect.html">ST_Collect</a></span><span class="refpurpose"> — 他のジオメトリのコレクションから、指定したST_Geometry値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_ConcaveHull.html">ST_ConcaveHull</a></span><span class="refpurpose"> — 凹包は、集合の範囲内におけるすべてのジオメトリーを囲む、できる限り凹となるジオメトリを表現するものです。収縮包装とみることができます。</span></dt><dt><span class="refentrytitle"><a href="ST_ConvexHull.html">ST_ConvexHull</a></span><span class="refpurpose"> — 凸包は与えられた集合の全てのジオメトリを含む最小の閉じた凸ジオメトリです。</span></dt><dt><span class="refentrytitle"><a href="ST_CurveToLine.html">ST_CurveToLine</a></span><span class="refpurpose"> — CIRCULARSTRING/CURVEPOLYGONをLINESTRING/POLYGONに変換します。</span></dt><dt><span class="refentrytitle"><a href="ST_DelaunayTriangles.html">ST_DelaunayTriangles</a></span><span class="refpurpose"> — 与えられたポイントの周りのドロネー三角形を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_Difference.html">ST_Difference</a></span><span class="refpurpose"> — ジオメトリBにインタセクトしないジオメトリAの部分を表現するジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Dump.html">ST_Dump</a></span><span class="refpurpose"> — ジオメトリg1から作られたgeometry_dump(geom, path)行の集合を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_DumpPoints.html">ST_DumpPoints</a></span><span class="refpurpose"> — ジオメトリを作る全ての点のgometry_dump(geom,path)行の集合を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_DumpRings.html">ST_DumpRings</a></span><span class="refpurpose"> — ポリゴンの外環と内環を表す<code class="varname">geometry_dump</code>行の集合を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_FlipCoordinates.html">ST_FlipCoordinates</a></span><span class="refpurpose"> — 与えられたジオメトリのX軸とY軸とを入れ替えたものを返します。緯度/経度のフィーチャーを構築して、これを訂正したい場合に使えます。</span></dt><dt><span class="refentrytitle"><a href="ST_GeneratePoints.html">ST_GeneratePoints</a></span><span class="refpurpose"> — ポリゴンまたはマルチポリゴンから、元の領域の内部の、乱数で決められた位置に置かれた点からなるマルチポイントに変換します。</span></dt><dt><span class="refentrytitle"><a href="ST_Intersection.html">ST_Intersection</a></span><span class="refpurpose"> — (T) geomAとgeomBの共有する部分を表現するジオメトリを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_LineToCurve.html">ST_LineToCurve</a></span><span class="refpurpose"> — LINESTRING/POLYGONをCIRCULARSTRINGかCURVEPOLYGONに変換します。</span></dt><dt><span class="refentrytitle"><a href="ST_MakeValid.html">ST_MakeValid</a></span><span class="refpurpose"> — 頂点を失うことなしに不正なジオメトリを妥当なジオメトリにしようと試みます。</span></dt><dt><span class="refentrytitle"><a href="ST_MemUnion.html">ST_MemUnion</a></span><span class="refpurpose"> — ST_Unionと同じですが、メモリフレンドリ (少ないメモリ使用、多いCPU時間)です。</span></dt><dt><span class="refentrytitle"><a href="ST_MinimumBoundingCircle.html">ST_MinimumBoundingCircle</a></span><span class="refpurpose"> — ジオメトリを完全に含む最小の円ポリゴンを返します。デフォルトでは、4分の1円に対して48区分を使用します。</span></dt><dt><span class="refentrytitle"><a href="ST_MinimumBoundingRadius.html">ST_MinimumBoundingRadius</a></span><span class="refpurpose"> — ジオメトリを完全に包含する最小円の中心ポイントと半径を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Polygonize.html">ST_Polygonize</a></span><span class="refpurpose"> — 集約関数。ジオメトリの集合のラインから形成されうるポリゴンを含むジオメトリコレクションを生成します。</span></dt><dt><span class="refentrytitle"><a href="ST_Node.html">ST_Node</a></span><span class="refpurpose"> — ラインストリングの集合にノードを作成します。 </span></dt><dt><span class="refentrytitle"><a href="ST_OffsetCurve.html">ST_OffsetCurve</a></span><span class="refpurpose"> — 与えられた距離と方面に入力ラインをずらしたラインを返します。中心線と平行する線を引く際に使えます。 </span></dt><dt><span class="refentrytitle"><a href="ST_RemoveRepeatedPoints.html">ST_RemoveRepeatedPoints</a></span><span class="refpurpose"> — 入力ジオメトリから重複ポイントを除いたものを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_SharedPaths.html">ST_SharedPaths</a></span><span class="refpurpose"> — 二つのLINESTRING/MULTILINESTRINGの入力が共有するパスのコレクションを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Shift_Longitude.html">ST_ShiftLongitude</a></span><span class="refpurpose"> — ジオメトリの座標値を-180度から180度の範囲と0度から360度の範囲に揃えます。</span></dt><dt><span class="refentrytitle"><a href="ST_WrapX.html">ST_WrapX</a></span><span class="refpurpose"> — ジオメトリをX値で回り込ませます。</span></dt><dt><span class="refentrytitle"><a href="ST_Simplify.html">ST_Simplify</a></span><span class="refpurpose"> — 与えられたジオメトリを「簡略化」したものを返します。Douglas-Peukerアルゴリズムを使用します。</span></dt><dt><span class="refentrytitle"><a href="ST_SimplifyPreserveTopology.html">ST_SimplifyPreserveTopology</a></span><span class="refpurpose"> — 与えられたジオメトリを「簡略化」したものを返します。Douglas-Peukerアルゴリズムを使用します。不正な派生ジオメトリ (特にポリゴン)の生成を回避します。</span></dt><dt><span class="refentrytitle"><a href="ST_SimplifyVW.html">ST_SimplifyVW</a></span><span class="refpurpose"> — Visvalingam-Whyattアルゴリズムを用いて、入力ジオメトリを「簡略化」したジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_SetEffectiveArea.html">ST_SetEffectiveArea</a></span><span class="refpurpose"> — 個々の頂点について有効範囲を設定し、M値として保存します。M値でフィルタリングすると、単純化したジオメトリを生成できます。 </span></dt><dt><span class="refentrytitle"><a href="ST_Split.html">ST_Split</a></span><span class="refpurpose"> — ジオメトリを分割したジオメトリのコレクションを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_SymDifference.html">ST_SymDifference</a></span><span class="refpurpose"> — AとBの、インタセクトしていない部分を表現するジオメトリを返します。対称と呼ばれるのは、ST_SymDifference(A,B) = ST_SymDifference(B,A) となるからです。</span></dt><dt><span class="refentrytitle"><a href="ST_Subdivide.html">ST_Subdivide</a></span><span class="refpurpose"> — 指定した数より多い頂点を持たないジオメトリの集合を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_SwapOrdinates.html">ST_SwapOrdinates</a></span><span class="refpurpose"> — 与えられたジオメトリにおいて与えられた座標の値を入れ替えたジオメトリを返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_Union.html">ST_Union</a></span><span class="refpurpose"> — ジオメトリの結合の点集合を表現するジオメトリを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_UnaryUnion.html">ST_UnaryUnion</a></span><span class="refpurpose"> — ST_Unionに似ていますが、ジオメトリ要素レベルで動作します。</span></dt><dt><span class="refentrytitle"><a href="ST_VoronoiLines.html">ST_VoronoiLines</a></span><span class="refpurpose"> — ジオメトリの頂点からボロノイ図のセル間の境界を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_VoronoiPolygons.html">ST_VoronoiPolygons</a></span><span class="refpurpose"> — ジオメトリの頂点からボロノイ図のセルを返します。</span></dt></dl></div></div><div class="sect1" title="8.12. 線型参照"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Linear_Referencing"></a>8.12. 線型参照</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_LineInterpolatePoint.html">ST_LineInterpolatePoint</a></span><span class="refpurpose"> — 線に沿った内挿点を返します。第2引数はfloat8で0から1の区間で、そのポイントが位置するラインストリングの総延長についての割合です。</span></dt><dt><span class="refentrytitle"><a href="ST_LineLocatePoint.html">ST_LineLocatePoint</a></span><span class="refpurpose"> — ラインストリング上の、与えたポイントへの最短点を、2次元長に対する割合として0から1の区間で返します。</span></dt><dt><span class="refentrytitle"><a href="ST_LineSubstring.html">ST_LineSubstring</a></span><span class="refpurpose"> — 次元長に対する割合で示された開始位置と終了位置で切り取られた部分ラインストリングを返します。第2引数と第3引数は、float8で0から1の区間です。</span></dt><dt><span class="refentrytitle"><a href="ST_LocateAlong.html">ST_LocateAlong</a></span><span class="refpurpose"> — 指定したM値に一致する要素からなる、派生ジオメトリコレクション値を返します。ポリゴン要素には対応していません。</span></dt><dt><span class="refentrytitle"><a href="ST_LocateBetween.html">ST_LocateBetween</a></span><span class="refpurpose"> — 指定したM値の範囲内にある要素からなる、派生ジオメトリコレクション値を返します。ポリゴン要素には対応していません。</span></dt><dt><span class="refentrytitle"><a href="ST_LocateBetweenElevations.html">ST_LocateBetweenElevations</a></span><span class="refpurpose"> — 指定したZ値の範囲内にある要素からなる、派生ジオメトリ (コレクション)値を返します。3次元、4次元のLINESTRINGSとMULTILINESTRINGSのみに対応しています。</span></dt><dt><span class="refentrytitle"><a href="ST_InterpolatePoint.html">ST_InterpolatePoint</a></span><span class="refpurpose"> — ジオメトリの、指定したポイントに近いポイントにおけるM値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_AddMeasure.html">ST_AddMeasure</a></span><span class="refpurpose"> — 始点と終点の間を線型補完した、M値を持つ派生ジオメトリを返します。</span></dt></dl></div></div><div class="sect1" title="8.13. 時間機能"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Temporal"></a>8.13. 時間機能</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_IsValidTrajectory.html">ST_IsValidTrajectory</a></span><span class="refpurpose"> — ジオメトリが妥当なトラジェクトリの場合には<code class="varname">true</code>を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_ClosestPointOfApproach.html">ST_ClosestPointOfApproach</a></span><span class="refpurpose"> — 二つのラインの最も近くなる内挿補間点のM値を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_DistanceCPA.html">ST_DistanceCPA</a></span><span class="refpurpose"> — 二つのトラジェクトリの最接近時の距離を返します。 </span></dt><dt><span class="refentrytitle"><a href="ST_CPAWithin.html">ST_CPAWithin</a></span><span class="refpurpose"> — トラジェクトリの最接近点が空間的な距離内にある場合にはTRUEを返します。 </span></dt></dl></div></div><div class="sect1" title="8.14. ロングトランザクション機能"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Long_Transactions_Support"></a>8.14. ロングトランザクション機能</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="AddAuth.html">AddAuth</a></span><span class="refpurpose"> — 現在のトランザクションで使われる認証トークンを追加します。</span></dt><dt><span class="refentrytitle"><a href="CheckAuth.html">CheckAuth</a></span><span class="refpurpose"> — 認証トークンに基づいて行の更新と削除を拒否/許可するテーブルのトリガを生成します。</span></dt><dt><span class="refentrytitle"><a href="DisableLongTransactions.html">DisableLongTransactions</a></span><span class="refpurpose"> — ロングトランザクション機能を無効にします。この関数によって、ロングトランザクション機能のためのメタデータテーブルが削除され、ロックチェックテーブルに付けられた全てのトリガが削除されます。</span></dt><dt><span class="refentrytitle"><a href="EnableLongTransactions.html">EnableLongTransactions</a></span><span class="refpurpose"> — ロングトランザクション機能を有効にします。この関数によって、必要なメタデータテーブルが生成されます。このセクションにある他の関数を呼ぶ前に、一度呼ぶ必要があります。二度呼んでも構いません。</span></dt><dt><span class="refentrytitle"><a href="LockRow.html">LockRow</a></span><span class="refpurpose"> — テーブルの指定した行についてロック/認証を設定します。</span></dt><dt><span class="refentrytitle"><a href="UnlockRows.html">UnlockRows</a></span><span class="refpurpose"> — 指定した認証IDが保持するロックを全て削除します。解放されたロックの数が返されます。</span></dt></dl></div><p>このモジュールとPL/pgSQL関数は、<a class="ulink" href="http://www.opengeospatial.org/standards/wfs" target="_top">Web Feature Service</a>仕様で求められているロングロックに対応しています。</p><div class="note" title="注記" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://www.postgresql.org/docs/current/static/transaction-iso.html" target="_top">serializable transaction level</a>を使わなければなりません。さもなくばロック機構が壊れます。</p></td></tr></table></div></div><div class="sect1" title="8.15. その他の関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Miscellaneous_Functions"></a>8.15. その他の関数</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="ST_Accum.html">ST_Accum</a></span><span class="refpurpose"> — 集約関数です。ジオメトリの配列を生成します。</span></dt><dt><span class="refentrytitle"><a href="Box2D.html">Box2D</a></span><span class="refpurpose"> — ジオメトリの最大範囲を表すBOX2Dを返します。</span></dt><dt><span class="refentrytitle"><a href="Box3D.html">Box3D</a></span><span class="refpurpose"> — ジオメトリの最大範囲を表すBOX3Dを返します。</span></dt><dt><span class="refentrytitle"><a href="ST_EstimatedExtent.html">ST_EstimatedExtent</a></span><span class="refpurpose"> — 与えられた空間テーブルの「見積もられた」範囲を返します。ジオメトリカラムの統計情報から見積もります。指定されていない場合は現在のスキーマが使われます。</span></dt><dt><span class="refentrytitle"><a href="ST_Expand.html">ST_Expand</a></span><span class="refpurpose"> — 入力ジオメトリのバウンディングボックスから全ての方向に拡張されたバウンディングボックスを返します。倍精度浮動小数点数を使います。</span></dt><dt><span class="refentrytitle"><a href="ST_Extent.html">ST_Extent</a></span><span class="refpurpose"> — ジオメトリのバウンディングボックスを返す集約関数です。</span></dt><dt><span class="refentrytitle"><a href="ST_3DExtent.html">ST_3DExtent</a></span><span class="refpurpose"> — ジオメトリのbox3Dバウンディングボックスを返す集約関数です。</span></dt><dt><span class="refentrytitle"><a href="Find_SRID.html">Find_SRID</a></span><span class="refpurpose"> — この関数の書式はfind_srid(a_db_schema, a_table, a_column)です。GEOMETRY_COLUMNSで検索して、指定したカラムのSRID整数値を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_MemSize.html">ST_MemSize</a></span><span class="refpurpose"> — ジオメトリが取る容量 (バイト単位)を返します。</span></dt><dt><span class="refentrytitle"><a href="ST_Point_Inside_Circle.html">ST_PointInsideCircle</a></span><span class="refpurpose"> — ポイントジオメトリがcenter_x, center_y , radiusで定義される円内にあるかどうかを見ます。</span></dt></dl></div></div><div class="sect1" title="8.16. 例外的関数"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Exceptional_Functions"></a>8.16. 例外的関数</h2></div></div></div><div class="toc"><dl><dt><span class="refentrytitle"><a href="PostGIS_AddBBox.html">PostGIS_AddBBox</a></span><span class="refpurpose"> — ジオメトリにバウンディングボックスを追加します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_DropBBox.html">PostGIS_DropBBox</a></span><span class="refpurpose"> — ジオメトリからバウンディングボックスのキャッシュを削除します。</span></dt><dt><span class="refentrytitle"><a href="PostGIS_HasBBox.html">PostGIS_HasBBox</a></span><span class="refpurpose"> — ジオメトリのバウンディングボックスがキャッシュされている場合にはTRUEを返し、他の場合にはFALSEを返します。</span></dt></dl></div><p>ここで示す関数は、データが何らかの理由で破損した場合にだけ使われる、使用頻度の低い関数です。これらの関数は破損のトラブルシューティングと通常の環境では決して起こらないことを訂正するために使われます。</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="performance_tips.html">戻る</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="box2d_type.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第7章 性能向上に関する技法 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> box2d</td></tr></table></div></body></html>
