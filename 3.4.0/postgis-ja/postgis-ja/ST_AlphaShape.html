<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ST_AlphaShape</title><link rel="stylesheet" type="text/css" href="docbook.css"><link rel="stylesheet" type="text/css" href="../style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="PostGIS 3.4.0 マニュアル"><link rel="up" href="reference.html#reference_sfcgal" title="7.21. SFCGAL関数"><link rel="prev" href="ST_3DUnion.html" title="ST_3DUnion"><link rel="next" href="ST_ApproximateMedialAxis.html" title="ST_ApproximateMedialAxis"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ST_AlphaShape</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ST_3DUnion.html">戻る</a> </td><th width="60%" align="center">7.21. SFCGAL関数</th><td width="20%" align="right"> <a accesskey="n" href="ST_ApproximateMedialAxis.html">次へ</a></td></tr></table></div><div class="refentry"><a name="ST_AlphaShape"></a><div class="titlepage"></div><div class="refnamediv"><h2>名前</h2><p>ST_AlphaShape — ジオメトリを囲むアルファシェイプを計算します。</p></div><div class="refsynopsisdiv"><h2>概要</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <b class="fsfunc">ST_AlphaShape</b>(</code>geometry <var class="pdparam">geom</var>, float  <var class="pdparam">alpha</var>, boolean  <var class="pdparam">allow_holes = false</var><code>)</code>;</p></div></div><div class="refsection"><a name="idp264129312"></a><h2>説明</h2><p>ジオメトリのポイントの<a class="ulink" href="https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%82%B7%E3%82%A7%E3%82%A4%E3%83%97" target="_top">アルファシェイプ</a>を計算します。アルファシェイプは (通常は)入力の頂点を全て含む凹ポリゴンジオメトリで、このジオメトリの頂点は入力頂点の部分集合です。アルファシェイプは入力ジオメトリのシェイプを<a class="link" href="ST_ConvexHull.html" title="ST_ConvexHull">凸包</a>で生成されるシェイプよりも適合したものにします。 </p><p>「適合度」は<code class="varname">alpha</code>パラメータで制御します。このパラメータは0から無限大の数を取ります。小さいα値では凹が増える結果になりますα値がデータ依存の値より大きいと入力の凸包が生成されます。 </p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>CGAL実装に従うと、α値は、アルファシェイプアルゴリズムで、入力ジオメトリのドロネー三角形を侵食するために使われる円の半径の<span class="emphasis"><em>2乗</em></span>です。詳細情報については<a class="ulink" href="https://doc.cgal.org/latest/Alpha_shapes_2/index.html#Chapter_2D_Alpha_Shapes" target="_top">CGAL Alpha-Shapes</a>をご覧下さい。元のアルファシェイプの定義と違います。元はα値を侵食円の半径と定義しています。 </p></td></tr></table></div><p>計算されたシェイプは<code class="varname">allow_holes</code>をTRUEに設定しない限りは穴を持ちません。 </p><p>この関数はジオメトリの凹包を<a class="xref" href="ST_ConcaveHull.html" title="ST_ConcaveHull">ST_ConcaveHull</a>と似た方法で効率的に計算しますが、CGALや異なるアルゴリズムを使います。 </p><p class="availability">Availability: 3.3.0 - SFCGAL &gt;= 1.4.1 が必要です。</p><p class="tag_sfcgal_required">
            <span class="inlinemediaobject"><img src="../images/check.png"></span> このメソッドにはSFCGALバックエンドが必要です。 </p></div><div class="refsection"><a name="idp264137632"></a><h2>例</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="../images/st_alphashape01.png"><div class="caption"><p>マルチポイントのアルファシェイプ (<a class="xref" href="ST_OptimalAlphaShape.html" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a>と同じ)</p></div></div></div><p>
         </p><pre class="programlisting">SELECT ST_AsText(ST_AlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),
                (88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),
                (81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
                (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
                (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
                (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
                (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry,80.2));</pre><p>
          </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,37 23,30 22,28 33,23 36,26 44,27 54,23 60,24 67,
          27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,76 88,75 84,83 72,85 71,88 58,89 53))</pre><p>
        </p><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="../images/st_alphashape02.png"><div class="caption"><p>マルチポイントのアルファシェイプで穴を許す (<a class="xref" href="ST_OptimalAlphaShape.html" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a>と同じ)</p></div></div></div><p>
            </p><pre class="programlisting">SELECT ST_AsText(ST_AlphaShape('MULTIPOINT((63 84),(76 88),(68 73),(53 18),(91 50),(81 70),(88 29),(24 82),(32 51),(37 23),(27 54),(84 19),(75 87),(44 42),(77 67),(90 30),(36 61),(32 65),(81 47),(88 58),(68 73),(49 95),(81 60),(87 50),
                (78 16),(79 21),(30 22),(78 43),(26 85),(48 34),(35 35),(36 40),(31 79),(83 29),(27 84),(52 98),(72 95),(85 71),
                (75 84),(75 77),(81 29),(77 73),(41 42),(83 72),(23 36),(89 53),(27 57),(57 97),(27 77),(39 88),(60 81),
                (80 72),(54 32),(55 26),(62 22),(70 20),(76 27),(84 35),(87 42),(82 54),(83 64),(69 86),(60 90),(50 86),(43 80),(36 73),
                (36 68),(40 75),(24 67),(23 60),(26 44),(28 33),(40 32),(43 19),(65 16),(73 16),(38 46),(31 59),(34 86),(45 90),(64 97))'::geometry, 100.1,true))</pre><p>
            </p><pre class="screen">POLYGON((89 53,91 50,87 42,90 30,88 29,84 19,78 16,73 16,65 16,53 18,43 19,37 23,30 22,28 33,23 36,26 44,27 54,23 60,24 67,27 77,24 82,26 85,34 86,39 88,45 90,49 95,52 98,57 97,64 97,72 95,76 88,75 84,83 72,85 71,88 58,89 53),
              (36 61,36 68,40 75,43 80,50 86,60 81,68 73,77 67,81 60,82 54,81 47,78 43,76 27,62 22,54 32,48 34,44 42,38 46,36 61))</pre><p>
    </p><p>
        </p><div class="informalfigure"><div class="mediaobject"><img src="../images/st_alphashape03.png"><div class="caption"><p>マルチポイントのアルファシェイプで穴を許す (<a class="xref" href="ST_ConcaveHull.html" title="ST_ConcaveHull">ST_ConcaveHull</a>と同じ)</p></div></div></div><p>
            </p><pre class="programlisting">SELECT ST_AlphaShape(
            'MULTIPOINT ((132 64), (114 64), (99 64), (81 64), (63 64), (57 49), (52 36), (46 20), (37 20), (26 20), (32 36), (39 55), (43 69), (50 84), (57 100), (63 118), (68 133), (74 149), (81 164), (88 180), (101 180), (112 180), (119 164), (126 149), (132 131), (139 113), (143 100), (150 84), (157 69), (163 51), (168 36), (174 20), (163 20), (150 20), (143 36), (139 49), (132 64), (99 151), (92 138), (88 124), (81 109), (74 93), (70 82), (83 82), (99 82), (112 82), (126 82), (121 96), (114 109), (110 122), (103 138), (99 151), (34 27), (43 31), (48 44), (46 58), (52 73), (63 73), (61 84), (72 71), (90 69), (101 76), (123 71), (141 62), (166 27), (150 33), (159 36), (146 44), (154 53), (152 62), (146 73), (134 76), (143 82), (141 91), (130 98), (126 104), (132 113), (128 127), (117 122), (112 133), (119 144), (108 147), (119 153), (110 171), (103 164), (92 171), (86 160), (88 142), (79 140), (72 124), (83 131), (79 118), (68 113), (63 102), (68 93), (35 45))'::geometry,102.2, true);</pre><p>
            </p><pre class="screen">POLYGON((134 80,136 75,130 63,135 45,132 44,126 28,117 24,110 24,98 24,80 27,82 39,72 51,60 48,56 34,52 52,42 50,
                34 54,39 66,40 81,34 90,36 100,40 116,36 123,39 128,51 129,58 132,68 135,74 142,78 147,86 146,96 146,
                108 142,114 132,112 126,112 116,116 110,120 108,125 108,128 106,125 96,132 87,134 80))</pre><p>
    </p></div><div class="refsection"><a name="idp264154400"></a><h2>関連情報</h2><p><a class="xref" href="ST_ConcaveHull.html" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="ST_OptimalAlphaShape.html" title="ST_OptimalAlphaShape">ST_OptimalAlphaShape</a></p></div></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ST_3DUnion.html">戻る</a> </td><td width="20%" align="center"><a accesskey="u" href="reference.html#reference_sfcgal">上に戻る</a></td><td width="40%" align="right"> <a accesskey="n" href="ST_ApproximateMedialAxis.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">ST_3DUnion </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> ST_ApproximateMedialAxis</td></tr></table></div></body></html>
