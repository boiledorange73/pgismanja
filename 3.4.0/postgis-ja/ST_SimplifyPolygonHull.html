<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ST_SimplifyPolygonHull</title><link rel="stylesheet" type="text/css" href="docbook.css"><link rel="stylesheet" type="text/css" href="../style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="PostGIS 3.4.0 マニュアル"><link rel="up" href="reference.html#Geometry_Processing" title="7.14. ジオメトリ処理関数"><link rel="prev" href="ST_SimplifyPreserveTopology.html" title="ST_SimplifyPreserveTopology"><link rel="next" href="ST_SimplifyVW.html" title="ST_SimplifyVW"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ST_SimplifyPolygonHull</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ST_SimplifyPreserveTopology.html">戻る</a> </td><th width="60%" align="center">7.14. ジオメトリ処理関数</th><td width="20%" align="right"> <a accesskey="n" href="ST_SimplifyVW.html">次へ</a></td></tr></table></div><div class="refentry"><a name="ST_SimplifyPolygonHull"></a><div class="titlepage"></div><div class="refnamediv"><h2>名前</h2><p>ST_SimplifyPolygonHull — ポリゴンジオメトリに対してトポロジを保存した状態で簡略化した外側または内側の凹包を計算します。</p></div><div class="refsynopsisdiv"><h2>概要</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <b class="fsfunc">ST_SimplifyPolygonHull</b>(</code>geometry  <var class="pdparam">param_geom</var>, float  <var class="pdparam">vertex_fraction</var>, boolean  <var class="pdparam">is_outer = true</var><code>)</code>;</p></div></div><div class="refsection"><a name="idp290512800"></a><h2>説明</h2><p>ポリゴンジオメトリに対してトポロジを保存した状態で簡略化した外側または内側の凹包を計算します。外側の凹包は入力ジオメトリを完全に覆います。内側の凹包は完全に入力ジオメトリに覆われます。返される結果は、入力ポリゴンの頂点の部分集合から形成されるポリゴンジオメトリです。MULTIPOLUGONと穴は処理され、結果は入力ジオメトリと同じ構造になります。 </p><p>頂点数の減少は<code class="varname">vertex_fraction</code>パラメータで制御できます。0から1の範囲を取ります。小さい値では簡略化が進み、頂点数が減り、凹性が下がります。外側の凹包も内側の凹包も、vertex_fraction値が1.0では、元のジオメトリが生成されます。0.0では、外側の凹包については凸包 (単一ポリゴンの場合)が生成され、内側の凹包については三角形が生成されます。</p><p>単純化処理では、頂点数が目標に達するまで、最も少ない面積を持つ凹の角を徐々に削除しています。これによりエッジがクロスするのを防ぎ、常に妥当なポリゴンジオメトリを返します。 </p><p>相対的に辺が長いジオメトリでより良い結果を得るには、次のように、辺の分割を行います。</p><p>GEOSモジュールで実現しています。</p><p class="availability">Availability: 3.3.0.</p><p class="geos_requirement">GEOS 3.11.0以上が必要です。</p></div><div class="refsection"><a name="idp290517280"></a><h2>例</h2><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="../images/st_simplifypolygonhull02.png"><div class="caption"><p>ポリゴンの外側の凹包</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  'POLYGON ((131 158, 136 163, 161 165, 173 156, 179 148, 169 140, 186 144, 190 137, 185 131, 174 128, 174 124, 166 119, 158 121, 158 115, 165 107, 161 97, 166 88, 166 79, 158 57, 145 57, 112 53, 111 47, 93 43, 90 48, 88 40, 80 39, 68 32, 51 33, 40 31, 39 34, 49 38, 34 38, 25 34, 28 39, 36 40, 44 46, 24 41, 17 41, 14 46, 19 50, 33 54, 21 55, 13 52, 11 57, 22 60, 34 59, 41 68, 75 72, 62 77, 56 70, 46 72, 31 69, 46 76, 52 82, 47 84, 56 90, 66 90, 64 94, 56 91, 33 97, 36 100, 23 100, 22 107, 29 106, 31 112, 46 116, 36 118, 28 131, 53 132, 59 127, 62 131, 76 130, 80 135, 89 137, 87 143, 73 145, 80 150, 88 150, 85 157, 99 162, 116 158, 115 165, 123 165, 122 170, 134 164, 131 158))',
    0.3);
</pre><p>
    </p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="../images/st_simplifypolygonhull03.png"><div class="caption"><p>ポリゴンの内側の凹包</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  'POLYGON ((131 158, 136 163, 161 165, 173 156, 179 148, 169 140, 186 144, 190 137, 185 131, 174 128, 174 124, 166 119, 158 121, 158 115, 165 107, 161 97, 166 88, 166 79, 158 57, 145 57, 112 53, 111 47, 93 43, 90 48, 88 40, 80 39, 68 32, 51 33, 40 31, 39 34, 49 38, 34 38, 25 34, 28 39, 36 40, 44 46, 24 41, 17 41, 14 46, 19 50, 33 54, 21 55, 13 52, 11 57, 22 60, 34 59, 41 68, 75 72, 62 77, 56 70, 46 72, 31 69, 46 76, 52 82, 47 84, 56 90, 66 90, 64 94, 56 91, 33 97, 36 100, 23 100, 22 107, 29 106, 31 112, 46 116, 36 118, 28 131, 53 132, 59 127, 62 131, 76 130, 80 135, 89 137, 87 143, 73 145, 80 150, 88 150, 85 157, 99 162, 116 158, 115 165, 123 165, 122 170, 134 164, 131 158))',
    0.3, false);
</pre><p>
    </p><p>
    </p><div class="informalfigure"><div class="mediaobject"><img src="../images/st_simplifypolygonhull01.png"><div class="caption"><p>中間点を挿入したマルチポリゴンの外側の凹包による簡略化</p></div></div></div><p>
    </p><pre class="programlisting">SELECT ST_SimplifyPolygonHull(
  ST_Segmentize(ST_Letters('xt'), 2.0),
    0.1);
</pre><p>
    </p></div><div class="refsection"><a name="idp290527264"></a><h2>関連情報</h2><p><a class="xref" href="ST_ConvexHull.html" title="ST_ConvexHull">ST_ConvexHull</a>, <a class="xref" href="ST_SimplifyVW.html" title="ST_SimplifyVW">ST_SimplifyVW</a>, <a class="xref" href="ST_ConcaveHull.html" title="ST_ConcaveHull">ST_ConcaveHull</a>, <a class="xref" href="ST_Segmentize.html" title="ST_Segmentize">ST_Segmentize</a></p></div></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ST_SimplifyPreserveTopology.html">戻る</a> </td><td width="20%" align="center"><a accesskey="u" href="reference.html#Geometry_Processing">上に戻る</a></td><td width="40%" align="right"> <a accesskey="n" href="ST_SimplifyVW.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">ST_SimplifyPreserveTopology </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> ST_SimplifyVW</td></tr></table></div></body></html>
