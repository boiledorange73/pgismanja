<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>ST_Buffer</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="PostGIS 1.5.1 &#12510;&#12491;&#12517;&#12450;&#12523; &#26085;&#26412;&#35486;&#35379;"><link rel="up" href="reference.html#Geometry_Processing" title="7.9. &#12472;&#12458;&#12513;&#12488;&#12522;&#20966;&#29702;&#38306;&#25968;"><link rel="prev" href="ST_Within.html" title="ST_Within"><link rel="next" href="ST_BuildArea.html" title="ST_BuildArea"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ST_Buffer</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ST_Within.html">&#21069;&#12398;&#12506;&#12540;&#12472;</a> </td><th width="60%" align="center">7.9. 
		&#12472;&#12458;&#12513;&#12488;&#12522;&#20966;&#29702;&#38306;&#25968;
		
		</th><td width="20%" align="right"> <a accesskey="n" href="ST_BuildArea.html">&#27425;&#12398;&#12506;&#12540;&#12472;</a></td></tr></table><hr></div><div class="refentry" title="ST_Buffer"><a name="ST_Buffer"></a><div class="titlepage"></div><div class="refnamediv"><h2>&#21517;&#21069;</h2><p>ST_Buffer &#8212; 
				(T) &#12472;&#12458;&#12513;&#12488;&#12522;: &#12371;&#12398;&#12472;&#12458;&#12513;&#12488;&#12522;&#12363;&#12425;&#12398;&#36317;&#38626;&#12364;&#25351;&#23450;&#12373;&#12428;&#12383;&#36317;&#38626;&#20197;&#19979;&#12392;&#12394;&#12427;&#12509;&#12452;&#12531;&#12488;&#20840;&#12390;&#12434;&#34920;&#29694;&#12377;&#12427;&#12472;&#12458;&#12513;&#12488;&#12522;&#12434;&#36820;&#12375;&#12414;&#12377;&#65294;&#35336;&#31639;&#12399;&#65292;&#12472;&#12458;&#12513;&#12488;&#12522;&#12398;&#31354;&#38291;&#21442;&#29031;&#31995;&#12391;&#34892;&#12431;&#12428;&#12414;&#12377;&#65294;&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;: &#24179;&#38754;&#22793;&#25563;&#12521;&#12483;&#12497;&#12434;&#20351;&#12356;&#12414;&#12377;&#65294;&#24418;&#29366;&#21046;&#24481;&#12398;&#12383;&#12417;&#12395;&#30064;&#12394;&#12427;&#32066;&#31471;&#12461;&#12515;&#12483;&#12503;&#12392;&#32153;&#12366;&#30446;&#12398;&#35373;&#23450;&#12398;&#12469;&#12509;&#12540;&#12488;&#12364;1.5&#12391;&#23566;&#20837;&#12373;&#12428;&#12414;&#12375;&#12383;&#65294;buffer_style&#12458;&#12503;&#12471;&#12519;&#12531;&#12399;&#65292;quad_segs=#,endcap=round|flat|square,join=round|mitre|bevel,mitre_limit=#.# &#12392;&#12394;&#12426;&#12414;&#12377;&#65294;
				
			</p></div><div class="refsynopsisdiv" title="&#27010;&#35201;"><h2>&#27010;&#35201;</h2><div class="funcsynopsis"><p><code class="funcdef">geometry <b class="fsfunc">ST_Buffer</b>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var><code>)</code>;</p><p><code class="funcdef">geometry <b class="fsfunc">ST_Buffer</b>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, integer  <var class="pdparam">num_seg_quarter_circle</var><code>)</code>;</p><p><code class="funcdef">geometry <b class="fsfunc">ST_Buffer</b>(</code>geometry  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer</var>, text  <var class="pdparam">buffer_style_parameters</var><code>)</code>;</p><p><code class="funcdef">geography <b class="fsfunc">ST_Buffer</b>(</code>geography  <var class="pdparam">g1</var>, float  <var class="pdparam">radius_of_buffer_in_meters</var><code>)</code>;</p></div></div><div class="refsection" title="&#35500;&#26126;"><a name="id286896427"></a><h2>&#35500;&#26126;</h2><p>
				&#12371;&#12398;&#12472;&#12458;&#12513;&#12488;&#12522;/&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;&#12363;&#12425;&#12398;&#36317;&#38626;&#12364;&#25351;&#23450;&#12373;&#12428;&#12383;&#36317;&#38626;&#20197;&#19979;&#12392;&#12394;&#12427;&#12509;&#12452;&#12531;&#12488;&#20840;&#12390;&#12434;&#34920;&#29694;&#12377;&#12427;&#12472;&#12458;&#12513;&#12488;&#12522;/&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;&#12434;&#36820;&#12375;&#12414;&#12377;&#65294;
				
			</p><p>
			&#12472;&#12458;&#12513;&#12488;&#12522;: &#35336;&#31639;&#12399;&#65292;&#12472;&#12458;&#12513;&#12488;&#12522;&#12398;&#31354;&#38291;&#21442;&#29031;&#31995;&#12391;&#34892;&#12431;&#12428;&#12414;&#12377;&#65294;&#24418;&#29366;&#21046;&#24481;&#12398;&#12383;&#12417;&#12395;&#30064;&#12394;&#12427;&#32066;&#31471;&#12461;&#12515;&#12483;&#12503;&#12392;&#32153;&#12366;&#30446;&#12398;&#35373;&#23450;&#12398;&#12469;&#12509;&#12540;&#12488;&#12364;1.5&#12391;&#23566;&#20837;&#12373;&#12428;&#12414;&#12375;&#12383;&#65294;
			
			</p><div class="note" title="&#27880;&#24847;" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
				&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;: &#12472;&#12458;&#12513;&#12488;&#12522;&#23455;&#35013;&#12395;&#12363;&#12406;&#12373;&#12427;&#65292;&#34180;&#12356;&#12521;&#12483;&#12497;&#12391;&#12377;&#65294;&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12496;&#12454;&#12531;&#12487;&#12451;&#12531;&#12464;&#12508;&#12483;&#12463;&#12473;&#12395;&#26368;&#36969;&#12394;SRID&#12434;&#27770;&#23450;&#12375;(UTM&#12364;&#26395;&#12414;&#12375;&#12356;&#12391;&#12377;&#12364;&#65292;&#12521;&#12531;&#12505;&#12523;&#12488;&#27491;&#31309;&#26041;&#20301;&#22259;&#27861;(&#21271;/&#21335;)&#65292;&#26368;&#24746;&#12398;&#12471;&#12490;&#12522;&#12458;&#12391;&#12513;&#12523;&#12459;&#12488;&#12523;&#12395;&#38972;&#12426;&#12414;&#12377;)&#65292;&#12381;&#12398;&#24179;&#38754;&#12391;&#12496;&#12483;&#12501;&#12449;&#12434;&#29983;&#25104;&#12375;&#65292;WGS84&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;&#12395;&#25147;&#12375;&#12414;&#12377;&#65294;				
				
					</p></td></tr></table></div><p>
			<img src="images/warning.png">
			&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;&#12391;&#12399;&#65292;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#20108;&#12388;&#12398;UTM&#12478;&#12540;&#12531;&#12434;&#12414;&#12383;&#12356;&#12384;&#12426;&#65292;&#26085;&#20184;&#22793;&#26356;&#32218;&#12434;&#12414;&#12383;&#12368;&#12424;&#12358;&#12394;&#65292;&#30456;&#24403;&#12395;&#22823;&#12365;&#12356;&#22580;&#21512;&#12395;&#12399;&#65292;&#20104;&#26399;&#12375;&#12383;&#36890;&#12426;&#12398;&#21205;&#20316;&#12434;&#12394;&#12356;&#12363;&#12418;&#30693;&#12428;&#12414;&#12379;&#12435;&#65294;
			
			</p><p>
				&#21021;&#20986;&#12496;&#12540;&#12472;&#12519;&#12531;: 1.5 - ST_Buffer&#12364;&#30064;&#12394;&#12427;&#32066;&#31471;&#12392;&#32153;&#12366;&#30446;&#12398;&#22411;&#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12424;&#12358;&#24375;&#21270;&#12373;&#12428;&#12414;&#12375;&#12383;&#65294;&#12383;&#12392;&#12360;&#12400;&#65292;&#36947;&#36335;&#12521;&#12452;&#12531;&#12473;&#12488;&#12522;&#12531;&#12464;&#12434;&#65292;&#20024;&#12398;&#20195;&#12431;&#12426;&#12395;&#24179;&#22374;&#12420;&#22235;&#35282;&#24418;&#12398;&#32066;&#31471;&#12434;&#25345;&#12388;&#36947;&#36335;&#12509;&#12522;&#12468;&#12531;&#12395;&#22793;&#25563;&#12377;&#12427;&#12398;&#12395;&#20415;&#21033;&#12391;&#12377;&#65294;&#12472;&#12458;&#12464;&#12521;&#12501;&#12451;&#29992;&#12398;&#34180;&#12356;&#12521;&#12483;&#12497;&#12364;&#36861;&#21152;&#12373;&#12428;&#12414;&#12375;&#12383;&#65294;- &#26368;&#26032;&#12398;&#12472;&#12458;&#12513;&#12488;&#12522;&#27231;&#33021;&#12398;&#21033;&#28857;&#12434;&#24471;&#12427;&#12395;&#12399;GEOS &gt;= 3.2&#12364;&#24517;&#35201;&#12391;&#12377;&#65294;

				
				</p><p>
				&#31532;&#19977;&#24341;&#25968;(&#29694;&#22312;&#12472;&#12458;&#12513;&#12488;&#12522;&#12375;&#12363;&#36969;&#29992;&#12391;&#12365;&#12414;&#12379;&#12435;)&#12391;&#65292;&#22235;&#20998;&#12398;1&#20870;&#12395;&#36817;&#12389;&#12369;&#12427;&#12383;&#12417;&#12398;&#21306;&#20998;&#25968;&#12434;&#25351;&#23450;&#12391;&#12365;(&#25972;&#25968;&#12398;&#22580;&#21512;&#65292;&#12487;&#12501;&#12457;&#12523;&#12488;&#12399;8&#12391;&#12377;)&#65292;&#12414;&#12383;&#65292;&#31354;&#30333;&#21306;&#20999;&#12426;&#12398;key=value&#12506;&#12450;(&#25991;&#23383;&#21015;&#12398;&#22580;&#21512;)&#12434;&#65292;&#27425;&#12395;&#31034;&#12377;&#25805;&#20316;&#12392;&#12375;&#12390;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65294;
				
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
'quad_segs=#' : &#22235;&#20998;&#12398;1&#20870;&#12395;&#36817;&#12389;&#12369;&#12427;&#12383;&#12417;&#12398;&#21306;&#20998;&#25968;(&#12487;&#12501;&#12457;&#12523;&#12488;&#12399;8)&#65294;
</li><li class="listitem">
'endcap=round|flat|square' : &#32066;&#31471;&#12473;&#12479;&#12452;&#12523;(&#12487;&#12501;&#12457;&#12523;&#12488;&#12399;"round"(&#20024;)&#65292;&#30064;&#12394;&#12427;&#20516;&#12434;&#25351;&#23450;&#12377;&#12427;&#12395;&#12399;GEOS-3.2&#20197;&#19978;&#12364;&#24517;&#35201;). 'butt'&#12399;'flat'&#12398;&#21516;&#32681;&#35486;&#12392;&#12375;&#12390;&#21463;&#12369;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#65294;
</li><li class="listitem">
'join=round|mitre|bevel' : &#32153;&#12366;&#30446;&#12473;&#12479;&#12452;&#12523;(&#12487;&#12501;&#12457;&#12523;&#12488;&#12399;"round"(&#20024;)&#65292;&#30064;&#12394;&#12427;&#20516;&#12434;&#25351;&#23450;&#12377;&#12427;&#12395;&#12399;GEOS-3.2&#20197;&#19978;&#12364;&#24517;&#35201;)&#65294;'miter'&#12399;'mitre'(&#12510;&#12452;&#12479;&#12540;)&#12398;&#21516;&#32681;&#35486;&#12392;&#12375;&#12390;&#21463;&#12369;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#65294;
</li><li class="listitem">
'mitre_limit=#.#' : &#12510;&#12452;&#12479;&#12540;&#12398;&#21106;&#21512;&#21046;&#38480;(&#32153;&#12366;&#30446;&#12473;&#12479;&#12452;&#12523;&#12364;mitre&#12398;&#22580;&#21512;&#12398;&#12415;)&#65294;&#21516;&#32681;&#35486;&#12392;&#12375;&#12390;'miter_limit'&#12418;&#21463;&#12369;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#65294;
</li></ul></div><p>

				</p><p>
				&#21322;&#24452;&#12398;&#21336;&#20301;&#12399;&#31354;&#38291;&#21442;&#29031;&#31995;&#12398;&#21336;&#20301;&#12391;&#12377;&#65294;
				
				</p><p>
				&#20837;&#21147;&#12399;&#65292;&#12509;&#12452;&#12531;&#12488;&#65292;&#12510;&#12523;&#12481;&#12509;&#12452;&#12531;&#12488;&#65292;&#12521;&#12452;&#12531;&#12473;&#12488;&#12522;&#12531;&#12464;&#65292;&#12510;&#12523;&#12481;&#12521;&#12452;&#12531;&#12473;&#12488;&#12522;&#12531;&#12464;&#65292;&#12509;&#12522;&#12468;&#12531;&#65292;&#12510;&#12523;&#12481;&#12509;&#12522;&#12468;&#12531;&#65292;&#12472;&#12458;&#12513;&#12488;&#12522;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#21487;&#33021;&#12391;&#12377;&#65294;
				
				</p><div class="note" title="&#27880;&#24847;" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
				&#12371;&#12398;&#38306;&#25968;&#12399;&#19977;&#27425;&#20803;(Z&#36600;)&#12399;&#28961;&#35222;&#12375;&#65292;&#19977;&#27425;&#20803;&#12472;&#12458;&#12513;&#12488;&#12522;&#12364;&#19982;&#12360;&#12425;&#12428;&#12390;&#12418;&#65292;&#24120;&#12395;&#20108;&#27425;&#20803;&#12496;&#12483;&#12501;&#12449;&#12434;&#36820;&#12375;&#12414;&#12377;&#65294;
				
				</p></td></tr></table></div><p>GEOS&#12514;&#12472;&#12517;&#12540;&#12523;&#12391;&#23455;&#29694;&#12375;&#12390;&#12356;&#12414;&#12377;</p><p><span class="inlinemediaobject"><img src="images/check.png"></span>
 &#12371;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399; <a class="ulink" href="http://www.opengeospatial.org/standards/sfs" target="_top">OpenGIS Simple Features Implementation Specification for SQL 1.1.</a>&#12434;&#23455;&#35013;&#12377;&#12427;&#12418;&#12398;&#12391;&#12377;&#65294; s2.1.1.3</p><p><span class="inlinemediaobject"><img src="images/check.png"></span> &#12371;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;SQL/MM&#20181;&#27096;&#12398;&#23455;&#35013;&#12391;&#12377;&#65294; SQL-MM 3: 5.1.17</p><div class="note" title="&#27880;&#24847;" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
				&#12371;&#12398;&#38306;&#25968;&#12434;&#21322;&#24452;&#25506;&#32034;&#12395;&#20351;&#12362;&#12358;&#12392;&#12375;&#12390;&#22833;&#25943;&#12377;&#12427;&#20154;&#12364;&#12356;&#12425;&#12387;&#12375;&#12419;&#12356;&#12414;&#12377;&#65294;&#12496;&#12483;&#12501;&#12449;&#12434;&#29983;&#25104;&#12375;&#12390;&#21322;&#24452;&#25506;&#32034;&#12395;&#20351;&#12358;&#12398;&#12392;&#36933;&#12356;&#12375;&#28961;&#24847;&#21619;&#12391;&#12377;&#65294;<a class="xref" href="ST_DWithin.html" title="ST_DWithin">ST_DWithin</a>&#12434;&#20351;&#12356;&#12414;&#12377;&#65294;
				
					</p></td></tr></table></div></div><div class="refsection" title="&#20363;"><a name="id286896551"></a><h2>&#20363;</h2><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer01.png"><div class="caption"><p>quad_segs=8 (default)</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText('POINT(100 90)'),
 50, 'quad_segs=8');
				</pre><p>
						  </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer02.png"><div class="caption"><p>quad_segs=2 (lame)</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText('POINT(100 90)'),
 50, 'quad_segs=2');
				</pre><p>
						</p></td></tr><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer03.png"><div class="caption"><p>endcap=round join=round (default)</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=round join=round');
				</pre><p>
						 </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer04.png"><div class="caption"><p>endcap=square</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=square join=round');
				</pre><p>
						  </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer05.png"><div class="caption"><p>endcap=flat</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'endcap=flat join=round');
				</pre><p>
						  </p></td></tr><tr><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer07.png"><div class="caption"><p>join=bevel</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=bevel');
				</pre><p>
						  </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer06.png"><div class="caption"><p>join=mitre mitre_limit=5.0 (default mitre limit)</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=mitre mitre_limit=5.0');
				</pre><p>
						  </p></td><td><div class="informalfigure"><div class="mediaobject"><img src="images/st_buffer08.png"><div class="caption"><p>join=mitre mitre_limit=1</p></div></div></div><p>
				</p><pre class="programlisting">
SELECT ST_Buffer(
 ST_GeomFromText(
  'LINESTRING(50 50,150 150,150 50)'
 ), 10, 'join=mitre mitre_limit=1.0');
				</pre><p>
						  </p></td></tr></tbody></table></div><pre class="programlisting">
--&#36817;&#20284;&#20870;&#12496;&#12483;&#12501;&#12449;
--&#19968;&#12388;&#30446;&#12399;&#36817;&#20284;&#12434;&#24375;&#21046;&#12377;&#12427;&#12496;&#12483;&#12501;&#12449;&#12373;&#12428;&#12383;&#28857;(&#12480;&#12452;&#12450;&#12464;&#12521;&#12512;&#21442;&#29031;)
--&#20108;&#12388;&#30446;&#12399;&#20870;&#12395;&#12509;&#12452;&#12531;&#12488;&#20108;&#12388;&#12399;&#20843;&#36794;&#12398;&#12509;&#12522;&#12468;&#12531;(&#12480;&#12452;&#12450;&#12464;&#12521;&#12512;&#21442;&#29031;)
SELECT ST_NPoints(ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50)) As promisingcircle_pcount,
ST_NPoints(ST_Buffer(ST_GeomFromText('POINT(100 90)'), 50, 2)) As lamecircle_pcount;

promisingcircle_pcount | lamecircle_pcount
------------------------+-------------------
			 33 |                9

--&#26126;&#12427;&#12356;&#12364;&#19981;&#21313;&#20998;&#12394;&#20870;
--&#22235;&#20998;&#12398;&#19968;&#20870;&#12391;&#20108;&#28857;&#12384;&#12369;&#12398;&#20843;&#35282;&#24418;&#12391;&#12377;&#65294;
--&#27425;&#12395;&#31034;&#12377;&#12398;&#12399;100&#12513;&#12540;&#12488;&#12523;&#12398;&#20843;&#35282;&#24418;&#12391;&#12377;&#65294;
--&#24231;&#27161;&#31995;&#12399;&#65292;&#12513;&#12540;&#12488;&#12523;&#21336;&#20301;&#12510;&#12469;&#12481;&#12517;&#12540;&#12475;&#12483;&#12484;&#24030;&#24179;&#38754;&#12395;&#22793;&#25563;&#12375;&#12383;
--NAD 83&#32076;&#24230;&#32239;&#24230;&#12391;&#65292;&#12513;&#12540;&#12488;&#12523;&#12391;&#12496;&#12483;&#12501;&#12449;&#12434;&#21462;&#12387;&#12390;&#12356;&#12414;&#12377;&#65294;

SELECT ST_AsText(ST_Buffer(
ST_Transform(
ST_SetSRID(ST_MakePoint(-71.063526, 42.35785),4269), 26986)
,100,2)) As octagon;
----------------------
POLYGON((236057.59057465 900908.759918696,236028.301252769 900838.049240578,235
957.59057465 900808.759918696,235886.879896532 900838.049240578,235857.59057465
900908.759918696,235886.879896532 900979.470596815,235957.59057465 901008.759918
696,236028.301252769 900979.470596815,236057.59057465 900908.759918696))

--&#12496;&#12483;&#12501;&#12449;&#12399;&#12375;&#12400;&#12375;&#12400;&#25163;&#36605;&#12394;&#12509;&#12522;&#12468;&#12531;&#35330;&#27491;&#12395;&#20351;&#12431;&#12428;&#65292;&#26178;&#12293;&#36895;&#12356;&#32080;&#21512;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#65294;
--&#26178;&#12293;&#19981;&#27491;&#12394;&#12509;&#12522;&#12468;&#12531;&#12434;&#35330;&#27491;&#12391;&#12365;&#12414;&#12377; - &#19979;&#12398;&#20363;&#12391;&#20351;&#12387;&#12390;&#12356;&#12414;&#12377;&#65294;
--&#12371;&#12398;&#20351;&#12356;&#26041;&#12399;&#12393;&#12428;&#12395;&#12391;&#12418;&#20351;&#12360;&#12414;&#12377;&#12364;&#65292;&#12509;&#12522;&#12468;&#12531;&#12364;&#31354;&#12472;&#12458;&#12513;&#12488;&#12522;&#12395;&#12394;&#12426;&#12414;&#12377;&#65294;
--&#12414;&#12383;&#65292;&#12472;&#12458;&#12513;&#12488;&#12522;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12391;&#12399;&#12509;&#12522;&#12468;&#12531;&#12391;&#12394;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#20999;&#12425;&#12428;&#12414;&#12377;&#65294;
--&#25163;&#36605;&#12394;&#12509;&#12522;&#12468;&#12531;&#35330;&#27491;&#12399;&#27425;&#12398;&#36890;&#12426;&#12391;&#12377;&#65294;

SELECT ST_IsValid(foo.invalidpoly)  as isvalid, ST_IsValid(ST_Buffer(foo.invalidpoly,0.0)) as bufferisvalid,
ST_AsText(ST_Buffer(foo.invalidpoly,0.0)) As newpolytextrep
FROM (SELECT ST_GeomFromText('POLYGON((-1 2, 3 4, 5 6, -1 2, 5 6, -1 2))') as invalidpoly) As foo
NOTICE:  Self-intersection at or near point -1 2
isvalid | bufferisvalid |        newpolytextrep
---------+---------------+------------------------------
f       | t             | POLYGON((-1 2,5 6,3 4,-1 2))

--&#25163;&#36605;&#12394;&#12509;&#12522;&#12468;&#12531;&#32080;&#21512;
SELECT ST_AsText(the_geom) as textorig, ST_AsText(ST_Buffer(foo.the_geom,0.0)) As textbuffer
FROM (SELECT ST_Collect('POLYGON((-1 2, 3 4, 5 6, -1 2))', 'POLYGON((-1 2, 2 3, 5 6, -1 2))') As the_geom) as foo;
				 textorig                          |            textbuffer
-----------------------------------------------------------+--------------------
MULTIPOLYGON(((-1 2,3 4,5 6,-1 2)),((-1 2,2 3,5 6,-1 2))) | POLYGON((-1 2,5 6,3 4,2 3,-1 2))


		</pre></div><div class="refsection" title="&#38306;&#36899;&#24773;&#22577;"><a name="id286896828"></a><h2>&#38306;&#36899;&#24773;&#22577;</h2><p><a class="xref" href="ST_Collect.html" title="ST_Collect">ST_Collect</a>, <a class="xref" href="ST_DWithin.html" title="ST_DWithin">ST_DWithin</a>, <a class="xref" href="ST_SetSRID.html" title="ST_SetSRID">ST_SetSRID</a>, <a class="xref" href="ST_Transform.html" title="ST_Transform">ST_Transform</a>, <a class="xref" href="ST_Union.html" title="ST_Union">ST_Union</a></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ST_Within.html">&#21069;&#12398;&#12506;&#12540;&#12472;</a> </td><td width="20%" align="center"><a accesskey="u" href="reference.html#Geometry_Processing">&#19978;&#12395;&#25147;&#12427;</a></td><td width="40%" align="right"> <a accesskey="n" href="ST_BuildArea.html">&#27425;&#12398;&#12506;&#12540;&#12472;</a></td></tr><tr><td width="40%" align="left" valign="top">ST_Within </td><td width="20%" align="center"><a accesskey="h" href="index.html">&#12507;&#12540;&#12512;</a></td><td width="40%" align="right" valign="top"> ST_BuildArea</td></tr></table></div></body></html>
