<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Appendix A. 付録</title><link rel="stylesheet" type="text/css" href="docbook.css"><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="PostGIS 3.3.0 マニュアル"><link rel="up" href="index.html" title="PostGIS 3.3.0 マニュアル"><link rel="prev" href="ch16.html" title="Chapter 16. 問題を報告する"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix A. 付録</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch16.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> </td></tr></table></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a name="release_notes"></a>Appendix A. 付録</h1></div><div><h3 class="subtitle"><i>リリースノート</i></h3></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl class="toc"><dt><span class="sect1"><a href="release_notes.html#idp101242448">A.1. PostGIS 3.3.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101278544">A.2. PostGIS 3.3.0rc2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101284432">A.3. PostGIS 3.3.0rc1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101295568">A.4. PostGIS 3.3.0beta2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101320784">A.5. PostGIS 3.3.0beta1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101335120">A.6. PostGIS 3.3.0alpha1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101364560">A.7. PostGIS 3.2.0 (Olivier Courtin版)</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101397328">A.8. PostGIS 3.2.0beta3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101404112">A.9. リリース 3.2.0beta2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101409872">A.10. リリース 3.2.0beta1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101427920">A.11. リリース 3.2.0alpha1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101455056">A.12. リリース 3.1.0beta1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101460432">A.13. リリース 3.1.0alpha3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101491024">A.14. リリース 3.1.0alpha2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101502544">A.15. リリース 3.1.0alpha1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101514320">A.16. リリース 3.0.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101590352">A.17. リリース 3.0.0rc2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101594576">A.18. リリース 3.0.0rc1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101598416">A.19. リリース 3.0.0beta1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101606224">A.20. リリース 3.0.0alpha4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101615696">A.21. リリース 3.0.0alpha3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101623888">A.22. リリース 3.0.0alpha2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101627728">A.23. リリース 3.0.0alpha1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101631184">A.24. リリース 2.5.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101669328">A.25. リリース 2.4.5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101680592">A.26. リリース 2.4.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101701456">A.27. リリース 2.4.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101706448">A.28. リリース 2.4.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101710032">A.29. リリース 2.4.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101718224">A.30. リリース 2.4.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101735888">A.31. リリース 2.3.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101742160">A.32. リリース 2.3.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101746384">A.33. リリース 2.3.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101756880">A.34. リリース 2.3.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101775568">A.35. リリース 2.2.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101782480">A.36. リリース 2.2.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101793616">A.37. リリース 2.2.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101876176">A.38. リリース 2.1.8</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101881552">A.39. リリース 2.1.7</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101885008">A.40. リリース 2.1.6</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101893584">A.41. リリース 2.1.5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101932496">A.42. リリース 2.1.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101976784">A.43. リリース 2.1.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101983696">A.44. リリース 2.1.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102012624">A.45. リリース 2.1.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102043216">A.46. リリース 2.1.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102182608">A.47. リリース 2.0.5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102197072">A.48. リリース 2.0.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp101173456">A.49. リリース 2.0.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102238544">A.50. リリース 2.0.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102281424">A.51. リリース 2.0.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102329424">A.52. リリース 2.0.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102409680">A.53. リリース 1.5.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102432976">A.54. リリース 1.5.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102449232">A.55. リリース 1.5.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102465872">A.56. リリース 1.5.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102487632">A.57. リリース 1.5.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102525904">A.58. リリース 1.4.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102566736">A.59. リリース 1.3.6</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102568272">A.60. リリース 1.3.5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102569808">A.61. リリース 1.3.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102571728">A.62. リリース 1.3.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102573264">A.63. リリース 1.3.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102574800">A.64. リリース 1.3.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102576336">A.65. リリース 1.3.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102583888">A.66. リリース 1.2.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102588240">A.67. リリース 1.2.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102591440">A.68. リリース 1.1.6</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102601808">A.69. リリース 1.1.5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102616016">A.70. リリース 1.1.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102626896">A.71. リリース 1.1.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102642384">A.72. リリース 1.1.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102654800">A.73. リリース 1.1.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102666704">A.74. リリース 1.1.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102696272">A.75. リリース 1.0.6</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102706640">A.76. リリース 1.0.5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102719056">A.77. リリース 1.0.4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#rel_1.0.3_upgrading">A.78. リリース 1.0.3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102741072">A.79. リリース 1.0.2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102748880">A.80. リリース 1.0.1</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102758608">A.81. リリース 1.0.0</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102767952">A.82. リリース 1.0.0RC6</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102775504">A.83. リリース 1.0.0RC5</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102782544">A.84. リリース 1.0.0RC4</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102799056">A.85. リリース 1.0.0RC3</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102819792">A.86. リリース 1.0.0RC2</a></span></dt><dt><span class="sect1"><a href="release_notes.html#idp102829776">A.87. リリース 1.0.0RC1</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101242448"></a>A.1. PostGIS 3.3.0</h2></div></div></div><p>2022/08/26</p><p>このバージョンにはPostgreSQL 11以上、GEOS 3.6以上、Proj 5.2以上が必要です。GEOS 3.9以上で追加機能が有効になり、GEOS 3.10以上でST_MakeValidの機能強化が有効になり、GEOS 3.11以上で多数の機能強化が追加されます。ST_AlphaShapeとST_OptimalAlphaShapeにはSFCGAL 1.4.1以上が必要です。</p><p>ご注意: GEOS 3.11.0は最近リリースされました。<a class="ulink" href="https://libgeos.org/posts/2022-07-01-geos-3-11-0-released/" target="_top">GEOS 3.11.0 release notes</a>に詳細があります。</p><p>新規フラグの --enable-lto で、数学計算を改善します。ただし、プラットフォームによってはコンパイルエラーが発生する (BSDとMingW64で問題が発生しています)ため、この機能はデフォルトでは無効になっています。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101245136"></a>新機能</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5116" target="_top">5116</a>, トポロジのエクスポート/インポート用スクリプト (Sandro Santilliさん)</p><p>文字のように見えるジオメトリを生成するST_Letters (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5037" target="_top">5037</a>, postgis_sfcgal: ST_3DConvexHull (Loïc Bartolettiさん)</p><p>postgis_sfcgal: sfcgal_full_version - BOOSTとCGALのバージョンの報告 (Loïc Bartolettiさん)</p><p><a class="ulink" href="https://github.com/postgis/postgis/pull/659" target="_top">GH 659</a>, MARC21/XML, ST_GeomFromMARC21, ST_AsMARC21 (Jim Jonesさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5132" target="_top">5132</a>, <a class="ulink" href="https://github.com/postgis/postgis/pull/683" target="_top">GH 683</a>, sfcgal: ST_3DUnion aggregate function (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5143" target="_top">5143</a>, SFCGAL ST_AlphaShape と ST_OptimalAlphaShape SFCGAL 1.4.1以上が必要 (Loïc Bartolettiさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5162" target="_top">5162</a>, GEOS 3.11以上のST_TriangulatePolygon (Paul Ramseyさん, Martin Davisさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5162" target="_top">5162</a>, ST_SimplifyPolygonHull GEOS 3.11以上が必要 (Paul Ramseyさん, Martin Davisさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5183" target="_top">5183</a>, topology.RemoveUnusedPrimitives (Sandro Santilliさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101253712"></a>大幅な変更</h3></div></div></div><p>PostgreSQL 9.6と10への対応を終了します (Regina Obeさん)</p><p>WKT MULTOPOINTの出力を変更しました。全ての点が括弧で括られるようになりました。(Even Roualtさん)</p><p><a class="ulink" href="https://github.com/postgis/postgis/pull/674" target="_top">GH 674</a>,  ST_DumpAsPolygonsとST_Polygonのジオメトリの妥当性評価と修正は無効になってて、動作速度は早くなりますが不正なポリゴンが生成される可能性があります (Aliaksandr Kalenikさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101256016"></a>性能強化</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/2861" target="_top">2861</a>, topology.node(containing_face)へのインデックスの追加で、フェイスの分割とマージが早くなりました (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/2083" target="_top">2083</a>, リレーション (element_id)とエッジデータ (abs_next*)のインデックスを追加することによるトポロジ関数のST_RemEdgeの高速化 (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5118" target="_top">5118</a>, TopoGeometryのシーケンスがなくなった状態でトポロジを削除できるようにしました (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5111" target="_top">5111</a>, トポロジのフェイスのMBRのより速い計算 (Sandro Santilliさん)</p><p>postgis_extensions_upgrade()で、リリース前を含むどのPostGISバージョンからでも対応できるようになりました (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5040" target="_top">5040</a>, postgis_sfcgal_full_versionの追加 (Loïc Bartolettiさん)</p><p><a class="ulink" href="https://github.com/postgis/postgis/pull/655" target="_top">GH 655</a>, GiST: 再起呼出し中でのより良いバランスの木の分割 (Darafei Praliaskouskiさん)</p><p><a class="ulink" href="https://github.com/postgis/postgis/pull/657" target="_top">GH 657</a>, GiST: 何もしない伸張関数を呼び出さない (Aliaksandr Kalenikさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4939" target="_top">4939</a>, <a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5161" target="_top">5161</a>, ST_LineMergeに、道路のグラフ処理の際に使用する、入力ラインストリングの方向を保持するオプションの追加。GEOS 3.11が必要 (Sergei Shoulbakovさん)</p><p>GEOS 3.11以上でのST_ConcaveHullの直接使用 (Paul Ramseyさん, Martin Davisさん)</p><p>GEOS 3.11以上を使ったST_ConcaveHullのポリゴンを尊重するネイティブ実装 (Paul Ramseyさん, Martin Davisさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4574" target="_top">4574</a>, <a class="ulink" href="https://github.com/postgis/postgis/pull/678" target="_top">GH 678</a>, <a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5121" target="_top">5121</a> --enable-lto でリンク時間最適化を有効にできます (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://github.com/postgis/postgis/pull/676" target="_top">GH 676</a>, ST_Clip高速化 (Aliaksandr Kalenikさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5135" target="_top">5135</a>, 高速GiSTインデックス構築はPostgreSQL 15以上ではデフォルトで有効になりました (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4939" target="_top">4939</a>, <a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5161" target="_top">5161</a>, ST_LineMergeに、道路のグラフ処理の際に使用する、入力ラインストリングの方向を保持するオプションの追加。GEOS 3.11が必要 (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5158" target="_top">5158</a>, pgtopo_import / pgtopo_exportのマニュアルページ (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5170" target="_top">5170</a>, raster2pgsqlの-Yオプションで使用する、COPYステートメントあたりの行数を制御するパラメータmax_rows_per_copyの追加。指定していない場合のデフォルトは50 (Regina Obeさん)</p><p><a class="ulink" href="https://github.com/postgis/postgis/pull/698" target="_top">GH698</a>, ST_Unionで並列集約に対応しました (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5024" target="_top">5024</a>, spatial_ref_sysの更新を ALTER EXTENSION update postgis の一部にしました (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101272400"></a>誤り訂正</h3></div></div></div><p>これらは、バックポートされていない前のマイナーバージョンで修正された問題です。</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4912" target="_top">4912</a>, GiST: ジオグラフィでのSTORAGE EXTERNALでクラッシュするのを修正 (Aliaksandr Kalenikさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5088" target="_top">5088</a>, mvt_agg_transfnでメモリ破損 (Victor Collodさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5137" target="_top">5137</a>, クエリ実行前の割り込みフラグのリセット (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5148" target="_top">5148</a>, ST_Clipがラスタのアラインメントとジオメトリ抜き出しに対してよりロバストになりました (Sergei Shoulbakovさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4932" target="_top">4932</a>, ジオグラフィ版のST_Intersects / ST_Distanceの問題 (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5089" target="_top">5089</a>, ST_Reverse が複合曲線の要素も反転するようになりました (Paul Ramseyさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101278544"></a>A.2. PostGIS 3.3.0rc2</h2></div></div></div><p>2022/08/22</p><p>このバージョンにはPostgreSQL 11以上、GEOS 3.6以上、Proj 5.2以上が必要です。GEOS 3.9以上で追加機能が有効になり、GEOS 3.10以上でST_MakeValidの機能強化が有効になり、GEOS 3.11以上で多数の機能強化が追加されます。ST_AlphaShapeとST_OptimalAlphaShapeにはSFCGAL 1.4.1以上が必要です。</p><p>ご注意: GEOS 3.11.0は最近リリースされました。<a class="ulink" href="https://libgeos.org/posts/2022-07-01-geos-3-11-0-released/" target="_top">GEOS 3.11.0 release notes</a>に詳細があります。</p><p>新規フラグの --enable-lto で、数学計算を改善します。ただし、プラットフォームによってはコンパイルエラーが発生する (BSDとMingW64で問題が発生しています)ため、この機能はデフォルトでは無効になっています。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101281232"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5089" target="_top">5089</a>, ST_Reverse が複合曲線の要素も反転するようになりました (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5181" target="_top">5181</a>, Projの文字列解析に失敗した後にエラー状態をリセットするようにしました (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5171" target="_top">5171</a>, 測地線距離の計算で入力が同じ時に計算を省略するようになりました (Paul Ramseyさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101284432"></a>A.3. PostGIS 3.3.0rc1</h2></div></div></div><p>2022/08/08</p><p>このバージョンにはPostgreSQL 11以上、GEOS 3.6以上、Proj 5.2以上が必要です。GEOS 3.9以上で追加機能が有効になり、GEOS 3.10以上でST_MakeValidの機能強化が有効になり、GEOS 3.11以上で多数の機能強化が追加されます。ST_AlphaShapeとST_OptimalAlphaShapeにはSFCGAL 1.4.1以上が必要です。</p><p>ご注意: GEOS 3.11.0は最近リリースされました。<a class="ulink" href="https://libgeos.org/posts/2022-07-01-geos-3-11-0-released/" target="_top">GEOS 3.11.0 release notes</a>に詳細があります。</p><p>新規フラグの --enable-lto で、数学計算を改善します。ただし、プラットフォームによってはコンパイルエラーが発生する (BSDとMingW64で問題が発生しています)ため、この機能はデフォルトでは無効になっています。</p><p>有効にするには次のようにします。</p><pre class="programlisting">./configure --enable-lto</pre><p>PostGIS 3.3.0beta2からの変更点は次の通りです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101288528"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5154" target="_top">5154</a>, ラスタ版ST_Valueのコストが小さい (Regina Obeさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5157" target="_top">5157</a>, minimum_bounding_circleのCunitテストを小さい32ビット浮動小数点数の差を許容するよう改訂 (Regina Obeさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5191" target="_top">5191</a>, 関数はint4でなくintegerを使うべき (Regina Obeさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5139" target="_top">5139</a>, to_jsonb、ST_AsGeoJSONとST_AsGMLが並列安全でない (Regina Obe, Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5025" target="_top">5025</a>, 関数や演算子群の次元が合わない時に追加演算子が実際に追加されることがないように更新 (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5195" target="_top">5195</a>, #5196 address_standardizerとpostgis_tiger_geocoderのCREATE EXTENSIONでCREATE OR REPLACEからCREATEに変更 (Regina Obeさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5202" target="_top">5202</a>, ダウングレードに対する保護 (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5104" target="_top">5104</a>, pgextwlistを入れるとpostgis_extensions_upgrade()が失敗する (Regina Obeさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101295568"></a>A.4. PostGIS 3.3.0beta2</h2></div></div></div><p>2022/07/13</p><p>このバージョンにはPostgreSQL 11以上、GEOS 3.6以上、Proj 5.2以上が必要です。GEOS 3.9以上で追加機能が有効になり、GEOS 3.10以上でST_MakeValidの機能強化が有効になり、GEOS 3.11以上で多数の機能強化が追加されます。ST_AlphaShapeとST_OptimalAlphaShapeにはSFCGAL 1.4.1以上が必要です。</p><p>ご注意: GEOS 3.11.0は最近リリースされました。<a class="ulink" href="https://libgeos.org/posts/2022-07-01-geos-3-11-0-released/" target="_top">GEOS 3.11.0 release notes</a>に詳細があります。</p><p>新規フラグの --enable-lto で、数学計算を改善します。ただし、プラットフォームによってはコンパイルエラーが発生する (BSDとMingW64で問題が発生しています)ため、この機能はデフォルトでは無効になっています。</p><p>有効にするには次のようにします。</p><pre class="programlisting">./configure --enable-lto</pre><p>PostGIS 3.3.0beta1からの変更点</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101299536"></a>新機能</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5183" target="_top">5183</a>, topology.RemoveUnusedPrimitives (Sandro Santilliさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101301200"></a>性能強化</h3></div></div></div><p><a class="ulink" href="https://github.com/postgis/postgis/pull/698" target="_top">GH698</a>, ST_Unionで並列集約に対応しました (Sergei Shoulbakovさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101319120"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5179" target="_top">5179</a>, ビッグエンディアンでpgsql2shpが構文エラーを出す (Bas Couwenbergさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101320784"></a>A.5. PostGIS 3.3.0beta1</h2></div></div></div><p>2022/07/03</p><p>このバージョンにはPostgreSQL 11以上、GEOS 3.6以上、Proj 5.2以上が必要です。GEOS 3.9以上で追加機能が有効になり、GEOS 3.10以上でST_MakeValidの機能強化が有効になり、GEOS 3.11以上で多数の機能強化が追加されます。</p><p>ST_AlphaShapeとST_OptimalAlphaShapeのためにSFCGAL 1.4.1以上が必要です。</p><p>ご注意: GEOS 3.11.0は最近リリースされました。<a class="ulink" href="https://libgeos.org/posts/2022-07-01-geos-3-11-0-released/" target="_top">GEOS 3.11.0 release notes</a>に詳細があります。</p><p>新規フラグの --enable-lto で、数学計算を改善します。ただし、プラットフォームによってはコンパイルエラーが発生する (BSDとMingW64で問題が発生しています)ため、この機能はデフォルトでは無効になっています。</p><p>有効にするには次のようにします。</p><pre class="programlisting">./configure --enable-lto
        </pre><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101324752"></a>性能強化</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5158" target="_top">5158</a>, pgtopo_import / pgtopo_exportのマニュアルページ (Sandro Santilliさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5170" target="_top">5170</a>, raster2pgsqlの-Yオプションで使用する、COPYステートメントあたりの行数を制御するパラメータmax_rows_per_copyの追加。指定していない場合のデフォルトは50 (Regina Obeさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4939" target="_top">4939</a>, <a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5161" target="_top">5161</a>, ST_LineMergeに、道路のグラフ処理の際に使用する、入力ラインストリングの方向を保持するオプションの追加。GEOS 3.11が必要 (Sergei Shoulbakovさん)</p><p>GEOS 3.11以上を使ったST_ConcaveHullのポリゴンを尊重するネイティブ実装 (Paul Ramseyさん, Martin Davisさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5039" target="_top">5039</a>, postgis_tiger_geocoder TIGER 2021 (Regina Obeさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101329488"></a>新機能</h3></div></div></div><p>
&gt;<a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5169" target="_top">5169</a>, ST_SimplifyPolygonHull (GEOS 3.11が必要) (Paul Ramseyさん, Martin Davisさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5162" target="_top">5162</a>, GEOS 3.11以上のST_TriangulatePolygon (Paul Ramseyさん, Martin Davisさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101331920"></a>誤り修正</h3></div></div></div><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5173" target="_top">5173</a> st_asflatgeobufでTOASTから値を戻す時にクラッシュする (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/4932" target="_top">4932</a>, ジオグラフィ版のST_Intersects / ST_Distanceの問題 (Paul Ramseyさん)</p><p><a class="ulink" href="https://trac.osgeo.org/postgis/ticket/5114" target="_top">5114</a>, データ長が長いカラムか切り詰められたカラムかに対するpgsql2shpでセグメンテーションフォールトが発生する</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101335120"></a>A.6. PostGIS 3.3.0alpha1</h2></div></div></div><p>2022/05/21</p><p>このバージョンでは、PostgreSQL 11以上、GEOS 3.6以上、Proj 4.9以上が必要です。GEOS 3.9以上で追加機能 (多数の処理関数の精度機能)が有効になります。ST_MakesValidの機能強化には3.10以上が必要です。ST_ConcaveHullのGEOS実装の直接使用はGEOS 3.11以上が必要です。</p><p>ST_AlphaShapeとST_OptimalAlphaShapeのためにSFCGAL 1.4.1以上が必要です。</p><p>新規フラグの --enable-lto で、数学計算を改善します。ただし、プラットフォームによってはコンパイルエラーが発生する (BSDとMingW64で問題が発生しています)ため、この機能はデフォルトでは無効になっています。</p><p>有効にするには次のようにします。</p><pre class="programlisting">./configure --enable-lto
        </pre><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101338192"></a>大幅な変更</h3></div></div></div><p>PostgreSQL 9.6と10への対応を終了します (Regina Obeさん)</p><p>WKT MULTOPOINTの出力を変更しました。全ての点が括弧で括られるようになりました。(Even Roualtさん)</p><p>GH674, ST_DumpAsPolygonsとST_Polygonにおけるジオメトリ評価と修正が無効になりました。速度は工場しますが、無効なポリゴンが生成される可能性があります。(Aliaksandr Kalenikさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101340112"></a>性能強化</h3></div></div></div><p>2861, フェイスの分割とマージを高速にするtopology.node(containing_face)へのインデックスを追加しました (Sandro Santilliさん)</p><p>2083, relation(element_id)とedge_data(abs_next*)へのインデックス追加でトポロジ関数ST_RemEdgeを高速化しました (Sandro Santilliさん)</p><p>5118, トポジオメトリのシーケンスジェネレータが欠落しているトポロジの削除を可能にしました (Sandro Santilliさん)</p><p>5111, トポロジでのMBRフェイスの計算が速くなりました (Sandro Santilliさん)</p><p>postgis_extensions_upgrade()で、リリース前を含むどのPostGISバージョンからでも対応できるようになりました (Sandro Santilliさん)</p><p>5040, postgis_sfcgal_full_versionを追加しました (Loïc Bartolettiさん)</p><p>GH655, GiST: 再起呼出しでより良いバランス木分割を行うようにしました (Darafei Praliaskouskiさん)</p><p>GH657, GiST: 実行しない解凍関数を呼ばないようにしました (Aliaksandr Kalenikさん)</p><p>4912, GiST: ジオグラフィ用のカラムでSTORAGE EXTERNALと指定されたものを使うとクラッシュする問題を修正 (Aliaksandr Kalenikさん)</p><p>GEOS 3.11以上でのST_ConcaveHullの直接使用 (Paul Ramseyさん, Martin Davisさん)</p><p>4574, GH678, #5121 --enable-ltoを使用することでリンク時最適化を可能にしました (Sergei Shoulbakov)</p><p>GH676, ST_Clipの高速化 (Aliaksandr Kalenikさん)</p><p>5135, PostgreSQL 15以上ではデフォルトでGiSTインデックス高速構築が有効になりました (Sergei Shoulbakovさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101345872"></a>新機能</h3></div></div></div><p>5116, Topologyエクスポート/インポートスクリプト (Sandro Santilliさん)</p><p>文字のように見えるジオメトリを生成するST_Letters (Paul Ramseyさん)</p><p>5037, postgis_sfcgal: ST_3DConvexHull (Loïc Bartolettiさん)</p><p>postgis_sfcgal: sfcgal_full_version - BOOSTとCGALのバージョンの報告 (Loïc Bartolettiさん)</p><p>GH659, MARC21/XMLの入出力関数ST_GeomFromMARC21, ST_AsMARC21 (Jim Jonesさん)</p><p>5132, GH683, sfcgal: ST_3DUnion集約関数 (Sergei Shoulbakovさん)</p><p>5143, SFCGALのST_AlphaShapeとST_OptimalAlphaShape (Loïc Bartolettiさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101361744"></a>誤り修正</h3></div></div></div><p>5100, PostgreSQL 15対応 (pg_atoiの削除) (Laurenz Albeさん)</p><p>5123, PostgreSQL 15対応 - PostgreSQL 15では、JSON型とJSON関数を公開しているので、インクルードしません (Regina Obeさん)</p><p>5088, メmvt_agg_transfnでのモリ破損 (Victor Collodさん)</p><p>5137, クエリ実行前に割り込みフラグをリセットするようにしました (Sergei Shoulbakovさん)</p><p>5148, ST_Clipがラスタのアラインメントとジオメトリのクリップに関して、よりロバストになりました (Sergei Shoulbakovさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101364560"></a>A.7. PostGIS 3.2.0 (Olivier Courtin版)</h2></div></div></div><p>2021/12/18</p><p>このバージョンでは、PostgreSQL 9.6以上、GEOS 3.6以上、Proj 4.9以上が必要です。追加機能にはGEOS 3.9以上 (ST_MakeValidの強化には GEOS 3.10以上)、Proj 6.1以上、PostgreSQL 14以上が必要です。</p><p>新しいPostgreSQL 14の高速インデックス構築で能率が低下するクエリがあるため、現実世界のクエリの本当の影響を見るユーザ試験が増えるまで、デフォルトでは機能を無効化することにしました。PostgreSQL 14以降を実行する場合には、次の操作を行うことで再有効化が可能です。</p><pre class="programlisting">ALTER OPERATOR FAMILY gist_geometry_ops_2d USING gist
            ADD FUNCTION 11 (geometry)
            geometry_gist_sortsupport_2d (internal);
        </pre><p>変更を戻すには次のようにします。</p><pre class="programlisting">ALTER OPERATOR FAMILY gist_geometry_ops_2d using gist
        DROP FUNCTION 11 (geometry);</pre><p>そして、GiSTインデックスの再構築を行います。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101368144"></a>大幅な変更</h3></div></div></div><p>5008, Empty geometries are not reported as being within Infinite distance by ST_DWithinで、空ジオメトリに対しては無限遠にあると正しく報告されない (Sandro Santilliさん)</p><p>4824, <code class="code">--without-wagyu</code>ビルドオプションを削除しました。WagyuはMVT対応のビルドでは必須になっているためです。</p><p>4933, topology.GetFaceByPointは、不正なエッジリンクを持つトポロジでは動作しなくなります。</p><p>4981, ST_StartPointが全てのジオメトリに対応しました。ラインストリング以外でNULLを返すことがなくなりました。</p><p>4149, ST_AsMVTGeomは、対象範囲に近い縮尺で元のジオメトリの詳細データを以前より多く保存するようになりました。以前の単純化の振る舞いが必要な場合には、事前にST_Simplifyを実行します。 (Darafei Praliaskouskiさん)</p><p>- Proj 4.9以上が必要です。</p><p>5000, 集約関数ST_AsMVTでのウィンドウ対応を、実際の利用場面が無く、でたらめな入力で異常終了するため、中止 (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101372112"></a>性能強化</h3></div></div></div><p>4997, FlatGeobuf書式による入出力 (Björn Harrtellさん)</p><p>4575, トポロジのメタテーブルに対してGRANT SELECT ... TO PUBLICを実行 (Sandro Santilliさん)</p><p>2592, CreateTopologyにおいてSRID &lt; 0でトポロジを定義できないようになりました (Sandro Santilliさん)</p><p>3232, 孤立ノードを異なるフェイスに移動できないようにしました (Sandro Santilliさん)</p><p>- トポロジ編集時にコレクションのTopoGeometryを考慮するようになりました (Sandro Santilliさん)</p><p>3248, TopoGeometryで使われている孤立エッジを削除できないようにしました (Sandro Santilli)</p><p>3231, TopoGeometryで使われている孤立ノードを削除できないようにしました (Sandro Santilliさん)</p><p>3239, 接続しているノードがTopoGeometryの定義に使われているエッジの修復をできないようにしました (Sandro Santilliさん)</p><p>4950, ValidateTopologyでノード用のcontaining_faceチェックの速度向上 (Sandro Santilliさん)</p><p>4945, ValidateTopologyで複数の外殻を持つフェイスのチェック (Sandro Santilliさん)</p><p>4944, ValidateTopologyで側面位置矛盾のチェック (Sandro Santilliさん)</p><p>3042, ValidateTopologyでエッジ接続のチェック (Sandro Santilliさん)</p><p>3276, ValidateTopologyでフェイスのMBRのチェック (Sandro Santilliさん)</p><p>4936, ValidateTopologyをバウンディングボックスで制限できるようにしました (Sandro Santilliさん)</p><p>4933, 巨大フェイス支配下のトポロジ構築の速度向上 (Sandro Santilliさん)</p><p>3233, ValidateTopologyがノードのcontaining_faceをチェックするようになりました (Sandro Santilliさん)</p><p>4830, ValidateTopologyが、エッジが両側のフェイスに囲まれているかをチェックするようになりました (Sandro Santilliさん)</p><p>4827, WKT入力でNaN座標値を許すようになりました (Paul Ramsey)</p><p>- ST_Value()がリサンプリングパラメータを受け付けるようになり、バイリニアのオプションを追加しました。 (Paul Ramseyさん)</p><p>3778, #4401, ST_BoundaryがTINで動作し、曲線を線形化しなくなりました (Aliaksandr Kalenikさん)</p><p>4881, #4884, 方向を保持するために、relationテーブル内の線のTopoGeometryに対応するedge_idの符号を格納 (Sandro Santilliさん)</p><p>4628, シェープファイルのロード時にANALYZEを無効にするオプションを追加 (Stefan Corneliu Petreaさん)</p><p>4924, 大きなマルチポイントでの動作がO(N^2) からO(NlogN)に早くなったST_RemoveRepeatedPoints (Aliaksandr Kalenikさん, Darafei Praliaskouskiさん)</p><p>4925, ポイントを見落とさないようST_DumpPointsを修正 (Aliaksandr Kalenikさん)</p><p>- 検索速度向上のためST_SRID(topogeometry)を無効にしました (Sandro Santilliさん)</p><p>2175, 同じ閉じた線をトポロジに追加する時に追加ノードを生成しないようにしました (Sandro Santilliさん)</p><p>4974, address_standardizer_data_usのパスを更新しました (AivenのJan Katinsさん, Regina Obeさん)</p><p>4975, PostGISアップグレードで一時テーブルを使わないように変更しました (AvienのJan Katinsさん)</p><p>4981, ST_StartPointがどのジオメトリもサポートするようになりました (Aliaksandr Kalenikさん)</p><p>4799, spatial_ref_sysにあるSRSをGeoJSONに取り込めるようになりました。</p><p>4986, PostgreSQL 14のGiSTインデックスが、ヒルベルトソートで早くなりました。 (Han Wangさん, Aliaksandr Kalenikさん, Darafei Praliaskouskiさん, Giuseppe Broccoloさん)</p><p>4949, 座標軸の交換の有無を渡すためにproj_normalize_for_visualizationを使います (Paul Ramseyさん)</p><p>- GH647, ST_PixelAsCentroids, ST_PixelAsCentroidをC関数の上に再実装 (Sergei Shoulbakovさん)</p><p>- GH648, ST_AsMVTGeomは現在より早いクリッピングを使っています (Aliaksandr Kalenikさん)</p><p>5018, pgsql2shpのWITH CTE節への基本的な対応 (Regina Obeさん)</p><p>5019, address_standardizer: pcre2対応の追加 (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101390800"></a>新機能</h3></div></div></div><p>4923, topology.ValidateTopologyRelation (Sandro Santilliさん)</p><p>4933, topology.GetFaceContainingPoint (Sandro Santilliさん)</p><p>2175, ST_Scroll (Sandro Santilliさん)</p><p>4841, トポロジ行を早く取得するFindTopology (Sandro Santilliさん)</p><p>4869, レイヤ行を早く取得するFindLayer (Sandro Santilliさん)</p><p>4851, TopoGeom_addTopoGeom関数(Sandro Santilliさん)</p><p>ST_MakeValid(geometry, options)ではGEOS 3.10にある妥当性構築アルゴリズムの代替が可能になりました (Paul Ramseyさん)</p><p>GDALの多数のアルゴリズム (inverse weighted distance, average等)の一つを使ってサンプルポイント間でラスタセル内に値を入れる ST_InterpolateRaster() (Paul Ramseyさん)</p><p>GDALのアルゴリズムを使ってラスタ値からとうこうせんを生成するST_Contour() (Paul Ramseyさん)</p><p>ST_SetZ()/ST_SetM()でラスタから読み込んだデータを使ってジオメトリのZ値、M値を埋めるようになりました (Paul Ramseyさん)</p><p>新しいGUC postgis.gdal_vsi_options。これによって、VSIネットワークサービス上でのデータベース外ラスタが認証キー等を使ったアクセスが可能になりました。</p><p>入力ジオメトリの辺の集合を返すST_DumpSegments (Aliaksandr Kalenikさん)</p><p>4859, ST_Point, ST_PointZ, ST_PointM, ST_PointZMのSRIDパラメータを持つコンストラクタ (Paul Ramseyさん)</p><p>4808, ST_ClusterKMeansはmax_radius引数に対応しました。クラスタ数が不明だがクラスタのサイズが分かっている場合に使います。(Darafei Praliaskouskiさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101397328"></a>A.8. PostGIS 3.2.0beta3</h2></div></div></div><p>2021/12/04</p><p>このバージョンでは、PostgreSQL 9.6以上、GEOS 3.6以上、Proj 4.9以上が必要です。追加機能にはGEOS 3.9以上 (ST_MakeValidの強化には GEOS 3.10以上)、Proj 6.1以上、PostgreSQL 14以上が必要です。</p><p>新しいPostgreSQL 14の高速インデックス構築で能率が低下するクエリがあるため、現実世界のクエリの本当の影響を見るユーザ試験が増えるまで、デフォルトでは機能を無効化することにしました。PostgreSQL 14以降を実行する場合には、次の操作を行うことで再有効化が可能です。</p><pre class="programlisting">ALTER OPERATOR FAMILY gist_geometry_ops_2d USING gist
        ADD FUNCTION 11 (geometry)
        geometry_gist_sortsupport_2d (internal);
    </pre><p>変更を戻すには次のようにします。</p><pre class="programlisting">ALTER OPERATOR FAMILY gist_geometry_ops_2d using gist
     DROP FUNCTION 11 (geometry);</pre><p>そして、GiSTインデックスの再構築を行います。</p><p>PostGIS 3.2.0beta2 リリース以降の変更点は次の通りです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101401296"></a>大幅な変更/修正</h3></div></div></div><p>5028, 混合ジオメトリ入力でST_AsFlatGeoBufが異常終了する (Björn Harrtellさん)</p><p>5029, ST_AsFlatGeobufのインデックス付き出力での破損 (Björn Harrtellさん)</p><p>5014, ST_TableFromFlatGeobufで異常終了する (Björn Harrtellさん)</p><p>ST_TableFromFlatGeobufをST_FromFlatGeobufToTableに名称変更 (Björn Harrtellさん)</p><p>PostgreSQL 14の高速インデックス構築はデフォルトで無効化しました。 (Paul Ramseyさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101404112"></a>A.9. リリース 3.2.0beta2</h2></div></div></div><p>リリース日: 2021/11/26</p><p>このバージョンでは、PostgreSQL 9.6以上、GEOS 3.6以上、Proj 4.9以上が必要です。追加機能にはGEOS 3.9以上 (ST_MakeValidの強化には GEOS 3.10以上)、Proj 6.1以上、PostgreSQL 14以上が必要です。PostGIS 3.2.0beta1 からの変更点は次の通りです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101405520"></a>大幅な変更/修正</h3></div></div></div><p>5016, ローダ (shp2pgsq): LDFLAGSを見るようになりました (Greg Troxelさん)</p><p>5005, ジオメトリカラムが最初の列でない時にテーブルでST_AsFlatGeoBufが異常終了する (Björn Harrtellさん)</p><p>5017, topology.ValidateTopologyで"shell_check"テーブルが既に存在するエラーが常に出る (Sandro Santilliさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101407440"></a>性能強化</h3></div></div></div><p>5018, pgsql2shpのWITH CTE節への基本的な対応 (Regina Obeさん)</p><p>5019, address_standardizer: pcre2対応の追加 (Paul Ramseyさん)</p><p>GH647, ST_AsMVTGeomは現在より早いクリッピングを使っています (Aliaksandr Kalenikさん)</p><p>GH648, ST_PixelAsCentroids, ST_PixelAsCentroidをC関数の上に再実装 (Sergei Shoulbakovさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101409872"></a>A.10. リリース 3.2.0beta1</h2></div></div></div><p>リリース日: 2021/10/23</p><p>このバージョンでは、PostgreSQL 9.6以上、GEOS 3.6以上、Proj 4.9以上が必要です。追加機能にはGEOS 3.9以上 (ST_MakeValidの強化には GEOS 3.10以上)、Proj 6.1以上、PostgreSQL 14以上が必要です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101411280"></a>誤り修正と大幅な変更</h3></div></div></div><p>5012, GEOS 3.10.0に対するレグレッションテストのクリーニング (Regina Obeさん, Paul Ramseyさん)</p><p>5000, 集約関数ST_AsMVTでのウィンドウ対応を、実際の利用場面が無く、でたらめな入力で異常終了するため、中止 (Paul Ramseyさん)</p><p>4994, shp2pgsqlが時々INSERTステートメントを入れそこなう (Sandro Santilliさん)</p><p>4990, getfacecontainingpointがi386では失敗する (Sandro Santilliさん)</p><p>5008, EMPTYオペランドを与えたST_DWithinが常にFALSEを返す (Sandro Santilliさん)</p><p>5002, liblwgeomがデフォルトで警告表示フラグを付けてビルドするようにすべき (Sandro Santilliさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101426640"></a>性能強化</h3></div></div></div><p>4997, FlatGeobuf書式による入出力 (Björn Harrtellさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101427920"></a>A.11. リリース 3.2.0alpha1</h2></div></div></div><p>リリース日: 2021/09/10</p><p>このバージョンでは、PostgreSQL 9.6以上、GEOS 3.6以上、Proj 4.9以上が必要です。追加機能にはGEOS 3.9以上 (より機能を多くするには GEOS 3.10以上)、Proj 6.1以上、PostgreSQL 14以上が必要です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101429328"></a>大幅な変更</h3></div></div></div><p>#4824, `--without-wagyu`ビルドオプションを削除しました。WagyuはMVT対応のビルドでは必須になっているためです。</p><p>#4933, topology.GetFaceByPointは、不正なエッジリンクを持つトポロジでは動作しなくなります。</p><p>#4981, ST_StartPointが全てのジオメトリに対応しました。ラインストリング以外でNULLを返すことがなくなりました。</p><p>#4149, ST_AsMVTGeomは、対象範囲に近い縮尺で元のジオメトリの詳細データを以前より多く保存するようになりました。以前の単純化の振る舞いが必要な場合には、事前にST_Simplifyを実行します。 (Darafei Praliaskouskiさん)</p><p>Proj 4.9以上が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101432016"></a>性能強化</h3></div></div></div><p>#2592, CreateTopologyにおいてSRID &gt; 0でトポロジを定義できないようになりました (Sandro Santilliさん)</p><p>#3232, 孤立ノードを異なるフェイスに移動できないようにしました (Sandro Santilliさん)</p><p>トポロジ編集時にコレクションのTopoGeometryを考慮するようになりました (Sandro Santilliさん)</p><p>#3248, TopoGeometryで使われている孤立エッジを削除できないようにしました (Sandro Santilli)</p><p>#3231, TopoGeometryで使われている孤立ノードを削除できないようにしました (Sandro Santilli)</p><p>#3239, 接続しているノードがTopoGeometryの定義に使われているエッジの修復をできないようにしました (Sandro Santilliさん)</p><p>#4950, ValidateTopologyでノード用のcontaining_faceチェックの速度向上 (Sandro Santilliさん)</p><p>#4945, ValidateTopologyで複数の外殻を持つフェイスのチェック (Sandro Santilliさん)</p><p>#4944, ValidateTopologyで側面位置矛盾のチェック (Sandro Santilliさん)</p><p>#3042, ValidateTopologyでエッジ接続のチェック (Sandro Santilliさん)</p><p>#3276, ValidateTopologyでフェイスのMBRのチェック (Sandro Santilliさん)</p><p>#4936, ValidateTopologyをバウンディングボックスで制限できるようにしました (Sandro Santilliさん)</p><p>#4933, 巨大フェイス支配下のトポロジ構築の速度向上 (Sandro Santilliさん)</p><p>#3233, ValidateTopologyがノードのcontaining_faceをチェックするようになりました (Sandro Santilliさん)</p><p>#4830, ValidateTopologyが、エッジが両側のフェイスに囲まれているかをチェックするようになりました (Sandro Santilliさん)</p><p>#4827, WKT入力でNaN座標値を許すようになりました (Paul Ramsey)</p><p>ST_Value()がリサンプリングパラメータを受け付けるようになり、バイリニアのオプションを追加しました。 (Paul Ramseyさん)</p><p>#3778, #4401, ST_BoundaryがTINで動作し、曲線を線形化しなくなりました (Aliaksandr Kalenikさん)</p><p>#4881, #4884, 方向を保持するために、relationテーブル内の線のTopoGeometryに対応するedge_idの符号を格納 (Sandro Santilliさん)</p><p>#4628, シェープファイルのロード時にANALYZEを無効にするオプションを追加 (Stefan Corneliu Petreaさん)</p><p>#4924, 大きなマルチポイントでの動作がO(N^2) からO(NlogN)に早くなったST_RemoveRepeatedPoints (Aliaksandr Kalenikさん, Darafei Praliaskouskiさん)</p><p>#4925, ポイントを見落とさないようST_DumpPointsを修正 (Aliaksandr Kalenikさん)</p><p>検索速度向上のためST_SRID(topogeometry)を無効にしました (Sandro Santilliさん)</p><p>#2175, 同じ閉じた線をトポロジに追加する時に追加ノードを生成しないようにしました (Sandro Santilliさん)</p><p>#4974, address_standardizer_data_usのパスを更新しました (AivenのJan Katinsさん, Regina Obeさん)</p><p>#4975, PostGISアップグレードで一時テーブルを使わないように変更しました (AvienのJan Katinsさん)</p><p>#4981, ST_StartPointがどのジオメトリもサポートするようになりました (Aliaksandr Kalenikさん)</p><p>#4799, spatial_ref_sysにあるSRSをGeoJSONに取り込めるようになりました。</p><p>#4986, PostgreSQL 14のGiSTインデックスが、ヒルベルトソートで早くなりました。 (Han Wangさん, Aliaksandr Kalenikさん, Darafei Praliaskouskiさん, Giuseppe Broccoloさん)</p><p>#4949, 座標軸の交換の有無を渡すためにproj_normalize_for_visualizationを使います (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101448528"></a>新機能</h3></div></div></div><p>#4923, topology.ValidateTopologyRelation (Sandro Santilliさん)</p><p>#4933, topology.GetFaceContainingPoint (Sandro Santilliさん)</p><p>#2175, ST_Scroll (Sandro Santilliさん)</p><p>#4841, トポロジ行を早く取得するFindTopology (Sandro Santilliさん)</p><p>#4869, レイヤ行を早く取得するFindLayer (Sandro Santilli)</p><p>#4851, TopoGeom_addTopoGeom関数(Sandro Santilliさん)</p><p>ST_MakeValid(geometry, options)ではGEOS 3.10にある妥当性構築アルゴリズムの代替が可能になりました (Paul Ramseyさん)</p><p>GDALの多数のアルゴリズム (inverse weighted distance, average等)の一つを使ってサンプルポイント間でラスタセル内に値を入れる ST_InterpolateRaster() (Paul Ramseyさん)</p><p>GDALのアルゴリズムを使ってラスタ値からとうこうせんを生成するST_Contour() (Paul Ramseyさん)</p><p>ST_SetZ()/ST_SetM()でラスタから読み込んだデータを使ってジオメトリのZ値、M値を埋めるようになりました (Paul Ramseyさん)</p><p>新しいGUC postgis.gdal_vsi_options。これによって、VSIネットワークサービス上でのデータベース外ラスタが認証キー等を使ったアクセスが可能になりました。</p><p>入力ジオメトリの辺の集合を返すST_DumpSegments (Aliaksandr Kalenikさん)</p><p>#4859, ST_Point, ST_PointZ, ST_PointM, ST_PointZMのSRIDパラメータを持つコンストラクタ (Paul Ramseyさん)</p><p>#4808, ST_ClusterKMeansはmax_radius引数に対応しました。クラスタ数が不明だがクラスタのサイズが分かっている場合に使います。(Darafei Praliaskouskiさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101455056"></a>A.12. リリース 3.1.0beta1</h2></div></div></div><p>リリース日: 2020/12/09</p><p>3.1.0alpha2からの変更のみ挙げています。本バージョンではPostgreSQL 9.6-13とGEOS 
&gt;= 3.6+が必要です。Proj6+, PostgreSQL 12+, GEOS 3.9.0devを使用する場合に追加機能と機能強化が有効になります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101456464"></a>大幅な変更</h3></div></div></div><p>4214, 非推奨関数 ST_Count(tablename,...), ST_ApproxCount(tablename, ...) ST_SummaryStats(tablename, ..), ST_Histogram(tablename, ...), ST_ApproxHistogram(tablename, ...), ST_Quantile(tablename, ...), ST_ApproxQuantile(tablename, ...)を削除。(Darafei Praliaskouskiさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101457616"></a>性能強化</h3></div></div></div><p>4801, ST_ClusterKMeansがPOINT[Z]Mジオメトリの重みに対応しました (Darafei Praliaskouskiさん)</p><p>4804, ST_ReducePrecision (GEOS 3.9+)で妥当な精度の低下が可能になりました (Paul Ramseyさん)</p><p>4805, _ST_SortableHashは、PostgreSQLの並列ソートの能率に関する問題の回避法が出ています。テーブルが巨大な場合には、ORDER BY geomでなくORDER BY _ST_SortableHash(geom) を使います。</p><p>4625, 統計的相関が計算されるようになりました。BRINインデックスで使えるようにするにはANALYZEを実行します。 (Darafei Praliaskouskiさん)</p><p>ST_GeomFromGML()内におけるurn:ogc:def:crs:EPSGのaxis order問題を修正 (Even Roualtさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101460432"></a>A.13. リリース 3.1.0alpha3</h2></div></div></div><p>リリース日: 2020/11/19</p><p>3.1.0alpha2からの変更のみ挙げています。本バージョンではPostgreSQL 9.6-13とGEOS 
&gt;= 3.6+が必要です。Proj6+, PostgreSQL 12+, GEOS 3.9.0devを使用する場合に追加機能と機能強化が有効になります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101465936"></a>大幅な変更</h3></div></div></div><p>4737, protobuf-cの必須バージョンを1.1.0に突然ながら変更 (Raúl Marínさん) 必須バージョンに合っていないか明示的に無効 (--without-protobuf)にした場合にコンフィギュアが失敗します。</p><p>4258, postgis_sfcgalのPostGISから独自ライブラリファイルへの分離 (Regina Obe)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101467472"></a>新機能</h3></div></div></div><p>4698, ST_AsEWKTへのprecisionパラメータの追加 (Raúl Marínさん)</p><p>ST_Union, ST_UnaryUnion, ST_Difference, ST_Intersection, ST_SymDifference, ST_Subdivideへの任意パラメータgridSizeの追加、GEOS 3.9が必要 (Sandro Santilliさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101469008"></a>性能強化</h3></div></div></div><p>4789, 多数の穴を持つ面TopoGeometryをTopoJSONで出力する際の速度向上 (Sandro Santilli)</p><p>4758, トポロジのノード作成のロバスト性の向上 (Sandro Santilliさん)</p><p>ST_Subdivideを割り込み可能にしました (Sandro Santilliさん)</p><p>4660, 浮動小数点数/座標値の印字を変更 (Raúl Marínさん) - 最短表現を使用します (十分に往復保証される条件付きです) - 絶対値で1e-8未満となる値に指数表記を使用します。以前は絶対値で1e-12未満は0と出力し、それより大きい場合は固定小数点形式です。 - 絶対値で1e+15を超える値に指数表記を使用します (同じ振る舞い)。 - 精度パラメータは指数表記に影響を与えます (以前は[5-8]に固定)。 - 全ての出力関数は求められる精度を尊重します (制限がありません)。 - デフォルトの精度は同じです (GeoJSONは9で、その他は15)。</p><p>4729, WKT/KML: 浮動小数点数を直接文字列バッファに書き込むよう変更 (Raúl Marínさん)</p><p>4533, BOX型で標準の座標印字システムを使用するよう変更 (Raúl Marínさん)</p><p>4686, 可能な時にジオグラフィの伸張を避けるよう変更 (Raúl Marínさん) ジオメトリがバウンディングボックスとST_BoundingDiagonalとの関係で完全に内側にあるか完全に外側にある場合に、ANALYZE, _ST_PointOutside, postgis_geobbox, ST_CombineBbox(box2d, geometry), ST_ClipByBox2Dに影響が出ます。</p><p>4741, インデックスを使う必要がある場合にはST_PointInsideCircleは使わず、ST_DWithinを代わりに使ってください。文書を調整 (Darafei Praliaskouski)</p><p>4737, ST_AsMVTの、特に並列処理を含むクエリで、能率改善とメモリ使用削減 (Raúl Marínさん)</p><p>4746, シリアル化プロセスで小さな最適化 (Raúl Marínさん)</p><p>4719, ST_Intersection(geometry,raster)でSRID不一致とスキーマ修飾の不一致で早期に失敗させるよう変更。 (Regina Obeさん)</p><p>4784, ST_CollectionExtract(geometry)に、最大次元の要素を抽出するデフォルトの振る舞いを追加。 (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101486672"></a>誤り訂正</h3></div></div></div><p>4691, 空ジオメトリでGiSTインデックスを生成する際にセグメンテーション違反が出るのを修正 (Raúl Marínさん)</p><p>悪いWKB入力 (Oracleタイプ)と不正なWKBのユニットテストの処理を修正。不正なWKBの処理ではメモリリークを除きました。 (Paul Ramsey)</p><p>4740, geography_distance_treeでの値の丸めをgeography_distance上での実行と同じに変更 (Raúl Marínさん, Paul Ramsey, Regina Obeさん)</p><p>4739, postgis_oidを使う全ての関数について内部キャッシュの初期化を確実に実行するよう更新 (Raúl Marín)</p><p>4767, #4768, #4771, #4772, 不正なWKBのパース時のSEGFAULTが出るのを修正 (Raúl Marínさん)</p><p>4769, st_addbandでSEGFAULTが出るのを修正 (Raúl Marínさん)</p><p>4790, 同一の頂点を持つ場合のST_3dintersects計算を修正 (Nicklas Avénさん)</p><p>4742, TigerジオコーダのアップグレードでTigerを2018年版に戻る (Regina Obeさん)</p><p>3372, TopoElementArrayがNULLになれない - ドメイン制約の変更 (Regina Obeさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101491024"></a>A.14. リリース 3.1.0alpha2</h2></div></div></div><p>リリース日: 2020/07/18</p><p>3.1.0alpha1からの変更のみ挙げています。本バージョンではPostgreSQL 9.6-13とGEOS 
&gt;= 3.6+が必要です。Proj6+, PostgreSQL 12+, GEOS 3.9.0devを使用する場合に追加機能と機能強化が有効になります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101492432"></a>新機能</h3></div></div></div><p>4656, 暗黙的にGeoJSONを食べさせるためのgeojson_text::geometryのキャスト (Raúl Marínさん)</p><p>4687, GEOS MaximumInscribedCircleの公開 (Paul Ramseyさん)</p><p>4710, ST_ClusterKMeansが3次元ジオメトリで動作するよう変更 (Darafei Praliaskouskiさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101494480"></a>性能強化</h3></div></div></div><p>4675, topology.GetRingEdgesがCでの実装に変更 (Sandro Santilliさん)</p><p>4681, ST_GetFaceGeometry: 破損情報の表示 (Sandro Santilliさん)</p><p>4651, ST_Simplify: 全く削除されないなら複製しないよう変更 (Raúl Marínさん)</p><p>4657,トーストからの復帰を可能な限り避ける (Paul Ramseyさん)</p><p>4490, 関数のコストの微調整 (Raúl Marínさん)</p><p>4672, getSRSbySRIDとgetSRIDbySRSのキャッシュ (Raúl Marínさん)</p><p>4676, トーストされたジオメトリをヘッダだけを読むために伸張を回避しました (Raúl Marínさん) PostgreSQLポイント型へのキャストの最適化 (Raúl Marínさん)</p><p>4620, 内部のwagyuを0.5.0に更新 (Raúl Marínさん)</p><p>4623, varlena型を返す関数の最適化 (Raúl Marínさん)</p><p>4677, 異なるキャッシュタイプ間でのgserializedオブジェクトの共有 (Raúl Marínさん)</p><p>MSVCコンパイラによるコンパイルの修正と一切合切の標準化 (Loïc Bartolettiさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101499728"></a>誤り訂正 </h3></div></div></div><p>4652, ST_GeomFromGMLの複数のメモリ関係の誤りを訂正 (Raúl Marínさん)</p><p>4661, デフォルト以外のスキーマでのspatial_ref_sysへのアクセスの修正 (Raúl Marínさん)</p><p>4670, ST_AddPoint: 正位置が要求される時の誤りを修正 (Raúl Marínさん)</p><p>4699, ST_Union(raster, otherarg)へのNULL入力時に異常終了 (Jaime Casanovaさん, 2ndQuadrant)</p><p>4716, configureスクリプト内のpkg-configの複数の問題を修正 (Raúl Marínさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101502544"></a>A.15. リリース 3.1.0alpha1</h2></div></div></div><p>リリース日: 2020/02/01</p><p>このバージョンにはPostgreSQL 9.6+-13 と GEOS 
&gt;= 3.6+ が必要です。 Proj6+, PostgreSQL 12+, GEOS 3.8.0 で追加機能と機能強化が有効になります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101503952"></a>大幅な変更</h3></div></div></div><p>バージョン出力をsvn番号からgitハッシュに変更 (Sandro Santilliさん, Raúl Marínさん)</p><p>4577, PostgreSQL 9.5対応を削除 (Raúl Marínさん)</p><p>4579, postgis_proc_set_search_path.plを削除 (Raúl Marínさん)</p><p>4601, ST_TileEnvelopeのシグネチャを変更。</p><p>3057, ST_Force3D, ST_Force3DZ, ST_Force3DM, ST_Force4Dのシグネチャを変更。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101506768"></a>新機能</h3></div></div></div><p>4601, ST_TileEnvelopeへのマージン引数の追加 (Yuri Astrakhanさん)</p><p>2972, pgsql2shpに消音モード (-q)を追加 (Kristian Thyさん)</p><p>4617, configureに`--without-phony-revision`スイッチの追加 (Raúl Marínさん)</p><p>3057, Force3D*とForce4Dの任意パラメータ (Kristian Thyさん)</p><p>4624, 平面のタイルを生成するために集合を返す関数ST_HexagonGridとST_SquareGrid (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101509456"></a>性能強化</h3></div></div></div><p>4539, libmのインクルードを統一しました (Raúl Marínさん)</p><p>4569, 不明なSRIDを持つジオメトリのSRIDのtypmodを持つカラムへの挿入を可能にしました (Paul Ramseyさん)</p><p>4149, ST_Simplify(geom, 0)がO(N)になりました。ST_Affine (ST_Translate, ST_TransScale, ST_Rotate)を静的化されました。ST_SnapToGridが最適化されました。(Darafei Praliaskouskiさん)</p><p>4574, リンク時最適化が有効になりました (Darafei Praliaskouskiさん)</p><p>4578, BRIN関数にparallelismとcostプロパティを追加 (Raúl Marínさん)</p><p>4473, yacc警告を消す (Raúl Marínさん)</p><p>4589, "--enable-debug"なしでビルドする際にCのassertを無効化 (Raúl Marínさん)</p><p>4543, 倍精度浮動小数点数の出力にRyuアルゴリズムの導入 (Raúl Marínさん)</p><p>4626, libxml2のpkg-configに対応 (Bas Couwenbergさん)</p><p>4615, GeoJSON出力の速度向上 (Raúl Marínさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101514320"></a>A.16. リリース 3.0.0</h2></div></div></div><p>リリース日: 2019/10/20</p><p>このバージョンでは PostgreSQL 9.5から12までの間、GEOS 3.6以上がそれぞれ必要です。Proj6+、PostgreSQL 12、GEOS 3.8.0を使っている場合には追加機能と機能強化が有効になります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101515728"></a>新機能</h3></div></div></div><p>2902, postgis_geos_noop (Sandro Santilliさん)</p><p>4128, ST_AsMVTの地物IDへの対応 (Stepan Kuzminさん)</p><p>4230, SP-GiSTとGiSTのN次元ボックスのoverlaps, contains, within, equalsへの対応 (Université Libre de Bruxelles (ULB)のEsteban ZimányiさんとArthur Lesuisseさん, Darafei Praliaskouskiさん)</p><p>4171, ST_3DLineInterpolatePoint (Julien Cabiecesさん, Vincent Moraさん)</p><p>4311, MVTポリゴンの評価にWAGYUを導入しました。利用するにはC++11コンパイラが必要で、CXXFLAGS (CFLAGSでなく)を使います。この選択肢を無効にして2.5からの挙動を維持するには`--without-wagyu`を追加します (Raúl Marínさん)</p><p>1833, ST_AsGeoJSON(row)での完全なGeoJSON地物の生成 (Joe Conwayさん)</p><p>3687, 暗黙的なGeoJSON生成のためのJSON (ジオメトリ)とJSONB(ジオメトリ)のキャスト (Paul Ramseyさん)</p><p>4198, SFCGAL関数のST_ConstrainedDelaunayTrianglesの追加 (Darafei Praliaskouskiさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101519696"></a>大幅な変更</h3></div></div></div><p>4267, GEOSの最小バージョンを3.6に変更 (Regina Obeさん, Darafei Praliaskouskiさん)</p><p>3888, ラスタ機能を別のエクステンションに分離 (Sandro Santilliさん)</p><p>3807, エクステンションのライブラリファイルにマイナーバージョンは含まれなくなりました。古い振る舞いが必要な場合にはコンフィギュレーション時に--with-library-minor-versionオプションを指定します。(Regina Obeさん)</p><p>4230, 現在ではN次元ボックスの演算子 (overlaps, contains, within, equals)は、どちらのオペランドに存在しない次元を確認していません。アップグレード後にN次元インデックスのREINDEXを実行して下さい (Darafei Praliaskouskiさん)</p><p>4229, PostgreSQL 9.5未満への対応を終了しました (Darafei Praliaskouskiさん)</p><p>4260, liblwgeomヘッダファイルがインストールされなくなりました。あなたのプロジェクトでヘッダファイルに依存している場合には、librttopoを代わりに使用して下さい (Darafei Praliaskouskiさん)</p><p>4258, ST_Area, ST_Distance, ST_Intersection, ST_Difference, ST_Union, ST_Intersects, ST_3DIntersects, ST_3DDistanceのSFCGAL対応を削除し、postgis.backendスイッチを削除しました (Darafei Praliaskouski)</p><p>4267, Proj 6の非推奨APIを有効にして使用しています (Darafei Praliaskouskiさん, Raúl Marínさん)</p><p>4267, SFCGALの最小バージョンを1.3.1に変更 (Darafei Praliaskouskiさん)</p><p>4331, ST_3DMakeBoxは現在は非常に小さいボックスを返していた場合にエラーを返すように変更 (Regina Obeさん)</p><p>4342, ST_AsGeoJSONとST_AsKMLのバージョンを付ける形式を削除しました (Paul Ramseyさん)</p><p>4356, ST_Accumを削除しました。array_aggを代わりに使います (Darafei Praliaskouskiさん)</p><p>4414, address_standardizerライブラリにバージョン番号が入るよう変更 (Raúl Marín)</p><p>4334, 名前を変えた関数パラメータに関係するアップグレードの問題を修正 (Raúl Marínさん)</p><p>4442, raster2pgsqlはNODATAタイルを飛ばす。何らかの理由でデータベースに保存する場合には-kオプションを使います。 (Darafei Praliaskouski)</p><p>4433, 32ビットのハッシュの修正 (インデックスの再インデックスが必要) (Raúl Marín)</p><p>3883, ソートではヒルベルト曲線と省略比較を使用しています。B木インデックスを使っている場合にはREINDEXの実行が必要です (Darafei Praliaskouskiさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101547472"></a>性能強化</h3></div></div></div><p>4341, ST_Intersects等で補助するインデックスを提供するためのメカニズムに、PostgreSQL 12以上の「補助関数」APIを使用してSQLインラインを置き換えました。</p><p>4330, 出力が中間プロセスにパイプで流されている時にpostgis_restoreがメモリ不足になる問題 (Hugh Ranalliさん)</p><p>4322, Proj 6+ APIへの対応、より精度の高い測地系変換、およびWKT投影への対応</p><p>4153, ST_Segmentizeは現在は線分を比例して分割します (Darafei Praliaskouski)</p><p>4162, ST_DWithinの文書にテーブルへのジオメトリと半径との格納されている場合の例を記述しました。 (Darafei Praliaskouskiさん, GitHubユーザBoscopさん)</p><p>4161, #4294, ST_AsMVTGeom: 解像度より小さいジオメトリのショートカット (Raúl Marínさん)</p><p>4176, ST_IntersectsがGEOMETRYCOLLECTIONに対応するよう変更 (Darafei Praliaskouskiさん)</p><p>4181, ST_AsMVTGeom: 評価によるタイプの変更を回避します (Raúl Marínさん)</p><p>4183, ST_AsMVTGeom: 単純化後に不正なジオメトリを削除します (Raúl Marínさん)</p><p>4196, postgis_extensions_upgrade()がパッケージ化されていないエクステンションのパッケージ化を行うように変更 (Sandro Santilliさん)</p><p>4215, ST_DumpAsPolygonsでの浮動小数点数の比較を使用 (Darafei Praliaskouskiさん)</p><p>4155, ST_LocateBetweenとST_LocateBetweenElevationsでのGEOMETRYCOLLECTION, POLYGON, TIN, TRIANGLEへの対応 (Darafei Praliaskouskiさん)</p><p>2767, AddRasterConstraintの任意パラメータの文書 (Sunveer Singhさん)</p><p>4244, BOX2D_outでのアラインメントされていないメモリを回避 (Raúl Marínさん)</p><p>4139, 次元混合のN次元インデックスが正しい木を構築できるよう変更 (Darafei Praliaskouskiさん, Arthur Lesuisseさん, Andrew Gierthさん, Raúl Marínさん)</p><p>4262, ST_LineToCurveのMULTISURFACEに適合している旨の記述 (Steven Ottensさん)</p><p>4276, ST_AsGeoJSONの文書の更新 (Darafei Praliaskouskiさん)</p><p>4292, ST_AsMVT: JSONのパースで小数点付き数値を倍精度浮動小数点数とする (Raúl Marínさん)</p><p>4300, ST_AsMVTGeom: 常に最も単純なジオメトリを返す (Raúl Marínさん)</p><p>4301, ST_Subdivide: 境界と一致しかける座標値で無限ループが発生するのを修正 (Darafei Praliaskouskiさん)</p><p>4289, ST_AsMVTGeom: クリップ前に座標空間の変換を行うように変更 (Raúl Marínさん)</p><p>4272, 統計情報計算不能時のNOTICEメッセージの改善 (Raúl Marínさん)</p><p>4313, #4307, PostgreSQL 12互換性 (Laurenz Albeさん, Raúl Marínさん)</p><p>4299, #4304, ST_GeneratePointsは現在はVOLATILE属性が付いていて、seedパラメータが追加されているものはIMMUTABLE属性が付いています (Mike Tavesさん)</p><p>4278, ST_3DDistanceとST_3DIntersectsは現在は立体としてのTINと立体としてのPOLYHEDRALSURFACEに対応しています (Darafei Praliaskouskiさん)</p><p>4348, ST_AsMVTGeom (GEOS): 常に検証を行うようにしました (Raúl Marínさん)</p><p>4295, ST_Overlaps, ST_Contains, ST_ContainsProperly, ST_Covers, ST_CoveredBy, ST_Crosses, ST_Touches, ST_Disjoint, ST_Relate, ST_EqualsでGEOMETRYCOLLECTIONを使用可能に (Esteban Zimányiさん)</p><p>4340, ST_Union集約関数はジオメトリ1GB以上でも処理できるようになっています (Darafei Praliaskouskiさん)</p><p>4378, TIN入力をGEOSバックエンドの関数に渡すようにしました (Darafei Praliaskouskiさん)</p><p>4368, LWGEOM構造体の余分なパディングが最小になるようメンバの並び替え (Raúl Marínさん)</p><p>4141, トポロジエクステンション内の行数処理にuint64を使用するよう変更 (Raúl Marínさん)</p><p>4412, NODATA=NaNのラスタの入力に対応しました (Darafei Praliaskouskiさん)</p><p>4413, raster2pgsql -t auto で、ラスタタイルサイズはGeoTIFFブロックサイズに従います (Darafei Praliaskouskiさん)</p><p>4422, Python 3の準備のためPython 2コードの訂正 (Christian Claussさん)</p><p>4352, PostgreSQL 12以上でCREATE OR REPLACE AGGREGATEを使用するよう変更 (Raúl Marín)</p><p>4394, ジオメトリの等価系演算子をFULL OUTER JOINで利用できるよう変更 (Darafei Praliaskouskiさん)</p><p>4441, GiSTをマルチカラムインデックスに対してペナルティが有効になるように、かつシングルカラムインデックスでより速くなるようにしました (Darafei Praliaskouskiさん)</p><p>4403, shp2pgsqlのコピーモード (-D)での座標値変換機能への対応 (Regina Obeさん)</p><p>4410, SRID不一致のエラーメッセージを従来より説明になるよう変更 (Darafei Praliaskouskiさん)</p><p>4399, 全ての出力関数でTINとTRIANGLEに対応 (Darafei Praliaskouskiさん)</p><p>3719, 線形化で弧あたりの線分最小数設定の強制 (Dan Bastonさん / City of Helsinki, Raúl Marínさん)</p><p>4277, RFC7946により、ST_GeomFromGeoJSONはデフォルトでSRID=4326を設定するようにし、また、4326以外から出力する場合にはST_AsGeoJSONは出力JSONにSRIDを設定するようにしています。 (Darafei Praliaskouskiさん)</p><p>3979, 往復関数postgis_sfcgal_noop() (Lucas C. Villa Realさん)</p><p>4328, 2次元TIN用のST_3DIntersects (Darafei Praliaskouskiさん)</p><p>4509, Tiger 2019のジオコーダの更新 (Regina Obeさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101590352"></a>A.17. リリース 3.0.0rc2</h2></div></div></div><p>リリース日: 2019/10/13</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。Proj6以上とPostgreSQL 12を使うと追加機能が有効になります。GEOS 3.8以上を使うと性能が良くなります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101592144"></a>主なハイライト</h3></div></div></div><p>4534, lwcurvepoly_from_wkb_stateのリークを修正 (Raúl Marínさん)</p><p>4536, lwcollection_from_wkb_stateのリークを修正 (Raúl Marínさん)</p><p>4537, WKTコレクションのパーサのリークを修正 (Raúl Marínさん)</p><p>4535, WKB: バッファオーバーフローを回避 (Raúl Marínさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101594576"></a>A.18. リリース 3.0.0rc1</h2></div></div></div><p>リリース日: 2019/10/08</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。Proj6以上とPostgreSQL 12を使うと追加機能が有効になります。GEOS 3.8以上を使うと性能が良くなります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101596368"></a>主なハイライト</h3></div></div></div><p>4519, getSRIDbySRSがクラッシュするのを訂正 (Raúl Marínさん)</p><p>4520,C++ライブラリを検出しているときに清浄な環境で行うように変更 (Raúl Marínさん)</p><p>集約関数ST_Union()のシグネチャを再格納して、不要な集約関数のシグネチャを削除しました。また、能率/サイズの機能強化をやり直し、ST_Union()で配列型を使用しないようにし、できれば、配列サイズの制限を避けるようにしました。 (Paul Ramseyさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101598416"></a>A.19. リリース 3.0.0beta1</h2></div></div></div><p>リリース日: 2019/09/28</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。Proj6以上とPostgreSQL 12を使うと追加機能が有効になります。GEOS 3.8以上を使うと性能が良くなります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101600208"></a>主なハイライト</h3></div></div></div><p>4492, ST_Simplifyが第3パラメータの値を無視するのを訂正 (Raúl Marínさん)</p><p>4494, ST_Simplify出力に古くなったbboxが含まれるのを修正 (Raúl Marínさん)</p><p>4493, ST_RemoveRepeatedPoints出力に古くなったbboxが含まれるのを修正 (Raúl Marínさん)</p><p>4495, ST_SnapToGrid出力に古くなったbboxが含まれるのを修正 (Raúl Marínさん)</p><p>4496, ST_Simplify(TRIANGLE)で要求があるなら小さい面を保存するように変更 (Raúl Marínさん)</p><p>4501, スーパーユーザでなくてもpostgis_tiger_geocoderをインストールできるようにする (Regina Obeさん)</p><p>4503, デカルトbboxの計算の速度向上 (Raúl Marínさん)</p><p>4504, shp2pgsql -Dがスキーマ修飾テーブルで動作しない (Regina Obeさん)</p><p>4505, GEOSとジオメトリとの相互変換の速度向上 (Dan Bastonさん)</p><p>4507, GEOS 3.8+のGEOSMakeValidとGEOSBuildAreaの使用 (Dan Bastonさん)</p><p>4491, ST_RemoveRepeatedPointsの速度向上 (Raúl Marínさん)</p><p>4509, Tiger 2019のジオコーダの更新 (Regina Obeさん)</p><p>4338, センサスのブロックレベルデータ (tabblock テーブル)がロードできない (Regina Obeさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101606224"></a>A.20. リリース 3.0.0alpha4</h2></div></div></div><p>リリース日: 2019/08/11</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。Proj6以上とPostgreSQL 12を使用している場合には、追加機能が有効になります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101608016"></a>主なハイライト</h3></div></div></div><p>4433, 32ビットのハッシュの修正 (インデックスの再インデックスが必要) (Raúl Marín)</p><p>4445, geometry_leの誤り修正 (Raúl Marínさん)</p><p>4451, gserialized_max_header_sizeの計算の訂正 (Raúl Marínさん)</p><p>4450, ST_GeometryTypeの速度向上 (Raúl Marínさん)</p><p>4452, ST_TileEnvelope()の追加 (Paul Ramseyさん)</p><p>4403, shp2pgsqlのコピーモード (-D)での座標値変換機能への対応 (Regina Obeさん)</p><p>4417, spatial_ref_sysの新しいエントリでの更新 (Paul Ramseyさん)</p><p>4449, ST_X, ST_Y, ST_Z, ST_Mの速度向上 (Raúl Marínさん)</p><p>4454, _ST_OrderingEqualsの速度向上 (Raúl Marínさん)</p><p>4453, ST_IsEmptyの速度向上 (Raúl Marínさん)</p><p>4271, pg_upgrade後にpostgis_extensions_upgrade()も更新するように変更 (Raúl Marínさん)</p><p>4466, _postgis_gserialized_statsの未定義のふるまいを訂正 (Raúl Marínさん)</p><p>4209, pgsql2shpでのNULLジオメトリ値の取り扱い (Paul Ramseyさん)</p><p>4419, mvt/geobufの有効化/無効化のためのprotobuf版の使用 (Paul Ramsey)</p><p>4437, シェープローダ/ダンパでのPOINT EMPTYの取り扱い (Paul Ramseyさん)</p><p>4456, Rasbery Pi 32ビットのテスト用のJenkinsボットの追加 (Bruce Rindahlさん,Regina Obeさん)</p><p>4420, address_standardizerエクステンションの更新パスが存在しない (Regina Obeさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101615696"></a>A.21. リリース 3.0.0alpha3</h2></div></div></div><p>リリース日: 2019/07/01</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101617488"></a>主なハイライト</h3></div></div></div><p>4414, address_standardizerライブラリにバージョン番号が入るよう変更 (Raúl Marín)</p><p>4352, PostgreSQL 12以上でCREATE OR REPLACE AGGREGATEを使用するよう変更 (Raúl Marín)</p><p>4334, パラメータ名変更に関連するアップグレードの問題を修正 (Raúl Marín)</p><p>4388, AddRasterConstraints: 制約を生成する時にNULLを無視するように変更 (Raúl Marín)</p><p>4327, getenvの結果をpfreeに与えるのを回避 (Raúl Marín)</p><p>4406, ジオハッシュの復号時に不正な文字があるとエラーを投げるように変更 (Raúl Marínさん)</p><p>4429, PROJ6を使うとリソースにリークが発生する問題の回避 (Raúl Marín)</p><p>4372, PROJ6 速度向上 (Raúl Marín)</p><p>3437, ポイントを引数にとるST_Intersectsの速度向上 (Raúl Marín)</p><p>4438, 拡張フラグ領域に対応するためシリアル化を変更 (Paul Ramseyさん)</p><p>4443, WagyuのコンフィギュレーションでCPPFLAGSを削除するよう修正 (Raúl Marínさん)</p><p>4440, FDWの型の検索に失敗する (Paul Ramseyさん)</p><p>4442, raster2pgsqlはNODATAタイルを飛ばす。何らかの理由でデータベースに保存する場合には-kオプションを使います。 (Darafei Praliaskouski)</p><p>4441, GiSTをマルチカラムインデックスに対してペナルティが有効になるように、かつシングルカラムインデックスでより速くなるようにしました (Darafei Praliaskouskiさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101623888"></a>A.22. リリース 3.0.0alpha2</h2></div></div></div><p>リリース日: 2019/06/02</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101625680"></a>主なハイライト</h3></div></div></div><p>#4404, 補助関数の選択性問題の修正 (Paul Ramseyさん)</p><p>#4311, Wagyuをポリゴンの評価に関する既定の選択肢にしました。この際、C++11コンパイラが必要で、CXXFLAGSを使います (CFLAGSではない)。MVT対応でビルドする場合に有効になるだけです。`--without-wagyu`で無効にして、2.5の動作を維持できます。 (Raul Marinさん)</p><p>#4198, SFCGAL関数ST_ConstrainedDelaunayTrianglesの追加 (Darafei Praliaskouskiさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101627728"></a>A.23. リリース 3.0.0alpha1</h2></div></div></div><p>リリース日: 2019/05/26</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12、GEOS 3.6以上です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101629520"></a>新機能</h3></div></div></div><p>Proj6以上を実行している場合には追加機能が有効になります</p><p>詳細はソースツリーに含まれるNEWSファイルをご覧下さい。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101631184"></a>A.24. リリース 2.5.0</h2></div></div></div><p>発売日: 2018/09/23</p><p>PostgreSQL+JITでコンパイルする場合にはLLVM 6以上が必要です。</p><p>このリリースに対応しているPostgreSQLのバージョンはPostgreSQL 9.5からPostgreSQL 12 (開発中)、GEOS 3.5以上です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101632976"></a>新機能</h3></div></div></div><p>#1847, PostgreSQL 11以上のSP-GiSTの2次元と3次元の対応 (Esteban ZimányiさんとArthur Lesuisseさん (以上Université Libre de Bruxelles (ULB)から)、Darafei Praliaskouskiさん)</p><p>#4056, ST_FilterByM (Nicklas Avénさん)</p><p>#4050, ST_ChaikinSmoothing (Nicklas Avénさん)</p><p>#3989, ST_Buffer single sided option (Stephen Knoxさん)</p><p>#3876, ST_Angle function (Rémi Curaさん)</p><p>#3564, ST_LineInterpolatePoints (Dan Bastonさん)</p><p>#3896, PostGIS_Extensions_Upgrade() (Regina Obeさん)</p><p>#3913, パッケージに含まれていないものからのエクステンション生成時のアップグレード (Sandro Santilliさん)</p><p>#2256, _postgis_index_extent() for extent from index (Paul Ramseyさん)</p><p>#3176, Add ST_OrientedEnvelope (Dan Bastonさん)</p><p>#4029, Add ST_QuantizeCoordinates (Dan Bastonさん)</p><p>#4063, ST_Scaleの仮想原点任意引数 (Paul Ramseyさん)</p><p>#4082, ST_BandFileSizeとST_BandFileTimestampの追加とST_BandMetadataの拡張 (Even Rouaultさん)</p><p>#2597, Add ST_Grayscale (Bborie Parkさん)</p><p>#4007, Add ST_SetBandPath (Bborie Parkさん)</p><p>#4008, Add ST_SetBandIndex (Bborie Parkさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101644240"></a>大幅な変更</h3></div></div></div><p>複数の古いバージョンからのアップデートスクリプトは現在は、全て単一のアップグレードスクリプトからのシンボリックリンクになりました (Sandro Santilliさん)</p><p>#3944, EPSG第9.2版へのアップデート (Even Rouaultさん)</p><p>#3927, ST_AsMVTのパラレル実装</p><p>#3925, MVT生成前のジオメトリの簡略化で地図のグリッドセルサイズを使うようにしました</p><p>#3899, 空ジオメトリおよび同じ接頭辞のジオメトリについてのB木のソートの並び順は、現在は、定義されています (Darafei Praliaskouskiさん)</p><p>#3864, POINTジオメトリのソートの効率改善 (Darafei Praliaskouskiさん)</p><p>#3900, GCC警告の修正、make -jが動作します (Darafei Praliaskouskiさん) - TopoGeo_addLinestringの堅牢性の改善 (Sandro Santilliさん) #1855, #1946, #3718, #3838</p><p>#3234, 空ポイントをトポロジのノードとして追加するのを禁止しました (Sandro Santilliさん)</p><p>#1014, ジオメトリがハッシュ可能になり、共通テーブル式のシグネチャに直接使えるようになりました (Paul Ramseyさん)</p><p>#3097, ST_Split()でMULTILINESTRINGで刃ができるようにしました (Paul Ramseyさん)</p><p>#3942, JSON-C 0.13以上でプライベートのヘッダを取り込まないように変更 (Björn Esserさん)</p><p>#3954, ST_GeometricMedianがポイントの重みに対応しました (Darafei Praliaskouskiさん)</p><p>#3965, #3971, #3977, #4071 ST_ClusterKMeansの再記述: 初期化改善、収束の高速化、K=2でも高速化 (Darafei Praliaskouskiさん)</p><p>#3982, ST_AsEncodedPolylineがLINESTRING EMPTYとMULTIPOINT EMPTYに対応しました (Darafei Praliaskouskiさん)</p><p>#3986, ST_AsTextに桁数を制限するための第2引数が導入されました (Marc Ducobuさん, Darafei Praliaskouskiさん)</p><p>#4020, BOX3Dからジオメトリへのキャストで、正しくつながった多面体サーフェイスが返るようになりました (Matthias Bayさん)</p><p>#2508, ST_OffsetCurveがジオメトリコレクションで動作するようになりました (Darafei Praliaskouskiさん)</p><p>#4006, ST_GeomFromGeoJSONの入力としてjsonとjsonbに対応するようになりました (Paul Ramseyさん, Regina Obeさん)</p><p>#4038, ST_Subdivideでジオメトリ分割のためのピボット選択で入力頂点を再利用するようにしました (Darafei Praliaskouskiさん)</p><p>#4025, #4032 ST_ClosestPointOfApproach, ST_DistanceCPAおよびST_CPAWithinの精度の問題の修正 (Paul Ramseyさん, Darafei Praliaskouskiさん)</p><p>#4076, トポロジ実装でのGEOS使用頻度の低減 (Björn Harrtellさん)</p><p>#4080, ST_BandMetaDataに外部ラスタのバンドを追加 - ラスタの挙動に関する情報 (例: データベース外ラスタの能率、最大の開けるファイル数)提供として「ラスタに関する技法」節を文書に追加</p><p>#4084: BOX3Dの前後に対する間違ったコード内コメントを訂正 (Matthias Bayさん)</p><p>#4060, #4094, PostgreSQL JIT対応 (Raúl Marínさん, Laurenz Albeさん)</p><p>#3960, ST_Centroidがlwgeom_centroidを使用するよう変更 (Darafei Praliaskouskiさん)</p><p>#4027, lwgeom_geosの重複コードの削除 (Darafei Praliaskouskiさん, Daniel Bastonさん)</p><p>#4115, パラレルの計画で不正なプロパティ値を持つMVTを生成する誤りを修正 (Raúl Marínさん)。</p><p>#4120, ST_AsMVTGeom: タイル座標系を使ったクリップ (Raúl Marínさん)。</p><p>#4132, ラスタのST_IntersectionがTopologyExceptionが投げられることなく動作するよう変更 (Vinícius A.B. Schmidtさん, Darafei Praliaskouskiさん)</p><p>#4177, #4180 PostgreSQL 12の開発ブランチへの対応 (Laurenz Albeさん, Raúl Marínさん)</p><p>#4156, ST_ChaikinSmoothing: デフォルトでポリゴンの始点終点も平滑化するようにしました (Darafei Praliaskouskiさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101669328"></a>A.25. リリース 2.4.5</h2></div></div></div><p>リリース日: 2018/09/12</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101670736"></a>誤り訂正</h3></div></div></div><p>#4031, ST_CurveToLineに渡される大きなMaxError許容値を生き残るようにしました (Sandro Santilliさん)</p><p>#4058, 大きい半径の小さい弧の線形化での無限ループを修正 (Sandro Santilliさん)</p><p>#4071, NULL/EMPTYを入力に与えたST_ClusterKMeansが異常終了する問題を修正 (Darafei Praliaskouskiさん)</p><p>#4079, ST_AsMVTGeomの出力をのポリゴンを確実に時計回りになるよう変更 (Paul Ramseyさん)</p><p>#4070, GEOS中断時に標準のエラーコードを使うよう変更 (Paul Ramseyさん)</p><p>#3980, 処理完了までの入力の解放が遅い(lucasvrさん)</p><p>#4090, PostgreSQL 11への対応 (Paul Ramseyさん, Raúl Marínさん)</p><p>#4077, 特定の空ジオメトリの場合にシリアル化が失敗する (Paul Ramsey)</p><p>#3997, lwgeom_medianの誤り修正とゼロ除算の回避 (Raúl Marínさん)</p><p>#4093, qsortのコールバックからの結果に一貫性が無い (yugrさん)</p><p>#4081, ジオグラフィ版DWithin()の特定ケースでの問題 (Paul Ramseyさん)</p><p>#4105, ソースツリーのパラレルビルド (Bas Couwenbergさん)</p><p>#4163, MVT: 先頭のジオメトリがNULLの時に発生するリソースリークの修正 (Raúl Marínさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101680592"></a>A.26. リリース 2.4.4</h2></div></div></div><p>リリース日: 2018/04/08</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101682000"></a>誤り訂正</h3></div></div></div><p>#3055, [ラスタ] バンドの無いラスタでST_Clip()を実行するとサーバが異常終了する (Regina Obeさん)</p><p>#3942, geojson: json-c &gt;= 0.13でプライベートのヘッダを取り込まないようにしました (Björn Esserさん)</p><p>#3952, 並列モードでST_Transformが失敗する (Paul Ramseyさん)</p><p>#3978, 2.1以前からのアップグレード時にKNNを訂正するようにしました (Sandro Santilliさん)</p><p>#4003, lwpoly_construct_circle: 0で割る問題を回避 (Raúl Marín Rodríguezさん)</p><p>#4004, B木インデックス構築時のメモリ枯渇を回避 (Edmund Hornerさん)</p><p>#4016, Proj 5.0.0対応 (Raúl Marín Rodríguezさん)</p><p>#4017, lwgeomの字句解析器でメモリ破損 (Peter Eさん)</p><p>#4020, BOX3Dからジオメトリへのキャストで、正しくつながった多面体サーフェイスが返るようになりました (Matthias Bayさん)</p><p>#4025, #4032 時間的に「ほとんどオーバラップしている」範囲に対する不正な答 (Paul Ramseyさん, Darafei Praliaskouskiさん)</p><p>#4052, いくつかのジオグラフィ関数のスキーマ修飾 (Regina Obeさん)</p><p>#4055, ST_ClusterIntersectingの返り値からSRIDが落ちている (Daniel Bastonさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101699536"></a>性能強化</h3></div></div></div><p>#3946, PostgreSQL 11へのコンパイルの対応 (Paul Ramseyさん)</p><p>#3992, pkg-config検出のためにpkg.m4のPKG_PROG_PKG_CONFIGマクロを使用するようにしました (Bas Couwenbergさん)</p><p>#4044, アップグレードのPostgreSQL 11 への対応 (Regina Obeさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101701456"></a>A.27. リリース 2.4.3</h2></div></div></div><p>リリース日: 2018/01/17</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101702864"></a>誤り訂正と機能強化</h3></div></div></div><p>#3713, '\'文字を出力することがあるエンコーディングへの対応</p><p>#3827, コンフィギュアのデフォルトを、多くの人にとっては偽陰性の原因となる、テストの中断をしないように設定 (Regina Obeさん)、#3988での標準準拠のために改訂 (Greg Troxelさん)</p><p>#3930, 32ビットプラットフォームでの円の最小バウンディングの問題</p><p>#3965, ST_ClusterKMeansで初期化時にいくつかのクラスタが失われる (Darafei Praliaskouskiさん)</p><p>#3956, BRINのopclassオブジェクトのアップデートが確実でない (Sandro Santilliさん)</p><p>#3982, ST_AsEncodedPolylineがLINESTRING EMPTYとMULTIPOINT EMPTYに対応しました (Darafei Praliaskouskiさん)</p><p>#3975, ST_Transformがスキーマ修飾なしでspatial_ref_sysのクエリを実行する。レストア時に発生。 (Paul Ramseyさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101706448"></a>A.28. リリース 2.4.2</h2></div></div></div><p>リリース日: 2017/11/15</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101707856"></a>誤り訂正と機能強化</h3></div></div></div><p>#3917, zcta5のロードを修正</p><p>#3667, ジオグラフィ版のST_Segmentizeの誤り修正</p><p>#3926, 2.2.6と2.3.4のアップグレード行程が失われていたのを追加 (Muhammad Usamaさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101710032"></a>A.29. リリース 2.4.1</h2></div></div></div><p>リリース日: 2017/10/18</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101711440"></a>誤り訂正と機能強化</h3></div></div></div><p>#3864, B木演算子のメモリリークを修正</p><p>#3869, goldリンカを用いたビルドの修正</p><p>#3845, 小さなM値を素直に扱う問題</p><p>#3871, ジオメトリ比較関数の性能調整</p><p>#3879, 弧によっては0で割る</p><p>#3878, ヘッダのsignumの一文定義</p><p>#3880, TYPMOD_GET_SRIDに未定義の振る舞い</p><p>#3875, ビットシフト演算子の振る舞いが不定なのを修正</p><p>#3864,B木ジオメトリソートの性能改善</p><p>#3874, lw_dist2d_pt_arcに0で割る箇所</p><p>#3882, 入力が負数の時にzigzagの振る舞いが不定</p><p>#3891, pointarray_to_encoded_polylineに未定義の振る舞い</p><p>#3895, 不正なWKB入力についてエラーが投げられる</p><p>#3886, ジオメトリの細分でまれにボックスが無くなる問題を修正</p><p>#3907, 全ての可能性のあるGBOX文字列出力にとって十分なメモリの確保 (Raúl Marín Rodríguezさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101718224"></a>A.30. リリース 2.4.0</h2></div></div></div><p>リリース日: 2017/09/30</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101719248"></a>新機能</h3></div></div></div><p>#3822, postgis_full_version()が、スクリプトのビルドに使ったPostgreSQLの版の表示と確認を行うようになりました (Sandro Santilliさん)</p><p>#2411, ST_Reverseの曲線への対応 (Sandro Santilliさん)</p><p>#2951, ジオグラフィのST_Centroid (Danny Götteさん)</p><p>#3788, postgis_restore.plがディレクトリ形式 (-Fd)で動作するようになりました (Roger Crew)</p><p>#3772, 方向に依存しないST_CurveToLine出力 (Sandro Santilliさん / KKGeo)</p><p>#2464, MaxError許容値を持つST_CurveToLine (Sandro Santilliさん / KKGeo)</p><p>#3599, ST_AsGeobufを介したGeobuf出力対応 (Björn Harrtellさん)</p><p>#3661, ST_AsMVTを介したMapboxベクタタイル出力対応 (Björn Harrtellさん / CartoDB)</p><p>#3689, 方向のチェックと強制を行う関数の追加 (Dan Bastonさん)</p><p>#3753, 2次元とN次元のポイントのGiSTペナルティの速度改善 (Darafei Praliaskouskiさん, Andrey Borodinさん)</p><p>#3677, ST_FrechetDistance (Shinichi Sugiyamaさん)</p><p>ほとんどの集約関数 (ラスタとジオメトリ)、および全てのSTABLE / IMMUTABLEラベルの付いた (ラスタとジオメトリ)関数にパラレル安全のラベル付けが施されました</p><p>#2249, ラスタのST_MakeEmptyCoverage (David Zwarg, ainomieliさん)</p><p>#3709, ST_Projectで符号付き距離が可能になりました (Darafei Praliaskouskiさん)</p><p>#524, ジオグラフィのポリゴン上のポリゴン、ライン上のライン、ライン上のポイントに対するCoversの対応 (Danny Götte)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101725904"></a>機能強化と訂正</h3></div></div></div><p>文書への多くの補正やいくつかの翻訳が完成しました。中核文書の多くの修正を行ったAndreas Schildさん。PostGIS日本語翻訳チームが最初の翻訳完成に達しました。</p><p>PostgreSQL 10対応</p><p>PostgreSQL 11への予備的な対応</p><p>#3645, シェープファイルのロードで論理的に削除されたレコードを避けるようにしました</p><p>#3747, Tigerジオコーダのnorm_addy複合型へのzip4とaddress_alphanumericの属性追加</p><p>#3748, 住所標準化のルックアップテーブルを更新してpagc_normalize_addressの略語を改善</p><p>#3647, GEOSNodeを使ってST_Nodeのノード化処理の改善 (Wouter Geraedtsさん)</p><p>#3684, EPSG第9版へのアップデート (Even Rouaultさん)</p><p>#3830, 住所標準化のinitialization from incompatible pointer typeの訂正 (9.6以上)</p><p>#3662, Make shp2pgsqlデバッグ情報を標準エラー出力に送ることでデバッグモードで動作するようにしました</p><p>#3405, lwgeom_to_pointsでのメモリリークの訂正</p><p>#3832, shp2pgsqlでint8のワイド整数に対応しました</p><p>#3841, 決定性ソートをジオグラフィのB木内で空ジオメトリに対応できるようにしました</p><p>#3844, Make =演算子を厳密な等価性テストにし、&lt; &gt;を荒い「空間ソート」にしました。</p><p>#3855, ST_AsTWKBのメモリと実行速度の改善</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101732816"></a>大幅な変更</h3></div></div></div><p>PostgreSQL 9.2への対応終了</p><p>#3810, GEOS 3.4.0以上をコンパイルに必要となりました</p><p>ほとんどの集約関数がパラレル安全のラベル付けが施されました。ほとんどの集約関数が削除と再作成されます。PostGIS集約関数を使っているビューがある場合には、アップグレード前に削除し、アップグレード後に再作成する必要があります。</p><p>#3578, ST_NumInteriorRings(POLYGON EMPTY)でNULLでなく0を返すようにしました</p><p>ST_DumpPointsをCで再実装したPostGIS 2.1.0以降不要となっていた_ST_DumpPointsを削除</p><p>B木インデックス演算子&lt; = &gt;を変更し、ソートでより良い空間局所性を提供しGROUP BYで期待される振る舞いとなるよう変更しました。ジオメトリまたはジオグラフィのB木インデックスが存在している場合には、REINDEXを実行して下さい。B木インデックスが偶然作られてGiSTインデックスに置き換える必要があるかを確認してください。オーダーの比較でボックスの左右で見る古いコードに依存する場合には、&lt;&lt; &gt;&gt;演算子を使うよう更新して下さい。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101735888"></a>A.31. リリース 2.3.3</h2></div></div></div><p>リリース日: 2017/07/01</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101737296"></a>誤り訂正と機能強化</h3></div></div></div><p>#3777, GROUP BYが空ジオメトリを含むと不規則になる</p><p>#3711, 2.5次元のエッジをトポロジに追加すると方位エラーが発生する</p><p>#3726, dblatexからのPDFマニュアルでprogramlistingの引用部を良い感じに描画するようになりました (Mike Toewsさん)</p><p>#3738, ラスタ: raster2pgsqlで-Y無しで-sを使うとSRIDを設定するのではなく変換を行う</p><p>#3744, ST_Subdivideで逆方向のジオメトリの一部が無くなる (Darafei Praliaskouski Komzpaさん)</p><p>#3750, @と~演算子がスキーマ修飾を施したジオメトリ関数とラスタ関数が動かない場合がある。レストア問題が原因。 (Axiom Data ScienceのShane StClairさん)</p><p>#3682, pgsql2shpの結果で真偽値のフィールド内がおかしい</p><p>#3701, pgsql2shpの2重引用符問題から脱出</p><p>#3704, 空のジオメトリでST_AsX3Dが異常終了する</p><p>#3730, ST_Clipがバンドを計算できなかった時のエラーレベルをErrorからNoticeに変更</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101742160"></a>A.32. リリース 2.3.2</h2></div></div></div><p>リリース日: 2017/01/31</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101743568"></a>誤り訂正と機能強化</h3></div></div></div><p>#3418, PostgreSQL 9.5以上でのKNNの再確認が、誤った順序でタプルを返すインデックスのため、失敗する</p><p>#3675, 関係関数でインデックスが使われない場合がある</p><p>#3680, PostGIS更新スクリプトで、ビューにGRANTを実行していなかった</p><p>#3683, PostgreSQL 9.5未満から9.4より後へのpg_upgradeの後PostGISが更新できない</p><p>#3688, ST_AsLatLonText: 分の丸めがおかしい</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101746384"></a>A.33. リリース 2.3.1</h2></div></div></div><p>リリース日: 2016/11/28</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101747792"></a>誤り訂正と機能強化</h3></div></div></div><p>#1973, st_concavehull()が空ジオメトリコレクションを返すことがある gdeさんが訂正</p><p>#3501, ラスタへの最大範囲制約を追加する際に大きなテーブルでは配列サイズが範囲を超える</p><p>#3643, 最新のOSX XCodeでPostGISがビルドできない</p><p>#3644, 割り込みでデッドロックが発生する</p><p>#3650, ST_Extent, ST_3DExtentとST_Mem系の集約関数にパラレル安全のラベル付けを施し、パラレル化できるようになりました</p><p>#3652, Collection(MultiCurve())での異常終了</p><p>#3656, 2.2版以下からの集約関数の更新の訂正</p><p>#3659, CREATE EXTENSIONの後にGUCを定義すると間違ったメモリコンテキストを使い異常終了する (manaeemさん)</p><p>#3665, BRINインデックスでのインデックス崩壊とメモリリークに対するJulien Rouhaudさん (Dalibo)からのパッチ</p><p>#3667, ジオグラフィを引数に取るST_Segmentizeの誤りに対するHugo Mercierさん (Oslandia)からのパッチ</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101756880"></a>A.34. リリース 2.3.0</h2></div></div></div><p>リリース日: 2016/09/26</p><p>新機能リリースです。新しい関数、効率改善、PostGIS 2.2.3からの関連する誤りの訂正、その他の素敵なことがあります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101758288"></a>重大/大幅な変更</h3></div></div></div><p>#3466, box3dからジオメトリへのキャストが3次元ジオメトリを返すようになりました (Julien Rouhaud of Daliboさん)</p><p>#3396, ST_EstimatedExtentでエラーでなく警告が投げられる (Regina Obeさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101759824"></a>新機能</h3></div></div></div><p>postgis_restore.plでユーザ定義のTOCへの対応を追加 (Christoph Moench-Tegederさん)</p><p>ST_PointNとST_SetPointについて負数のインデックスに対応 (Rémi Curaさん)</p><p>ジオグラフィを引数に取るST_Bufferへのパラメータ追加 (Thomas Bonfortさん)</p><p>TopoGeom_addElement, TopoGeom_remElement (Sandro Santilliさん)</p><p>populate_topology_layer (Sandro Santilliさん)</p><p>#454, ST_WrapXとlwgeom_wrapx (Sandro Santilliさん)</p><p>#1758, ST_Normalize (Sandro Santilliさん)</p><p>#2236, shp2pgsql -dについて"DROP TABLE IF EXISTS"を出すようにしました</p><p>#2259, ST_VoronoiPolygonsとST_VoronoiLines (Dan Bastonさん)</p><p>#2841と#2996, ST_MinimumBoundingRadiusと新規追加のST_MinimumBoundingCircleとをにヴェルツェルのアルゴリズムを使用して実装 (Dan Bastonさん)</p><p>#2991, ST_TransformについてPROJ.4文字列を使えるようにしました (Mike Toewsさん)</p><p>#3059, ST_Expandについて座標軸ごとのパラメータ受け渡しを可能にしました (Dan Bastonさん)</p><p>#3339, ST_GeneratePoints (Paul Ramseyさん)</p><p>#3362, ST_ClusterDBSCAN (Dan Bastonさん)</p><p>#3364, ST_GeometricMedian (Dan Bastonさん)</p><p>#3391, ST_EstimatedExtentで派生テーブルへの対応を追加 (Alessandro Pasottiさん)</p><p>#3424, ST_MinimumClearance (Dan Bastonさん)</p><p>#3428, ST_Points (Dan Bastonさん)</p><p>#3465, ST_ClusterKMeans (Paul Ramseyさん)</p><p>#3469, MULTIPOINTを引数に取るST_MakeLine (Paul Normanさん)</p><p>#3549, PostgreSQL 9.6のパラレルクエリモードにできる限り対応 (Paul Ramseyさん, Regina Obeさん)</p><p>#3557, ジオメトリ関数に対してクエリ統計情報に基づくコストを設定 (Paul Norman)</p><p>#3591, BRINインデックスへの対応を追加。PostgreSQL 9.4以上が必要です。 (2nd QuadrantのGiuseppe Broccoloさん, Julien RouhaudさんとDiagloのRonan Dunklauさん)</p><p>#3496, エクステンションによってインストールされたPostGISを再配置できないようにし、関数内ではスキーマ修飾の呼び出しを行うようにしました (Regina Obeさん) これはエクステンションでの#3494, #3486, #3076を最終的に解決するものでした</p><p>#3547, Tigerジオコーダを更新し、TIGER 2016に対応するようになり、httpとftpの両方に対応するようになりました。</p><p>#3613, 等しい長さの線分を使う分割 (OslandiaのHugo Mercierさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101770704"></a>誤り訂正</h3></div></div></div><p>PostGIS 2.2.3からの全ての関連した誤りの訂正</p><p>#2841, ST_MinimumBoundingCircleが元の地物を覆い切らない</p><p>#3604, pgcommon/Makefile.inによるCFLAGS指定が不正で、liblwgeom.hが誤ったものになる (Greg Troxel)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101772752"></a>性能強化</h3></div></div></div><p>#75, PIP簡略版の強化 (Dan Bastonさん)</p><p>#3383, インデックス演算中に小さいジオメトリをデシリアライズするのを避けるようにしました (Dan Bastonさん)</p><p>#3400, PIPルーティンの若干の最適化 (Dan Bastonさん)</p><p>トポロジへのラインの追加を割り込み可能にしました (Sandro Santilliさん)</p><p>Mike Toewsさんからの文書更新</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101775568"></a>A.35. リリース 2.2.2</h2></div></div></div><p>リリース日: 2016/03/22</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101776976"></a>新機能</h3></div></div></div><p>#3463, フェイス崩壊によるエッジの変更で異常終了するのを訂正</p><p>#3422, 標準の倍精度システム (arm64, ppc64el, s390c, powerpc, ...)におけるST_Splitのロバスト性の改善</p><p>#3427, spatial_ref_sysをEPSG 8.8版に更新</p><p>#3433, マルチポイントを引数に取るST_ClusterIntersectingが正しくない</p><p>#3435, ST_AsX3Dで凹ジオメトリのレンダリングの訂正</p><p>#3436, ptarray_clone_deepでメモリの扱いに間違いがある</p><p>#3437, マルチポイントを引数に取るST_Intersectsが正しくない</p><p>#3461, ST_GeomFromKMLでinnerBoundaryIsがあり、かつouterBoundaryIsが無い場合にPostGISが異常終了する</p><p>#3429, いくつかのプラットフォームで2.1から2.3へのアップデートの際に無限ループやハングが発生する</p><p>#3460, アップグレード後にST_ClusterWithinで'Tolerance not defined'エラーが発生する</p><p>#3490, ラスタデータとマテリアライズドビューのリストア問題。postgis_proc_set_search_path.sqlとrtpostgis_proc_set_search_path.sqlのスクリプトを使います。http://postgis.net/docs/manual-2.2/RT_FAQ.html#faq_raster_data_not_restoreを参照してください。</p><p>#3426, POINT EMPTYのテストが愉快なアーキテクチャでは失敗する</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101782480"></a>A.36. リリース 2.2.1</h2></div></div></div><p>リリース日: 2016/01/06</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101783888"></a>新機能</h3></div></div></div><p># 2232, SVGの丸め誤差蓄積の回避</p><p>#3321, トポロジのロードにおけるパフォーマンス不具合の訂正</p><p>#3329, TopoGeo_addPointにおけるロバスト性の不具合の訂正</p><p>#3349, postgis_topologyスクリプトのインストールパスの訂正</p><p>#3351, ST_RemoveIsoEdge (とlwt_RemIsoEdge)で終端ノードが孤立するようにしました</p><p>#3355, ジオグラフィ型を引数に取るST_Segmentizeがジオメトリボックスを持つ </p><p>#3359, toTopoGeomでTopoGeometry定義から低いIDのプリミティブの欠損を訂正</p><p>#3360, _raster_constraint_info_scaleへの不正な入力書式</p><p>#3375, コレクション (ポイント)に対する繰り返したポイント除去で異常終了する</p><p>#3378, 複数トポロジが存在する階層的なTopoGeometryの処理の訂正</p><p>#3380, #3402, トポロジのロードでラインが時々削除される</p><p>#3388, #3410, ST_Removepointsで終点がなくなるのを訂正</p><p>#3389, lwgeom_to_geojsonでのバッファオーバフロー</p><p>#3390, Alpine Linux 3.2でのビルドで、postgisとpostgis_topologyエクステンションのコンパイル時にエラーが発生する</p><p>#3393, ST_AreaがNaNを返すポリゴンがある</p><p>#3401, 32ビットシステムでのST_Splitの堅牢性の改善</p><p>#3404, ST_ClusterWithinでバックエンドが異常終了する</p><p>#3407, 複数のTopoGeometryオブジェクトを定義するフェイスまたはエッジを分割する時に異常終了するのを訂正</p><p>#3411, クラスタリング関数が空間インデックスを使っていない</p><p>#3412, TopoGeo_addLinestringでスナップ段階の堅牢性の改善</p><p>#3415, OSX 10.9でpkgsrcを使ったビルドの訂正</p><p>lwt_ChangeEdgeGeom [liblwgeom]のメモリリークの訂正</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101793616"></a>A.37. リリース 2.2.0</h2></div></div></div><p>リリース日: 2015/10/07</p><p>新機能リリースです。新しい関数、効率改善、その他の素敵なことがあります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101795024"></a>新機能</h3></div></div></div><p>トポロジAPIがliblwgeom内になりました (Sandro Santilliさん / Regione Toscanaさん - SITA)</p><p>liblwgeomの新しいlwgeom_unaryunion</p><p>liblwgeomの新しいlwgeom_linemerge</p><p>liblwgeomの新しいlwgeom_is_simple</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3169" target="_top">#3169</a>, SFCGAL 1.1に対応: ST_3DDifference, ST_3DUnion, ST_Volume, ST_MakeSolid, ST_IsSolid追加 (Vincent Moraさん / Oslandia)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3169" target="_top">#3169</a>, ST_ApproximateMedialAxis (Sandro Santilliさん)</p><p>ST_CPAWithin (Sandro Santilliさん / Boundless)</p><p>CPAの意味を持つ|=|演算子の追加とPostgreSQL 9.5以上のKNN対応 (Sandro Santilliさん / Boundless)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3131" target="_top">#3131</a>, ジオグラフィ型のKNN対応 (Paul Ramseyさん / CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3023" target="_top">#3023</a>, ST_ClusterIntersecting / ST_ClusterWithin (Dan Bastonさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2703" target="_top">#2703</a>, 全てのジオメトリタイプで確かなKNNの結果が出るようにしました、別名「KNN再確認」 (Paul Ramseyさん / CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1137" target="_top">#1137</a>, ST_RemoveRepeatedPointsに許容誤差値を与えることが可能になりました (Paul Ramseyさん / CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3062" target="_top">#3062</a>, Allow passing M factor to ST_ScaleにM値に対する乗数を渡せるようになりました (Sandro Santilliさん / Boundless)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3139" target="_top">#3139</a>, ST_BoundingDiagonal (Sandro Santilliさん / Boundless)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3129" target="_top">#3129</a>, ST_IsValidTrajectory (Sandro Santilliさん / Boundless)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3128" target="_top">#3128</a>, ST_ClosestPointOfApproach (Sandro Santilliさん / Boundless)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3152" target="_top">#3152</a>, ST_DistanceCPA (Sandro Santilliさん / Boundless)</p><p>インデックスキーの型の正準な出力</p><p>ST_SwapOrdinates (Sandro Santilliさん / Boundless)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2918" target="_top">#2918</a>, 測地線についてGeographicLib関数を使うようにしました (Mike Toewsさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3074" target="_top">#3074</a>, 大きなジオメトリを分解するST_Subdivide (Paul Ramseyさん / CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3040" target="_top">#3040</a>, 重心に基づくKNN GiSTインデックス  (&lt;&lt;-&gt;&gt;) n次元距離演算子 (Sandro Santilliさん / Boundless)</p><p>liblwgeomの相互運用性API (Sandro Santilliさん / CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2939" target="_top">#2939</a>, ST_ClipByBox2D (Sandro Santilliさん / CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2247" target="_top">#2247</a>, ST_Retile, ST_CreateOverview: データベース内ラスタのオーバビューの生成 (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/899" target="_top">#899</a>, shp2pgsqlの属性名マッピングを行う-mスイッチ (Regina Obeさん / Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1678" target="_top">#1678</a>, GDALコンフィギュレーション変数GDAL_DATAを指定するGUC postgis.gdal_datapathを追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2843" target="_top">#2843</a>, ラスタ入力での投影変換に対応 (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2349" target="_top">#2349</a>, Support for encoded_polyline入出力の対応 (Kashif Rasulさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2159" target="_top">#2159</a>, postgis_full_version()からのlibjsonの版の報告</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2770" target="_top">#2770</a>, ST_MemSize(raster)</p><p>postgis_noop(raster)追加</p><p>ST_TPI(), ST_TRI(), ST_Roughness()の存在しない形式を追加</p><p>GDALコンフィギュレーション変数GDAL_SKIPを指定するGUC postgis.gdal_enabled_driversの追加</p><p>データベース外バンドへのアクセスを有効にするGUC postgis.enable_outdb_rastersを追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2387" target="_top">#2387</a>, PostGISの一部としてのaddress_standardizerエクステンション (Stephen Woodbridgeさん / imaptools.com, Walter Sinclairさん, Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2816" target="_top">#2816</a>, address_standardizerの参考となるlexテーブル, gazテーブル, 規則テーブルを提供するaddress_standardizer_data_usエクステンション (Stephen Woodbridgeさん / imaptools.com, Walter Sinclairさん, Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2341" target="_top">#2341</a>, ST_MapAlgebraの新しいマスクパラメータ</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2397" target="_top">#2397</a>, シェープファイルローダのエンコーディングの自動読み取り</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2430" target="_top">#2430</a>, ST_ForceCurve</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2565" target="_top">#2565</a>, ST_SummaryStatsAgg()</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2567" target="_top">#2567</a>, ST_CountAgg()</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2632" target="_top">#2632</a>, ST_AsGML()が曲線地物に対応するようになりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2652" target="_top">#2652</a>, run_test.plに--upgrade-pathスイッチを追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2754" target="_top">#2754</a>, エクステンションとしてのSFCGALラッパー</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2227" target="_top">#2227</a>, Visvalingam-Whyattアルゴリズムによる簡略化ST_SimplifyVW, ST_SetEffectiveArea (Nicklas Avénさん)</p><p>TWKBエンコード関数とデコード関数 ST_AsTWKB, ST_GeomFromTWKB (Paul Ramseyさん / Nicklas Avénさん / CartoDB)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101839696"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3223" target="_top">#3223</a>, ST_Equalsへの簡略版memcmpの追加 (Daniel Bastonさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3227" target="_top">#3227</a>, Tiger 2015センサス対応のためのTigerジオコーダのアップグレード</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2278" target="_top">#2278</a>, マイナーリリース間のliblwgeomの互換性確保</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/897" target="_top">#897</a>, ST_AsX3DがGeoCodinates要素に対応し、"GD" "WE"とx/y軸反転とに対応しました (optionsに2, 3を使用)</p><p>ST_Split: マルチライン、マルチポイント、(マルチ)ポリゴンの境界によるライン分割を可能にしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3070" target="_top">#3070</a>, ジオメトリタイプ制約の簡略化</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2839" target="_top">#2839</a>, 関数インデックスへの選択度見積りの実装、ラスタテーブルでの空間クエリの速度向上。 (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2361" target="_top">#2361</a>, raster_columnsビューへのspatial_indexカラムの追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2390" target="_top">#2390</a>, pgsql2shpのテストスイート</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2527" target="_top">#2527</a>, raster2pgsqlへの、バンドのNODATAの有無のチェックを行わない-kフラグの追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2616" target="_top">#2616</a>, トポロジの構築とエクスポートでのテキストへのキャストを低減</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2717" target="_top">#2717</a>, 複合曲線がstartpoint, endpoint, pointn, numpointsに対応しました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2747" target="_top">#2747</a>, GDAL 2.0対応への追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2754" target="_top">#2754</a>, SFCGALがCREATE EXTENSIONでインストールできるようになりました (Vincent Moraさん @ Oslandia)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2828" target="_top">#2828</a>, ST_Envelope(raster)をSQLからCに変更</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2829" target="_top">#2829</a>, ジオメトリが完全にラスタを含みかつNODATAが指定されていない場合のST_Clip(raster)の短縮動作</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2906" target="_top">#2906</a>, TigerジオコーダのTiger 2014データ処理のための更新</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3048" target="_top">#3048</a>, ジオメトリ簡略化の速度向上 (J.Santanaさん @ CartoDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3092" target="_top">#3092</a>, 多数のテーブルがある場合にgeometry_columnsが遅い</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101876176"></a>A.38. リリース 2.1.8</h2></div></div></div><p>リリース日: 2015/07/07</p><p>重大な誤り訂正のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101877584"></a>誤り訂正</h3></div></div></div><p>#3159, ST_Affineでbboxキャッシュを強制しないようにしました</p><p>#3018, ジオグラフィに対するGROUP BYで時々重複行が返される</p><p>#3048, shp2pgsql - 特定のシステムロケールセットで数字の書式が不正になる</p><p>#3094, 不正な形式のGeoJSON入力でバックエンドが異常終了する</p><p>#3104, st_asgmlででたらめな文字をIDフィールドに入ってしまう</p><p>#3155, make uninstallでliblwgeom.hを消すようにしました</p><p>#3177, ネストされた空を引数に取る場合にgserialized_is_emptyが処理できない</p><p>ST_LineLocatePointの異常終了の訂正</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101881552"></a>A.39. リリース 2.1.7</h2></div></div></div><p>リリース日: 2015/03/30</p><p>重大な誤り訂正のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101882960"></a>誤り訂正</h3></div></div></div><p>#3086, ST_DumpValues()に不正なバンド番号を渡すとバックエンドが異常終了する</p><p>#3088, liblwgeom.hでstrcasestrを(再)定義しないようにしました</p><p>#3094, 不正な形式のGeoJSON入力でバックエンドが異常終了する</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101885008"></a>A.40. リリース 2.1.6</h2></div></div></div><p>リリース日: 2015/03/20</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101886416"></a>性能強化</h3></div></div></div><p>#3000, エッジ分割修復で確実にインデックスを使うようにしました</p><p>#3048, ジオメトリ簡略化の速度向上 (J.Santanaさん @ CartoDB)</p><p>#3050, ジオメトリ型の読み取りの高速化 (J.Santana @ CartoDB)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101888336"></a>誤り訂正</h3></div></div></div><p>#2941, ジオグラフィカラムに4326以外のSRIDが入るようになりました</p><p>#3069, 小さいオブジェクトがボックスを伴うことで不適切に膨らむ</p><p>#3068, 制約されていない次元でpostgis_typmod_dimsがNULLを返すようにしました</p><p>#3061, JSON, GML, GML ST_GeomFrom*関数で重複ポイントが可能になりました</p><p>#3058, N次元GiSTのpicksplitメソッドを最適な平面で分割するよう訂正</p><p>#3052, PostgreSQL 9.1より後で有効な&lt;-&gt;, &lt;#&gt;演算子を作成</p><p>#3045, &amp;&amp;&amp;演算子での次元の混乱を訂正</p><p>#3016, 壊れたトポロジのレイヤの削除が可能になりました</p><p>#3015, TopologySummaryで例外を避けるようにしました</p><p>#3020, データベース外のST_AddBandで高さの値であるべきところを幅の値にする誤り</p><p>#3031, 空のジオメトリ (ポイント)テーブルをダンプしたものをレストアできるようになりました</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101893584"></a>A.41. リリース 2.1.5</h2></div></div></div><p>リリース日: 2014/12/18</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101894992"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2933" target="_top">#2933</a>, 巨大なマルチジオメトリオブジェクトの構築の速度向上</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101925456"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2947" target="_top">#2947</a>, lwgeom_make_validが1要素のコレクションを入力に取る場合に発生するメモリリークを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2949" target="_top">#2949</a>, lwgeom_mindistance2dが曲線を入力に取る場合に発生するメモリリークを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2931" target="_top">#2931</a>, BOX表現が大文字小文字の区別をする</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2942" target="_top">#2942</a>, PostgreSQL 9.5対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2953" target="_top">#2953</a>, Z値/M値が極端な時に2次元の統計情報が生成されない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/3009" target="_top">#3009</a>, ジオグラフィにキャストすると基になるタプルに影響を与えることがある</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101932496"></a>A.42. リリース 2.1.4</h2></div></div></div><p>リリース日: 2014/09/10</p><p>誤り訂正と性能改善のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101933904"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2745" target="_top">#2745</a>, ポイントに対するST_Simplifyの速度向上</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2747" target="_top">#2747</a>, GDAL 2.0に対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2749" target="_top">#2749</a>, rtpostgis_upgrade_20_21.sqlをACIDになるようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2811" target="_top">#2811</a>, シェープファイル/ラスタをロードする時にインデックス名を指定しないようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2829" target="_top">#2829</a>, ジオメトリが完全にラスタを含みかつNODATAが指定されていない場合のST_Clip(raster)の短縮動作</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2895" target="_top">#2895</a>, クエリプランを良くするためにST_ConvexHull(raster)のコストを300に増加</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101953104"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2605" target="_top">#2605</a>, armel: _ST_Covers()が穴の中のポイントでTRUEを返す</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2911" target="_top">#2911</a>, スケールが1/-1でオフセットが0/0のラスタのST_Rescale/ST_Resample/ST_Resizeの出力を訂正。</p><p>ST_Union(raster)が異常終了するのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2704" target="_top">#2704</a>, gml:pos配列でST_GeomFromGML()が正しく動作しない (Even Roualtさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2708" target="_top">#2708</a>, スキーマを指定していないとupdategeometrysridがsridのチェックを更新しない。Marc Jansenさんからのパッチ</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2720" target="_top">#2720</a>, lwpoly_add_ringはreallocの後に最大環数を更新するべき</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2759" target="_top">#2759</a>, 複数行のSQLコメントを埋め込んだオブジェクトコメントの処理でpostgis_restore.plを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2774" target="_top">#2774</a>, ptarray_calculate_gbox_geodeticで未定義の振る舞いを訂正</p><p>ST_MakeValidの潜在的なメモリフォールトの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2784" target="_top">#2784</a>, --with-sfcgalへの偽の引数の処理の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2772" target="_top">#2772</a>, RASTER_getBandPath (ST_BandPath)内の早すぎるメモリ解放</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2755" target="_top">#2755</a>, SFCGALの全ての版に対する回帰テストを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2775" target="_top">#2775</a>, lwline_from_lwmpointでメモリリークが発生する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2802" target="_top">#2802</a>, ST_MapAlgebraが正当なコールバック関数の返り値か確認するようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2803" target="_top">#2803</a>, ST_MapAlgebraがuserargを使わないSTRICTのコールバック関数を処理するようになりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2834" target="_top">#2834</a>, ST_Estimated_Extentと大文字小文字の混じったテーブル名 (回帰テストでの問題)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2845" target="_top">#2845</a>, ST_AddPointから悪いジオメトリが発生する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2870" target="_top">#2870</a>, ジオグラフィカラムへのバイナリ挿入なのにジオメトリが挿入される</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2872" target="_top">#2872</a>, make install による文書構築(Greg Troxellさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2819" target="_top">#2819</a>, Centos5 / Solariでisfiniteを見つけるか置き換えるようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2899" target="_top">#2899</a>, geocodeでlimit 1を指定した時に最善の答えが返らない (Tigerジオコーダ)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2903" target="_top">#2903</a>, FreeBSDでコンパイルできない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2927" target="_top">#2927</a> reverse_geocode (Tigerジオコーダ)が方角プレフィクスを埋めないし、ST_Line_Locate_Pointが呼ばれる</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101976784"></a>A.43. リリース 2.1.3</h2></div></div></div><p>リリース日: 2014/05/13</p><p>誤り訂正とセキュリティ対策のリリースです。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101978192"></a>重要な変更</h3></div></div></div><p>この版から、オフラインでのラスタへのアクセスとGDALドライバの利用はデフォルトでは無効になりました。 </p><p>環境変数POSTGIS_GDAL_ENABLED_DRIVERSで特定のGDALドライバを有効にできます。デフォルトでは全てのGDALドライバは無効になっています。 </p><p>環境変数POSTGIS_ENABLE_OUTDB_RASTERSでデータベース外ラスタバンドを有効にできます。デフォルトでは、データベース外ラスタバンドは無効です。 </p><p>これらの環境変数はPostgreSQLプロセスに設定しなければなりません。また、クラスタ全体の振る舞いを決定するものです。 </p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101980496"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2697" target="_top">#2697</a>, 不正なGeoJSONポリゴン入力でサーバプロセスが異常終了する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2700" target="_top">#2700</a>, NULL行を持つ高次元データセットのダンプの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2706" target="_top">#2706</a>, ST_DumpPointsに空ジオメトリを与えるとサーバが異常終了する</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101983696"></a>A.44. リリース 2.1.2</h2></div></div></div><p>リリース日: 2014/03/31</p><p>この版は誤り訂正版です。2.1.1版以降に送られた問題の処理が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101985104"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2666" target="_top">#2666</a>, コンフィギュア時にSQLプリプロセッサが発見できないとエラーになる</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2534" target="_top">#2534</a>, st_distanceが大きなジオグラフィでは正しくない結果を返す</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2539" target="_top">#2539</a>, json-c/json.hが存在し、以前のjson/json.hのように使用可能であるかの確認</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2543" target="_top">#2543</a>, 単純なクエリからの不正なJOIN選択度エラー</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2546" target="_top">#2546</a>, 文字列座標値を持つGeoJSONのパースが不正 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2547" target="_top">#2547</a>, 階層的なTopoGeometryに対するST_Simplify(TopoGeometry)の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2552" target="_top">#2552</a>, ST_AsPNG, ST_AsTIFF, ST_AsJPEGのNULLラスタ処理の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2555" target="_top">#2555</a>, ST_Reclassのrange引数のパースの問題の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2556" target="_top">#2556</a>, ジオグラフィのST_Intersectsの結果が行挿入順序によって異なる</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2580" target="_top">#2580</a>, 同じデータベースに2回PostGISをインストールさせないようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2589" target="_top">#2589</a>, 必須でないvoidポインタの使用の削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2607" target="_top">#2607</a>, 1プロセスで1024以上のデータベース外ファイルを開くことができない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2610" target="_top">#2610</a>, フェイス分割アルゴリズムでエッジインデックスの使用を確実にしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2615" target="_top">#2615</a>, EstimatedExtent (その下にある統計情報に由来)がおかしいbboxを集める</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2619" target="_top">#2619</a>, GeoJSONで環の配列が空の場合に異常終了する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2634" target="_top">#2634</a>, 球面距離のコードの回帰テスト</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2638" target="_top">#2638</a>, M値を持つジオグラフィの距離が時々おかしい</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2648" target="_top">#2648</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2653" target="_top">#2653</a>, ”topology”がsearch_pathに無い時のトポロジ関数の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2654" target="_top">#2654</a>, トポロジでの非推奨呼び出しの削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2655" target="_top">#2655</a>, トポロジの権限を持たないユーザがpostgis_full_version()を呼ぶ時の問題</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2674" target="_top">#2674</a>, 欠損した=演算子と演算子クラスhash_raster_opsの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2675" target="_top">#2675</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2534" target="_top">#2534</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2636" target="_top">#2636</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2634" target="_top">#2634</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2638" target="_top">#2638</a>, 木構造の最適化でのジオグラフィの距離の問題</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102010192"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2494" target="_top">#2494</a>, GiSTインデックスでmemcopyを避けるようにしました (hayamizさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2560" target="_top">#2560</a>, ソフトアップグレード: 変更されていない集約関数の削除/置換を避けるようにしました</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102012624"></a>A.45. リリース 2.1.1</h2></div></div></div><p>リリース日: 2013/11/06</p><p>この版は誤り訂正版です。2.1.0版以降に送られた問題の処理が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102014032"></a>重要な変更</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2514" target="_top">#2514</a>, ラスタライセンスをGPL v3以上からv2以上に変更し、PostGISエクステンションをGPL v2で配布できるようにしました。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102019664"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2396" target="_top">#2396</a>, 回帰テストをよりエンディアン不明なテストにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2434" target="_top">#2434</a>, 珍しい状況でのST_Intersection(geog,geog)の回帰テストの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2454" target="_top">#2454</a>, exclude_nodata_valueパラメータに沿うST_PixelAsXXX関数の振る舞いの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2489" target="_top">#2489</a>, 2.0からのアップグレードで古い関数のシグネチャが残されているのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2525" target="_top">#2525</a>, 入れ子のコレクションのSRIDの処理の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2449" target="_top">#2449</a>, インデックス構築の潜在的な永久ループの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2493" target="_top">#2493</a>, 空ラスタを渡した時のST_DumpValuesの挙動の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2502" target="_top">#2502</a>, postgis_topology_scripts_installed()のインストールスキーマの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2504" target="_top">#2504</a>, pgsql2shpの正しくない呼び出しでセグメンテーション違反が発生するのを訂正 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2512" target="_top">#2512</a>, raster_columnsとraster_overviewsの外部テーブルと体現ビューへの対応</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102040656"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2478" target="_top">#2478</a>, Tiger 2013への対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2463" target="_top">#2463</a>, 弧ジオメトリの精密な距離計算への対応</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102043216"></a>A.46. リリース 2.1.0</h2></div></div></div><p>リリース日: 2013/08/17</p><p>マイナーリリースです。2.0.3以降に送られた誤り訂正、性能向上、機能向上を行いました。2.0以上からアップグレードする場合には、ソフトアップグレードだけが必要です。1.5以前からアップグレードする場合には、ハードアップグレードが必要です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102044624"></a>重大/大幅な変更</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1653" target="_top">#1653</a>, ST_Resample(raster)からSRIDパラメータを削除し、参照ラスタを使う形式でラスタのSRIDの参照を適用しなくしました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1962" target="_top">#1962</a> ST_Segmentize - ジオグラフィ対応の紹介での結果として、<code class="code">SELECT ST_Segmentize('LINESTRING(1 2, 3 4)',0.5);</code>で関数の曖昧エラーが出る</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2026" target="_top">#2026</a>, ST_Union(raster)が全てのラスタの全てのバンドを結合するようになりました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2089" target="_top">#2089</a>, liblwgeom: lwgeom_set_handlersがlwgeom_init_allocatorsに取って代わりました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2150" target="_top">#2150</a>, regular_blockingは制約ではなくなりました。raster_columns内の同名のカラムは、patially_unique制約とcoverage_tile制約の存在を確認しています。</p><p>ST_Intersects(raster, geometry)をST_Intersects(geometry, raster)と同じに振る舞うようにしました。</p><p>ポイント形式のST_SetValue(raster)が入力ポリゴンとラスタのSRIDを確認していなかった。</p><p>ST_Hillshadeのazimuthとaltitudeパラメータをラジアンから度に変更。</p><p>ST_SlopeとST_Aspectが返すピクセル値をラジアンから度に変更。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2104" target="_top">#2104</a>, ST_World2RasterCoord, ST_World2RasterCoordX, ST_World2RasterCoordYをST_WorldToRasterCoord, ST_WorldToRasterCoordX, ST_WorldToRasterCoordYにそれぞれ関数名変更。ST_Raster2WorldCoord, ST_Raster2WorldCoordX, ST_Raster2WorldCoordYをST_RasterToWorldCoord, ST_RasterToWorldCoordX, ST_RasterToWorldCoordYにそれぞれ関数名変更。</p><p>ST_Estimated_ExtentをST_EstimatedExtentに関数名変更</p><p>ST_Line_Interpolate_PointをST_LineInterpolatePointに関数名変更</p><p>ST_Line_SubstringをST_LineSubstringに関数名変更</p><p>ST_Line_Locate_PointをST_LineLocatePointに関数名変更</p><p>ST_Force_XXX をST_ForceXXXに関数名変更</p><p>ST_MapAlgebraFctNgbとST_MapAlgebraFctの1ラスタ形式と2ラスタ形式。代わりにST_MapAlgebraを使います。</p><p>ST_MapAlgebraExprの1ラスタ形式と2ラスタ形式。代わりに数式形式のST_MapAlgebraを使います。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102054992"></a>新機能</h3></div></div></div><p>- 新しい関数の完全なリストは http://postgis.net/docs/manual-2.1/PostGIS_Special_Functions_Index.html#NewFunctions_2_1 を参照</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/310" target="_top">#310</a>, ST_DumpPointsのC言語関数への変換 (Nathan Wagnerさん)と速度向上</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/739" target="_top">#739</a>, UpdateRasterSRID()</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/945" target="_top">#945</a>, JOIN選択度、N次元選択度計算、ユーザがアクセス可能な選択度およびテスト用統計情報取得関数の改善 (Paul Ramseyさん / OpenGeo)</p><p>toTopoGeom with TopoGeometry sink (Sandro Santilliさん / Vizzuality)</p><p>clearTopoGeom (Sandro Santilliさん / Vizzuality)</p><p>ST_Segmentize(geography) (Paul Ramseyさん / OpenGeo)</p><p>ST_DelaunayTriangles (Sandro Santilliさん / Vizzuality)</p><p>ST_NearestValue, ST_Neighborhood (Bborie Parkさん / UC Davis)</p><p>ST_PixelAsPoint, ST_PixelAsPoints (Bborie Parkさん / UC Davis)</p><p>ST_PixelAsCentroid, ST_PixelAsCentroids (Bborie Parkさん / UC Davis)</p><p>ST_Raster2WorldCoord, ST_World2RasterCoord (Bborie Parkさん / UC Davis)</p><p>ラスタ/ラスタ空間関係関数 (ST_Contains, ST_ContainsProperly, ST_Covers, ST_CoveredBy, ST_Disjoint, ST_Overlaps, ST_Touches, ST_Within, ST_DWithin, ST_DFullyWithin)の追加 (Bborie Parkさん / UC Davis)</p><p>ST_SetValues()でのバンド内の多数のピクセル値を入れる形式の追加 (Bborie Parkさん / UC Davis)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1293" target="_top">#1293</a>, 幅/高さに基づくラスタのサイズ再設定を行うST_Resize(raster)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1627" target="_top">#1627</a>, PostgreSQLエクステンションとしてのtiger_geocoderパッケージ</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1643" target="_top">#1643</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2076" target="_top">#2076</a>, Tiger 2011と2012のロードに対応したTigerジオコーダのアップグレード (Regina Obeさん / Paragon Corporation) Funded by Hunter Systems Groupの資金提供</p><p>ST_MakeValidがジオメトリコレクションに対応しました (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1709" target="_top">#1709</a>, ST_NotSameAlignmentReason(raster, raster)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1818" target="_top">#1818</a>, ST_GeomFromGeoHashと仲間 (Jason Smithさん (darkpanda))</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1856" target="_top">#1856</a>, Tigerジオコーダ: 逆ジオコーディングの評価で道路番号が好ましい場合に設定できるようになりました</p><p>ST_PixelOfValue (Bborie Parkさん / UC Davis)</p><p>PostgreSQLの幾何データ型 (point/path/polygon)との相互キャスト</p><p>1つのバンドにジオメトリ集合と該当値を使って1回の呼び出しで多数のピクセル値を入れるためにST_SetValues()にgeomval配列の形式を追加 (Bborie Parkさん / UC Davis)</p><p>ラスタをタイルに分解するST_Tile(raster) (Bborie Parkさん / UC Davis)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1895" target="_top">#1895</a>, 新しいR木のノード分割アルゴリズム (Alex Korotkovさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2011" target="_top">#2011</a>, ラスタを配列で出力するST_DumpValues (Bborie Parkさん / UC Davis)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2018" target="_top">#2018</a>, ST_DistanceがCircularString, CurvePolygon, MultiCurve, MultiSurface, CompoundCurveに対応しました </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2030" target="_top">#2030</a>, 任意数のラスタ (と任意数のバンド)のST_MapAlgebra (Bborie Parkさん / UC Davis)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2193" target="_top">#2193</a>, PAGCパーサをTiger住所正規化の置き換えとして使用可能にしました (Steve Woodbridgeさん, Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2210" target="_top">#2210</a>, ST_MinConvexHull(raster)</p><p>liblwgeom内のlwgeom_from_geojson (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1687" target="_top">#1687</a>, TopoGeometryのためのST_Simplify (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2228" target="_top">#2228</a>, TopoGeometryのためのTopoJSON出力 (Sandro Santilliさん / Vizzuality)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2123" target="_top">#2123</a>, ST_FromGDALRaster</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/613" target="_top">#613</a>, 文字列パラメータの代わりに数値パラメータを与えるST_SetGeoReference</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2276" target="_top">#2276</a>, データベース外バンド用のST_AddBand(raster)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2280" target="_top">#2280</a>, ST_Summary(raster)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2163" target="_top">#2163</a>, ラスタ用のST_TPI (Nathaniel Clayさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2164" target="_top">#2164</a>, ラスタ用のST_TRI (Nathaniel Clayさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2302" target="_top">#2302</a>, ラスタ用のST_Roughness (Nathaniel Clayさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2290" target="_top">#2290</a>, RGBAバンドを生成するST_ColorMap(raster)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2254" target="_top">#2254</a>, SFCGALバックエンドへの対応。 (バックエンド選択はpostgis.backend変数で行います) GEOSとSFCGALの両方で有効な関数はST_Intersects, ST_3DIntersects, ST_Intersection, ST_Area, ST_Distance, ST_3DDistanceです。SFCGALのみ有効な関数はST_3DIntersection, ST_Tesselate, ST_3DArea, ST_Extrude, ST_ForceLHR ST_Orientation, ST_Minkowski, ST_StraightSkeleton postgis_sfcgal_versionです。PostGISへの新規追加関数はST_ForceSFS (Olivier CourtinさんとHugo Mercier / Oslandia)です</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102103760"></a>性能強化</h3></div></div></div><p>新関数と関数改善の詳細については、<a class="xref" href="PostGIS_Special_Functions_Index.html#NewFunctions_2_1" title="15.12.10. PostGIS 2.1で新規作成/機能強化された関数">Section 15.12.10, “PostGIS 2.1で新規作成/機能強化された関数”</a>を参照して下さい。</p><p>ラスタ版ST_UnionとST_Clipの高速化と多くの関数の追加操作</p><p>ジオメトリ/ジオグラフィでのプランナの選択度の向上と多数の関数</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/823" target="_top">#823</a>, Tigerジオコーダ: loader_generate_scriptのダウンロード部分の貪欲さを低減</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/826" target="_top">#826</a>, raster2pgsqlの詰め物タイルはデフォルトでなくなりました。-Pフラグで詰め物タイルにできます</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1363" target="_top">#1363</a>, ST_AddBand(raster, ...)配列版のC言語による再記述</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1364" target="_top">#1364</a>, ST_Union(raster, ...)集約関数のC言語による再記述</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1655" target="_top">#1655</a>, ST_Slopeのパラメータの追加的なデフォルト値</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1661" target="_top">#1661</a>, 集約関数形式のST_SameAlignmentを追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1719" target="_top">#1719</a>, ST_MakeValidのポイントとジオメトリコレクション入力への対応の追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1780" target="_top">#1780</a>, ST_GeoHashのジオグラフィ対応の追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1796" target="_top">#1796</a>, ジオグラフィの距離計算の非常に大きな効率改善</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1802" target="_top">#1802</a>, 関数の割り込み可能性について改善。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1823" target="_top">#1823</a>, ST_AsGMLへのGML 3出力用の識別子カラム (GML 3.2.1から必須)を使用するためのパラメータの追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1856" target="_top">#1856</a>, Tigerジオコーダ: 逆ジオコーディングの評価で道路番号が好ましい場合に設定できるようになりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1938" target="_top">#1938</a>, 1回の呼び出しで複数の新しいバンドを追加するようST_AddBandを基本からリファクタリング</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1978" target="_top">#1978</a>, 閉じた円弧 (円)の距離計算で悪い答が出る</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1989" target="_top">#1989</a>, 入力ジオメトリをクリップされるべきラスタとの交差だけに処理するようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2021" target="_top">#2021</a>, ST_Union(raster, ...)集約関数に複数バンド対応を追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2006" target="_top">#2006</a>, 極や日付線をまたぐST_Area(geography)への対応の改善</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2065" target="_top">#2065</a>, ST_Clip(raster, ...)がC言語の関数になりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2069" target="_top">#2069</a>, ST_Tile(raster)にタイルの詰め物に関するパラメータ追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2078" target="_top">#2078</a>, ST_Slope, ST_AspectとST_HillShadeにカバレッジのタイルの処理を解決するための形式を追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2097" target="_top">#2097</a>, ST_Union(raster)のuniontypeオプションにRANGEを追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2105" target="_top">#2105</a>, 出力を参照ラスタに整列させるためのST_Transform(raster)の形式を追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2119" target="_top">#2119</a>, Rasters passed to ST_Resample(), ST_Rescale(), ST_Reskew()とST_SnapToGrid()に渡すラスタはSRIDを必須としなくなりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2141" target="_top">#2141</a>, 制約がラスタカラムに追加できない場合の出力がより詳細になりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2143" target="_top">#2143</a>, ラスタのblocksize制約で複数値を許容するようになりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2148" target="_top">#2148</a>, ラスタのcoverage_tile制約の追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2149" target="_top">#2149</a>, ラスタのspatially_unique制約の追加</p><p>TopologySummary出力に登録されていないレイヤとレイヤから欠落しているTopoGeometryオブジェクトの個数が含まれるようになりました</p><p>ST_HillShade(), ST_Aspect()とST_Slope()に、実行前に行うNODATAピクセルの補間のための新しいパラメータを追加。</p><p>ポイント版ST_SetValue(raster)は現在はgeomval版 ST_SetValues(rast)をラップするようになっています。</p><p>中核APIとローダでラスタバンドのisnodataフラグへの確実な対応</p><p>ST_AspectとST_HillShadeのパラメータのデフォルト値の追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2178" target="_top">#2178</a>, ST_Summaryは[S]フラグでSRIDの有無が分かるようになりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2202" target="_top">#2202</a>, libjson-cの任意化 (コンフィギュアスイッチ--without-json)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2213" target="_top">#2213</a>, libjson-c 0.10以上への新規対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2231" target="_top">#2231</a>, raster2pgsqlがファイル名カラムのカラム名を-nで指定できるようになりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2200" target="_top">#2200</a>, ST_Union(raster, uniontype)で全ての入力ラスタの全てのバンドを結合するようになりました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2264" target="_top">#2264</a>, postgis_restore.plがカスタムスキーマでPostGISを使っているデータベースへの再格納に対応しました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2244" target="_top">#2244</a>, ラスタにデータベース外バンドがある場合にジオリファレンスが変わったときに警告が出る</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2222" target="_top">#2222</a>, ST_AsBinaryに、データベース外バンドをデータベース内バンドのように返すべきかを決めるフラグOutAsInパラメータの追加</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102148048"></a>訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1839" target="_top">#1839</a>, raster2pgsqlでGeoTIFFのサブデータセットの処理</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1840" target="_top">#1840</a>, raster2pgsqlでタイル数を計算する時機のロジックを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1870" target="_top">#1870</a>, ラスタのST_Intersectsの文書と実際の振る舞いとをあわせました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1872" target="_top">#1872</a>, ST_ApproxSummarystatsでゼロで割らないようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1875" target="_top">#1875</a>, パラメータのcountが0で他が全てNULLの時にST_SummaryStatsがNULLを返す</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1932" target="_top">#1932</a>, raster2pgsqlでインデックスのテーブル空間についての書式を訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1936" target="_top">#1936</a>, ST_GeomFromGMLにCurvePolygonを与えると異常終了する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1939" target="_top">#1939</a>, 独自データ型: summarystats, histogram, quantile, valuecountを削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1951" target="_top">#1951</a>, 距離が0のラインストリングで異常終了するのを削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1957" target="_top">#1957</a>, 1点のラインストリングを与えるとST_DistanceがNULLを返す</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1976" target="_top">#1976</a>, ジオグラフィの環内ポイントのコードを信頼性向上のため見直し</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1981" target="_top">#1981</a>, gcc 4.6以上で警告の原因となる未使用変数の削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1996" target="_top">#1996</a>, GeoJSON出力でPOINT EMPTYに対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2062" target="_top">#2062</a>, 距離計算の効率改善</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2057" target="_top">#2057</a>, raster2psqlからlibpqへのリンクの問題を訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2077" target="_top">#2077</a>, ST_Hillshade()が正しくない値を返すのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2019" target="_top">#2019</a>, ST_FlipCoordinatesがバウンダリボックスを更新しない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2100" target="_top">#2100</a>, ST_AsRasterが指定したピクセル型によってはラスタを返さないことがある</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2126" target="_top">#2126</a>, ST_ConvexHull()からの空のラスタの処理を改善</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2165" target="_top">#2165</a>, ST_NumPointsの回帰テストがCircularStringだと失敗する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2168" target="_top">#2168</a>, ST_Distanceが交換可能にならないときがある</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2182" target="_top">#2182</a>, データベース外ラスタで、SRIDなしでST_Resizeを実行する際の問題訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2188" target="_top">#2188</a>, GDALデータセットからデータをｈ区政する時に問題となる関数パラメータ値のオーバフローの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2198" target="_top">#2198</a>, ST_Tile()内でデータベース外ラスタのバンドを生成する時に正しくない寸法を使うのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2201" target="_top">#2201</a>, 境界上のST_GeoHashが間違っている</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2203" target="_top">#2203</a>, GDAL Warp APIに渡す時の、未知のSRIDを持つラストとデフォルトのgeotransformを処理する方法を変更</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2215" target="_top">#2215</a>, 暗黙のインデックスの名前の衝突のためラスタ除外制約
Fixed raster exclusion constraint for conflicting name of implicit index</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2251" target="_top">#2251</a>, デフォルトのgeotransform行列でラスタを再スケーリングすると次元がおかしくなるのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2133" target="_top">#2133</a>, ST_MapAlgebraの数式版における効率性回帰テストの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2257" target="_top">#2257</a>, 空ジオメトリでテストする時にGBOX変数が初期化されない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2271" target="_top">#2271</a>, ラスタの並列ビルドの阻止</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2282" target="_top">#2282</a>, デバッグモードで未定義関数nd_stats_to_grid()を呼ぶのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2307" target="_top">#2307</a>, ST_MakeValidが不正なジオメトリを出力する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2309" target="_top">#2309</a>, SRS情報取得時の紛らわしいINFOメッセージを削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2336" target="_top">#2336</a>, wgetを使って全てのファイルを得るのにFIPS 20 (KS)がワイルドカード展開を行う</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2348" target="_top">#2348</a>, 2.0から2.1へのラスタのアップグレードパスの提供</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2351" target="_top">#2351</a>, ジオグラフィ間のst_distanceが間違っている</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2359" target="_top">#2359</a>, オーバビュー制約の追加時のスキーマ名の処理の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2371" target="_top">#2371</a>, サポートするGEOSの版のマイナー以下の桁が違う</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2383" target="_top">#2383</a>, 警告メッセージから安全でない \" の使用を削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2384" target="_top">#2384</a>, ST_Neighborhoodの変数型が不正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102181072"></a>既知の問題</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2111" target="_top">#2111</a>, ラスタバンドはデータベース外ラスタの最初の256バンドだけ参照可能</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102182608"></a>A.47. リリース 2.0.5</h2></div></div></div><p>リリース日: 2014/03/31</p><p>この版は誤り訂正版です。2.0.4版以降に送られた問題の処理が行われました。PostGIS 2.0以上を使っている場合にはソフトアップデートが必要です。PostGIS 1.5以前を使っている場合には、ハードアップグレードが必要です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102184016"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2494" target="_top">#2494</a>, GiSTインデックスでのmemcpyを回避</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2502" target="_top">#2502</a>, postgis_topology_scripts_installed()のインストールスキーマの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2504" target="_top">#2504</a>, pgsql2shpの正しくない呼び出しでセグメンテーション違反が発生するのを訂正 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2528" target="_top">#2528</a>, ST_Split / lwline_split_by_lineでのメモリリークを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2532" target="_top">#2532</a>, ラスタ/ジオメトリの交換演算子の追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2533" target="_top">#2533</a>, 重複シグネチャの削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2552" target="_top">#2552</a>, ST_AsPNG, ST_AsTIFF, ST_AsJPEGのNULLラスタ処理の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2555" target="_top">#2555</a>, ST_Reclassのrange引数のパースの問題の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2589" target="_top">#2589</a>, 必須でないvoidポインタの使用の削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2607" target="_top">#2607</a>, 処理時に1024以上のデータベース外ファイルが開けない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2610" target="_top">#2610</a>, フェイス分割アルゴリズムでエッジインデックスの使用を確実にしました </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2619" target="_top">#2619</a>, GeoJSONポリゴンで空の環があると異常終了する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2638" target="_top">#2638</a>, M値を持つジオグラフィの距離が時々おかしい</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102195280"></a>重要な変更</h3></div></div></div><p>#<a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2514" target="_top">#2514</a>, PostGIS ExtensionをGPLv2で配布できるようにラスタのラインセンスをGPL v3+からv2+に変更</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102197072"></a>A.48. リリース 2.0.4</h2></div></div></div><p>リリース日: 2013/09/06</p><p>この版は誤り訂正版です。2.0.3版以降に送られた問題の処理が行われました。PostGIS 2.0以上を使っている場合にはソフトアップデートが必要です。PostGIS 1.5以前を使っている場合には、ハードアップグレードが必要です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102198480"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2110" target="_top">#2110</a>, EMPTYと原点上のポイントとの等価演算</p><p>TopoGeo_addPointで精度距離でのポイントの追加が可能になりました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1968" target="_top">#1968</a>,toTopoGeomからエッジがなくなって返るのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2165" target="_top">#2165</a>, ST_NumPointsの回帰テストがCircularStringだと失敗する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2168" target="_top">#2168</a>, ST_Distanceが交換可能にならないときがある</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2186" target="_top">#2186</a>, GUIのプログレスバーの更新が頻繁に過ぎる</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2201" target="_top">#2201</a>, 境界上のST_GeoHashが間違っている</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2257" target="_top">#2257</a>, 空ジオメトリでテストする時にGBOX変数が初期化されない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2271" target="_top">#2271</a>, ラスタの並列ビルドの阻止</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2267" target="_top">#2267</a>, テーブルの解析からサーバが異常終了する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2277" target="_top">#2277</a>, 潜在的なセグメンテーション違反を削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2307" target="_top">#2307</a>, ST_MakeValidが不正なジオメトリを出力する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2351" target="_top">#2351</a>, ジオグラフィ間のst_distanceが間違っている</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2359" target="_top">#2359</a>, overview制約のスキーマの処理が不正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2371" target="_top">#2371</a>, サポートするGEOSの版のマイナー以下の桁が違う</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2372" target="_top">#2372</a>, KMLの座標に空白を入れたらパースできない</p><p>システム全体でインストールされるliblwgeomでビルドするよう訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2383" target="_top">#2383</a>, 警告メッセージ内の安全でない \' の使用を訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2410" target="_top">#2410</a>, 頂点が同一線上にある曲線の分割の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2412" target="_top">#2412</a>, ST_LineToCurveが4頂点未満のラインに対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2415" target="_top">#2415</a>, ST_MultiがCOMPOUNDCURVEとCURVEPOLYGONに対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2420" target="_top">#2420</a>, ST_LineToCurve: 閉じた円の定義に少なくとも8エッジが必要</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2423" target="_top">#2423</a>, ST_LineToCurve: 同じ角度を形成する全てのアークが必要</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2424" target="_top">#2424</a>, ST_CurveToLine: MULTICURVEのCOMPOUNDCURVEに対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2427" target="_top">#2427</a>, ST_CurveToLineでの曲線の1番目のポイントの維持を確実にするようにしました</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102218832"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2269" target="_top">#2269</a>, ANALYZEでジオメトリ全体のTOASTを解除する無駄を排除</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101171792"></a>既知の問題</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2111" target="_top">#2111</a>, ラスタバンドはデータベース外ラスタの最初の256バンドだけ参照可能</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp101173456"></a>A.49. リリース 2.0.3</h2></div></div></div><p>リリース日: 2013/03/01</p><p>この版は誤り訂正版です。2.0.2版以降に送られた問題の処理が行われました。PostGIS 2.0以上を使っている場合にはソフトアップデートが必要です。PostGIS 1.5以前を使っている場合には、ハードアップグレードが必要です。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp101174864"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2126" target="_top">#2126</a>, ST_ConvexHull()からの空のラスタの処理を改善</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2134" target="_top">#2134</a>, GDAL関数に渡す前のSRS処理を確実にしました</p><p>liblwgeomの様々なメモリリークを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2173" target="_top">#2173</a>, ラインを頂点で分割する際の堅牢性の訂正とトポロジ構築への波及(<a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2172" target="_top">#2172</a>)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2174" target="_top">#2174</a>, 間違った関数lwpoly_free()の使用法の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2176" target="_top">#2176</a>, ST_ChangeEdgeGeomの堅牢性問題の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2184" target="_top">#2184</a>, Z値を持つトポロジの複写を正しくしました </p><p>postgis_restore.plでダンプでジオメトリカラム名の混合する場合への対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2188" target="_top">#2188</a>, GDALデータセットからデータをｈ区政する時に問題となる関数パラメータ値のオーバフローの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2216" target="_top">#2216</a>, マルチポリゴンのGeoJSON (穴のあるもの)のパーシングで多数のメモリエラー</p><p>GeoJSONパーサのメモリリークの訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102236496"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2141" target="_top">#2141</a>, 制約がラスタカラムに追加できない場合の出力がより詳細になりました</p><p>ST_ChangeEdgeGeomの速度向上</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102238544"></a>A.50. リリース 2.0.2</h2></div></div></div><p>リリース日: 2012/12/03</p><p>この版は誤り訂正版です。2.0.1版以降に送られた問題の処理が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102239952"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1287" target="_top">#1287</a>, "gist_geometry_ops"の削除によって、この場合のクライアントのlegacy_gist.sqlのパッケージが壊れた</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1391" target="_top">#1391</a>, 1.5版からのアップデートでエラーが発生する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1828" target="_top">#1828</a>, ST_DWithinで選択度見積もりが貧弱</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1838" target="_top">#1838</a>, Tigerのラインデータのインポートでエラー</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1869" target="_top">#1869</a>, ST_AsBinaryがlegacy_minor/legacy.sqlスクリプトに一意に追加されない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1885" target="_top">#1885</a>, Tiger2010のcensus_loader.sqlでtabblockテーブルのフィールド欠損</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1891" target="_top">#1891</a>, liblwgeomのビルドでLDFLAGS環境変数を使うようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1900" target="_top">#1900</a>, ビッグエンディアン機でのpgsql2shpの訂正 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1932" target="_top">#1932</a>, raster2pgsqlでインデックスのテーブル空間設定が不正な書式になるのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1936" target="_top">#1936</a>, ST_GeomFromGMLにCurvePolygonを与えると異常終了する</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1955" target="_top">#1955</a>, 二重接続されたエッジのST_ModEdgeHealとST_NewEdgeHeal</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1957" target="_top">#1957</a>, 1点のラインストリングを与えるとST_DistanceがNULLを返す</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1976" target="_top">#1976</a>, ジオグラフィの環内ポイントのコードを信頼性向上のため見直し</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1978" target="_top">#1978</a>, 閉じた円弧 (円)の長さの計算が間違っている</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1981" target="_top">#1981</a>, gcc 4.6以上で発見された、使われないけれども宣言されている変数の削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1987" target="_top">#1987</a>, ST_Simplifyの挙動を1.5.x版に戻しました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1989" target="_top">#1989</a>, 入力ジオメトリをクリップされるべきラスタとの交差だけに処理するようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1991" target="_top">#1991</a>, PostgreSQL 9.2上でのジオコーディングが本当に遅い</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1996" target="_top">#1996</a>, GeoJSON出力でPOINT EMPTYに対応</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1998" target="_top">#1998</a>, 両方の終端を共有するエッジをつなげるST_{Mod,New}EdgeHealの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2001" target="_top">#2001</a>, ST_CurveToLineで、ジオメトリが実際に弧を含んでいない場合に効果が無い</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2015" target="_top">#2015</a>, ST_IsEmpty('POLYGON(EMPTY)')がFALSEを返す</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2019" target="_top">#2019</a>, ST_FlipCoordinatesがバウンダリボックスを更新しない</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2025" target="_top">#2025</a>, TopoGeo_AddLineStringでサイドの位置が衝突するのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2026" target="_top">#2026</a>, 距離計算の効率改善</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2033" target="_top">#2033</a>, 2.5次元トポロジへの分割ポイント追加の訂正 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2051" target="_top">#2051</a>, ST_AsGeoJSON出力での精度過剰の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2052" target="_top">#2052</a>, lwgeom_to_geojsonでのバッファオーバフローの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2056" target="_top">#2056</a>, ST_SetValue()でのラスタとジオメトリのSRIDチェックの欠落を訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2057" target="_top">#2057</a>, raster2psqlからlibpqへのリンクの問題を訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2060" target="_top">#2060</a>, GetTopoGeomElementArrayで「次元」チェック違反になるのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2072" target="_top">#2072</a>, ST_Intersects(raster)がデータベース外バンドで動作することを予防する旧式のチェックの削除</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2077" target="_top">#2077</a>, ST_Hillshade(raster)が正しくない答えを出すのを訂正 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2092" target="_top">#2092</a>, libxml2.8以上でのST_GeomFromKML,ST_GeomFromGMLの名前空間の問題</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2099" target="_top">#2099</a>, ST_OffsetCurveでの例外発生時に二度メモリ開放をしているのを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2100" target="_top">#2100</a>, ST_AsRaster()が指定したピクセルタイプでラスタを返さないことがある</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2108" target="_top">#2108</a>, ST_Line_Interpolate_Pointが常にポイントを返すのを確実にしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2109" target="_top">#2109</a>, ST_Centroidが常にポイントを返すのを確実にしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2117" target="_top">#2117</a>, ST_PointOnSurfaceが常にポイントを返すのを確実にしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2129" target="_top">#2129</a>, 入力がコレクションの場合のST_Homogenizeで出力のSRIDを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2130" target="_top">#2130</a>, マルチポリゴンのGeoJson読み込みでメモリエラーが出るのを訂正</p><p>Maven jarのURLを更新</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102277456"></a>性能強化</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1581" target="_top">#1581</a>, ST_Clip(raster, ...)は、現在では、引数のラスタにNODATAが無い場合に、バンドのNODATAを強制しません</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1928" target="_top">#1928</a>, Accept array properties in GML input 入力GMLのマルチ系ジオメトリでの配列を受け付けるようにしました (Kashif RasulさんとShoaib Burqさん / SpacialDB)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2082" target="_top">#2082</a>, トポロジのエッジテーブルの始端ノードと終端ノードにインデックスを追加</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/2087" target="_top">#2087</a>, 再帰的共通テーブル式の使用でtopology.GetRingEdgesの速度向上</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102281424"></a>A.51. リリース 2.0.1</h2></div></div></div><p>リリース日: 2012/06/22</p><p>この版は誤り訂正版です。2.0.0版以降に送られた問題の処理が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102282832"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1264" target="_top">#1264</a>, st_dwithin(geog, geog, 0)の訂正。 </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1468" target="_top">#1468</a> shp2pgsql-guiのテーブル、カラム、スキーマの入力テキストボックスがずれる</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1694" target="_top">#1694</a>, clangでのビルドの訂正 (vinceさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1708" target="_top">#1708</a>, PostGIS 2.0より前のバックアップの再格納の改善。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1714" target="_top">#1714</a>, トポロジでの広い許容範囲の処理の堅牢性向上</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1755" target="_top">#1755</a>, ST_GeographyFromTextの高次元への対応。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1759" target="_top">#1759</a>, ラスタが有効なデータベースで投影変換されたシェープファイルのロード。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1761" target="_top">#1761</a>, raster2pgsqlでのNetCDF, HDF4およびHDF5のサブデータセットの処理。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1763" target="_top">#1763</a>, topology.toTopoGeomで独自のsearch_pathを使っている。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1766" target="_top">#1766</a>, ST_RemEdge*が周辺のTopoGeometryオブジェクトを破壊しないようにしました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1774" target="_top">#1774</a>, エッジ塩ｍ、餌取を不正なものに設定した時のエラーを明確にしました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1775" target="_top">#1775</a>, 2頂点を対象とするST_ChangeEdgeGeomの衝突検出。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1776" target="_top">#1776</a>, ST_SymDifference(empty, geom)がgeomを返すよう訂正。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1779" target="_top">#1779</a>, SQLコメントファイルをインストールするようにしました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1782" target="_top">#1782</a>, ラスタでの空間参照系文字列の処理の訂正。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1789" target="_top">#1789</a>, ValidateTopologyで、エッジとノードのクロスを虚偽報告する問題を訂正。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1790" target="_top">#1790</a>, toTopoGeomの重複するプリミティブの処理の訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1791" target="_top">#1791</a>, 非常に近いが重ならない2ポイントを引数に取るST_Azimuthの訂正。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1797" target="_top">#1797</a>, (ValidateTopology(xxx)).*構文の呼び出しに関する訂正。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1805" target="_top">#1805</a>, put back the 900913 SRID登録を戻しました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1813" target="_top">#1813</a>, メタデータテーブル内の読むことができるリレーションだけを表示するよう変更。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1819" target="_top">#1819</a>, ST_World2RasterCoordとST_Raster2WorldCoord の浮動小数点数の問題の訂正。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1820" target="_top">#1820</a> PostgreSQL 9.2beta1でのコンパイル。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1822" target="_top">#1822</a>, PostgreSQL 9.2beta1でのトポロジのロード。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1825" target="_top">#1825</a>, 準備されたジオメトリキャッシュの抽出について訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1829" target="_top">#1829</a>, GeoJSONパーサで初期化されていない値の読み込みの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1834" target="_top">#1834</a>, ユーザ定義の空間参照系をバックアップするためだけのPostGISエクステンションの改訂</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1839" target="_top">#1839</a>, raster2pgsqlでGeoTIFFのサブデータセットの処理</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1840" target="_top">#1840</a>, raster2pgsqlでタイル数を計算する時機のロジックを訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1851" target="_top">#1851</a>, EPSG:3844の空間参照系パラメータの訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1857" target="_top">#1857</a>, ST_AddEdge*Face*での終点不整合の検出失敗を訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1865" target="_top">#1865</a>, postgis_restore.plで、先頭にダッシュ(訳注: "--")が付く行が欠損する。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1867" target="_top">#1867</a>, topogeo_add*に不正なトポロジ名を渡した際の例外</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1872" target="_top">#1872</a>, ST_ApproxSummarystatsでゼロで割らないようにしました</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1873" target="_top">#1873</a>, ptarray_locate_pointを、線上にある場合にZ/M補間値を返すよう訂正</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1875" target="_top">#1875</a>, パラメータのcountが0で他が全てNULLの時にST_SummaryStatsがNULLを返す </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1881" target="_top">#1881</a>, shp2pgsql-gui -- 時々、フィールドの編集をきっかけに行が削除される</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1883" target="_top">#1883</a>, ジオコーダのインストールで、create_census_base_tables()を実行し要素すると失敗する (Brian Panullaさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102325840"></a>性能強化</h3></div></div></div><p>トポロジ編集関数からの例外メッセージをより詳細にしました。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1786" target="_top">#1786</a>, ビルドの依存関係を改善。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1806" target="_top">#1806</a>, ST_BuildArea, ST_MakeValidおよびST_GetFaceGeometryの速度向上。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1812" target="_top">#1812</a>, より安定的なテストのためにLIBLWGEOMにlwgeom_normalizeを追加。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102329424"></a>A.52. リリース 2.0.0</h2></div></div></div><p>リリース日: 2012/04/03</p><p>メジャーリリースです。ハードアップグレードが必要です。完全なダンプの再読み込みと、古い関数を使用している場合には特別な準備が必要です。アップグレードの詳細は<a class="xref" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">Section 3.4.2, “ハードアップグレード”</a>をご覧ください。本版の詳細情報や変更/追加された関数については<a class="xref" href="PostGIS_Special_Functions_Index.html#NewFunctions_2_0" title="15.12.12. PostGIS 2.0で新規作成/機能強化/変更された関数">Section 15.12.12, “PostGIS 2.0で新規作成/機能強化/変更された関数”</a>をご覧ください。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102343888"></a>テスター - 影のヒーロー</h3></div></div></div><p>PostGISコミュニティ内の、このリリースの新しい機能をテストしてくれる勇敢なメンバー多数にお世話になっています。この方々なしにメジャーリリースは成功しえません。</p><p>勇敢で、非常に詳細かつ徹底したバグレポートを出し、詳細に分析をしてくれた方々を次に示します。</p><table border="0" summary="Simple list" class="simplelist"><tr><td>Andrea Periさん - トポロジの多数のテスト、正確性の確認</td></tr><tr><td>Andreas Forø Tollefsenさん - ラスタのテスト</td></tr><tr><td>Chris Englishさん - トポロジのローダ機能のストレステスト</td></tr><tr><td>Salvatore Larosaさん - トポロジのロバスト性のテスト</td></tr><tr><td>Brian Hamlinさん - ベンチマーク (コアに組み込む前の試験ブランチも)、Tigerとトポロジを含む多数の要素の全体的なテスト、多種の仮想サーバ上でのテスト。</td></tr><tr><td>Mike Peaseさん - Tigerジオコーダのテスト - 問題の非常に詳細な報告</td></tr><tr><td>Tom van Tilburgさん - ラスタのテスト</td></tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102348624"></a>重大/大幅な変更</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/722" target="_top">#722</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/302" target="_top">#302</a>, 多数の非推奨関数の削除 (250関数以上) (Regina Obeさん, Paul Ramseyさん)</p><p>不定SRIDを-1から0に変更 (Paul Ramseyさん)</p><p>-- (1.2で非推奨になっている) buffer, length, intersectsといったSTの付いていない別名で残っている関数の削除と内部関数の名前変更。 </p><p>-- 非推奨関数を使っている場合には、アプリケーションを変更するか、変更しないで得た結果に耐えるかして下さい。文書が無い関数は、サポートから外れる関数か内部関数です。古いテーブルの制約は、非推奨関数を使っています。再格納した際にpopulate_geometry_columns()でテーブルの制約の再構築を行います。非推奨関数にイオｚンするアプリケーションやツールを持っている場合には、<a class="xref" href="PostGIS_FAQ.html#legacy_faq" title="9.2.">Q: 9.2</a>をご覧ください。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/944" target="_top">#944</a> geometry_columnsは現在はテーブルでなくビューです (Paul Ramseyさん, Regina Obeさん)。テーブルだった時は古い方法で制約 (SRID, タイプ, 次元)を読み、型修飾子で生成されたジオメトリカラムについては生のカラム定義を読みます。</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1081" target="_top">#1081</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1082" target="_top">#1082</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1084" target="_top">#1084</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1088" target="_top">#1088</a> - 管理関数が型修飾子ジオメトリカラムの生成関数に対応し、現在は型修飾子による生成がデフォルトです (Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1083" target="_top">#1083</a> probe_geometry_columns(), rename_geometry_table_constraints(), fix_geometry_columns()を削除 - geometry_columnビューでは廃止されています (Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/817" target="_top">#817</a> 古い3D関数をST_3Dに名前変更 (Nicklas Avénさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/548%E3%81%8C" target="_top">#548</a> (sorta), ST_NumGeometries,ST_GeometryNが単一ジオメトリに対してNULLでなく1 (またはジオメトリ)を返す (Sandro Santilliさん, Maxime van Noppenさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102357712"></a>新機能</h3></div></div></div><p><a class="ulink" href="http://blog.opengeo.org/2011/09/28/indexed-nearest-neighbour-search-in-postgis/" target="_top">KNN GiSTインデクスに基づく重心 (&lt;-&gt;)とボックス (&lt;#&gt;)の距離演算子 (Paul Ramseyさん / 資金提供 Vizzuality)</a></p><p>TINと多面体サーフェスの対応と多数の3次元対応関数の強化 (Olivier Courtinさん / Oslandia)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/wiki/WKTRaster/PlanningAndFunding" target="_top">ラスター機能の統合と文書化</a>(Pierre Racineさん, Jorge Arévaloさん, Mateusz Loskotさん, Sandro Santilliさん, David Zwargさん, Regina Obeさん, Bborie Parkさん)  (企業の開発者と資金提供: University Laval, Deimos Space, CadCorp, Michigan Tech Research Institute, Azavea, Paragon Corporation, UC Davis Center for Vectorborne Diseases)</p><p>空間インデックスを3次元を意識したものに変更 - 作業中 (Paul Ramseyさん, Mark Cave-Aylandさん)</p><p>トポロジ機能の改善 (関数の追加)、文書化、テスト  (Sandro Santilliさん / Faunalia for RT-SIGTA), Andrea Periさん, Regina Obeさん, Jose Carlos Martinez Llari</p><p>3次元関係関数と3次元計測関数 (Nicklas Avénさん)</p><p>ST_3DDistance, ST_3DClosestPoint, ST_3DIntersects, ST_3DShortestLine等多数</p><p>N次元空間インデックス (Paul Ramseyさん / OpenGeo)</p><p>ST_Split (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_IsValidDetail (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_MakeValid (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_RemoveRepeatedPoints (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_GeometryNとST_NumGeometriesの非コレクションへの対応 (Sandro Santilliさん)</p><p>ST_IsCollection (Sandro Santilliさん, Maxime van Noppenさん)</p><p>ST_SharedPaths (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_Snap (Sandro Santilliさん)</p><p>ST_RelateMatch (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_ConcaveHull (Regina Obe and Leo Hsuさん / Paragon Corporation)</p><p>ST_UnaryUnion (Sandro Santilliさん / Faunalia for RT-SIGTA)</p><p>ST_AsX3D (Regina Obeさん / Arrival 3D funding)</p><p>ST_OffsetCurve (Sandro Santilliさん, Rafal Magdaさん)</p><p><a class="ulink" href="http://blog.opengeo.org/2011/11/21/st_geomfromgeojson/" target="_top">ST_GeomFromGeoJSON (Kashif Rasulさん, Paul Ramseyさん / Vizzuality funding)</a></p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102401744"></a>性能強化</h3></div></div></div><p>シェープファイルローダについて、無償配布の世界規模のシェープファイルの一部でみられる、切り詰められたマルチバイト値を許容するようにしました (Sandro Santilliさん)</p><p>shp2pgsqlの多数の誤り訂正と強化、ローダの回帰テストの増強、インポート時のジオメトリとジオグラフィの両方の投影変換 (Jeff Adamsさん / Azaveaさん, Mark Cave-Aylandさん)</p><p>pgsql2shpの事前に定義されたリストからの変換  (Loic Dacharyさん / Mark Cave-Aylandさん)</p><p>Shp-pgsql GUIローダ - 複数ファイルを一度にロードするできるようにしました (Mark Leslieさん)</p><p>Extras - Tigerジオコーダの、古いTigerの書式から新しいTigerのシェープとファイル構造の書式へのアップグレード (Stephen Frostさん)</p><p>Extras - Tigerジオコーダについて、TIGER 2010データ対応、逆ジオコーダ関数の追加、多数の誤り訂正、精度強化、最大結果数の制限、速度改善、ルーティンのロード の改訂(Regina Obeさん, Leo Hsuさん / Paragon Corporation / Hunter Systems Groupからの資金提供)</p><p>文書全体の校正と修正 (Kasif Rasulさん)</p><p>PostGIS JDBCクラスの整理、Mavenビルドの改訂 (Maria Arias de Reynaさん, Sandro Santilliさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102405584"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1335" target="_top">#1335</a> ST_AddPointがLinuxでは不正な結果を返す (Even Rouaultさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102407120"></a>リリースの特別クレジット</h3></div></div></div><p>PostGIS 2.0の公開にあたって経済支援を行ってくれた<a class="ulink" href="http://blog.opengeo.org/2012/02/01/it-goes-up-to-2-0/" target="_top">米国国務省人道情報ユニット (HIU)</a>および<a class="ulink" href="http://blog.cartodb.com/post/17318840209/postgis-core-committer-sandro-santilli-joins-cartodb" target="_top">Vizzuality</a>に感謝します。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102409680"></a>A.53. リリース 1.5.4</h2></div></div></div><p>リリース日: 2012/05/07</p><p>この版は誤り訂正版です。1.5.3版以降に送られた問題の処理が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102411088"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/547" target="_top">#547</a>, ST_Containsのメモリの問題 (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/621" target="_top">#621</a>, ジオグラフィのインタセクトする部分の探索の問題 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/627" target="_top">#627</a>, 不正なジオメトリでPostGIS/PostgreSQLのプロセスが落ちる (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/810" target="_top">#810</a>, 面積計算の精度向上 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/852" target="_top">#852</a>, 空間述語のロバスト性の改良 (Sandro Santilliさん, Nicklas Avénさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/877" target="_top">#877</a>, ST_Estimated_Extentが空のテーブルに対してNULLを返す (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1028" target="_top">#1028</a>, ST_AsSVGが失敗するとPostgreSQLサーバプロセス全体を落とす (Paul Ramsey)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1056" target="_top">#1056</a>, 弧と円のバウンダリボックスを訂正 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1121" target="_top">#1121</a>, populate_geometry_columnsが非推奨関数を使っている (Regin Obeさん, Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1135" target="_top">#1135</a>, テストスィートの予見可能性を改善 (Andreas 'ads' Scherbaumさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1146" target="_top">#1146</a>, 画像生成機能の異常終了 (bronaughさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1170" target="_top">#1170</a>, 北極のインタセクションが失敗する (Paul Ramsey)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1179" target="_top">#1179</a>, 悪い値を与えるとST_AsTextが異常終了する (kjurka)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1184" target="_top">#1184</a>, honour DESTDIR in documentation Makefile (Bryce L Nordgren)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1227" target="_top">#1227</a>, 不正なGMLでサーバが異常終了する </p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1252" target="_top">#1252</a>, WKTでSRIDが出現する (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1264" target="_top">#1264</a>, st_dwithin(g, g, 0)が動作しない (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1344" target="_top">#1344</a>, 不正なジオメトリを持つテーブルのエクスポートを許す (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1389" target="_top">#1389</a>, SRID 31300と31370のproj4textが間違っている (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1406" target="_top">#1406</a>, shp2pgsqlでジオグラフィをロードすると異常終了する (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1595" target="_top">#1595</a>, ST_Line_SubStringのSRIDが冗長になるのを訂正 (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1596" target="_top">#1596</a>, UpdateGeometrySRID内のSRIDのチェック (Mike Toewsさん, Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1602" target="_top">#1602</a>, ST_PolygonizeをZ値を保持するよう訂正 (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1697" target="_top">#1697</a>, GiSTインデックス内で空エントリがあると異常終了する問題を訂正 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1772" target="_top">#1772</a>, 崩壊した入力を与えた際のST_Line_Locate_Pointを訂正 (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1799" target="_top">#1799</a>, ST_Segmentizeをmax_length=0から防ぐ (Sandro Santilliさん)</p><p>900913のパラメータの順序の変更　(Paul Ramseyさん)</p><p>"gmake"でのビルドに対応 (Greg Troxelさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102432976"></a>A.54. リリース 1.5.3</h2></div></div></div><p>リリース日: 2011/06/25</p><p>この版は誤り訂正版です。1.5.2版以降に送られた問題の処理が行われました。PostGIS 1.3以上を実行している場合には、ソフトアップグレードで十分です。そうでない場合には、ハードアップグレードが推奨されます。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102434384"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1056" target="_top">#1056</a>, アークジオメトリからの正しいバウンダリボックスの作成とインデックスの誤り訂正 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/1007" target="_top">#1007</a>, ST_IsValidが異常終了する問題を訂正、GEOS 3.3.0以上か3.2.3以上が必要 (Sandro Santilliさん、報告はBirgit Laggnerさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/940" target="_top">#940</a>, PostgreSQL 9.1 beta 1への対応 (Regina Obeさん、Paul Ramseyさん、パッチはstlさんが提出)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/845" target="_top">#845</a>, ST_Intersectsの精度の誤り (Sandro Santilliさん、Nicklas Avénさん) cdestigterさんの報告</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/884" target="_top">#884</a>, ST_Within, ST_Intersectsの結果が不安定 (Chris Hodgsonさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/779" target="_top">#779</a>, shp2pgsqlの-Sオプションがポイントでは失敗しているように見える (Jeff Adamsさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/666" target="_top">#666</a>, ST_DumpPointsがNULLセーフでない (Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/631" target="_top">#631</a>, NZの投影を更新してグリッド変換に対応 (jpalmerさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/630" target="_top">#630</a>, ST_Collect内の配列の奇妙なNULL対処 (Chris Hodgsonさん) David Bitnerさん報告</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/624" target="_top">#624</a>, ST_GeogFromTextのメモリリーク (ryangさん, Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/609" target="_top">#609</a>, マニュアル5.2節のJavaクライアントのソースが間違っている (simocさん、Regina Obeさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/604" target="_top">#604</a>, shp2pgsqlの利用法表示の添削 (Mike Toewsさん、Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/573" target="_top">#573</a> ラインストリングのグループでST_Unionが失敗する、PostGISでなくGEOS 3.3.0の誤り</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/457" target="_top">#457</a> ST_CollectionExtractが所望のタイプでないものを返す (Nicklas Avénさん、Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/441" target="_top">#441</a> ST_AsGeoJsonでジオメトリコレクションのバウンダリボックスがおかしい (Olivier Courtinさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/411" target="_top">#411</a> 不正なジオメトリのバックアップできない (Sando Santilliさん) Regione Toscanaさんの報告</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/409" target="_top">#409</a> ST_AsSVGが劣化している (Olivier Courtinさん) Sdikiyの報告</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/373" target="_top">#373</a> マニュアルのハードアップグレードで文法誤り (Paul Ramseyさん) psvenssoさんの報告</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102449232"></a>A.55. リリース 1.5.2</h2></div></div></div><p>リリース日: 2010/09/27</p><p>この版は誤り訂正版です。1.5.1版以降に送られた問題の処理が行われました。PostGIS 1.3以上を実行している場合には、ソフトアップグレードで十分です。そうでない場合には、ハードアップグレードが推奨されます。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102450640"></a>誤り訂正</h3></div></div></div><p>ローダ: シェープファイルの空ジオメトリ (頂点が全くない)の扱いの訂正 (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/536" target="_top">#536</a>, ジオグラフィを引数に取るST_Intersects, ST_Covers, ST_CoveredBy およびジオメトリを引数に取るST_Equalsが空間インデックスを使っていない (Regina Obeさん, Nicklas Avenさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/573" target="_top">#573</a>, ジオグラフィを引数に取るST_Containsの改良 (Paul Ramseyさん)</p><p>ローダ: Mac GTKビルドでコマンド-qで終了する機能を追加 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/393" target="_top">#393</a>, ローダ: 大きなDBFファイルのための一時的なパッチを追加 (Maxime Guillaudさん, Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/507" target="_top">#507</a>, GeoJSONとGML出力で間違っているOGC URNを訂正 (Olivier Courtinさん)</p><p>spatial_ref_sys.sql SRID 3021投影のための測地系変換を追加 (Paul Ramsey)</p><p>ジオグラフィ - 全てのジオグラフィが見積もり範囲外である場合に異常終了するのを訂正 (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/469" target="_top">#469</a>, array_aggregationの誤りを訂正 (Greg Starkさん, Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/532" target="_top">#532</a>, 一時的なジオグラフィテーブルが他のユーザのセッションから見える (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/562" target="_top">#562</a>, 大きなジオグラフィを引数に取った際のST_Dwithinでエラー (Paul Ramsey)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/513" target="_top">#513</a>, ローダGUIがDBFのみモードの時に空間インデックスを作ろうとする (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/527" target="_top">#527</a>, ローダGUIは、常にログメッセージを末尾に追加するべき (Mark Cave-Aylandさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/504" target="_top">#504</a>, shp2pgsqlは、xmin/xmaxフィールドの名前を変えるべき (Sandro Santilliさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/458" target="_top">#458</a>, postgis_commentsが版フォルダでなくcontribにインストールされる (Mark Cave-Aylandさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/474" target="_top">#474</a>, ジオグラフィカラムを持つテーブルにanalyzeを実行するとサーバが落ちる (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/581" target="_top">#581</a>, LWGEOMのexpand関数で矛盾した結果が生成される (Mark Cave-Aylandさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/513" target="_top">#513</a>, shp2pgsql-guiへのdbfフィルタの追加とdbfのみのロード機能の追加 (Paul Ramseyさん)</p><p>PostgreSQL 9.0に対するビルドのさらなる問題の訂正 (Mark Cave-Aylandさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/572" target="_top">#572</a>, シェープファイルのためのパスワードの空白 (Mark Cave-Aylandさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/603" target="_top">#603</a>, shp2pgsql: "-w"でマルチ系オブジェクトの不正なWKTを生成する (Mark Cave-Aylandさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102465872"></a>A.56. リリース 1.5.1</h2></div></div></div><p>リリース日: 2010/03/11</p><p>この版は誤り訂正版です。1.4.1版以降に送られた問題の処理が行われました。PostGIS 1.3以上を実行している場合には、ソフトアップグレードで十分です。そうでない場合には、ハードアップグレードが推奨されます。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102467280"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/410" target="_top">#410</a>, ST_SetPoint, ST_AddPoint, ST_RemovePointをラインストリングに適用した際に、組み込みバウンダリボックスを更新するようにしました (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/411" target="_top">#411</a>, 不正なジオメトリを持つテーブルのダンプを可能にしました (Sandro Santilliさん, for Regione Toscana-SIGTAさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/414" target="_top">#414</a>, アップグレードスクリプト実行時にgeography_columnsビューを含むようにしました (Paul Ramseyさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/419" target="_top">#419</a>, ST_Line_Substringがマルチラインストリング対応になりました (Paul Ramseyさん, Lidwala Consulting Engineersのみなさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/421" target="_top">#421</a>, ST_AsGML()の文字列長の計算の訂正 (Olivier Courtinさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/441" target="_top">#441</a>, 複数種類を持つコレクションからのGML生成を訂正 (Olivier Courtinさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/443" target="_top">#443</a>, GML3での座標値が逆になる (Olivier Courtinさん)</p><p><a class="ulink" href="http://trac.osgeo.org/postgis/ticket/450" target="_top">#450</a>, <a class="ulink" href="http://trac.osgeo.org/postgis/ticket/451" target="_top">#451</a>, 日付変更線をまたぐジオグラフィ型地物の面積計算が間違っている (Paul Ramseyさん)</p><p>間もなくリリースされる PostgreSQL 9.0への対応 (Paul Ramseyさん)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102487632"></a>A.57. リリース 1.5.0</h2></div></div></div><p>リリース日: 2010/02/04</p><p>このリリースでは、新しいGEOGRAPHY型を介した地理座標 (緯度/経度)への対応、能率強化、新しい入力書式対応 (GML, KML)、全体的な維持が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102489040"></a>API安定性</h3></div></div></div><p>PostGISのパブリックAPIはマイナーリリース (0.0.X)の間は変更しません</p><p>=~演算子をジオメトリ等価性チェックからバウンダリボックス等価性チェックに変更</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102494672"></a>互換性</h3></div></div></div><p>GEOS, Proj4およびLibXML2は必須となりました</p><p>次に示すライブラリのバージョンは、PostGIS 1.5で必要となる最低限です。</p><p>全てのプラットフォームでPostgreSQL 8.3以上</p><p>GEOS 3.1以上のみ (全ての機能の利点を得るにはGEOS 3.2以上)</p><p>新しいST_GeomFromGML/KML関数に関連してLibXML2 2.5以上</p><p>Proj4 4.5以上のみ</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102497744"></a>新機能</h3></div></div></div><p><a class="xref" href="PostGIS_Special_Functions_Index.html#NewFunctions_1_5" title="15.12.14. PostGIS 1.5で新規作成/機能強化/変更された関数">Section 15.12.14, “PostGIS 1.5で新規作成/機能強化/変更された関数”</a></p><p>ハウスドルフ距離計算の追加 (<a class="ulink" href="http://trac.osgeo.org/postgis/ticket/209" target="_top">#209</a>) (Vincent Picavetさん)</p><p>ST_Buffer処理で、一方のみのバッファリングと他のバッファリングスタイルに対応するためのパラメータの追加 (Sandro Santilliさん)</p><p>可視化と解析の関数に関連した、他の距離の追加 (Nicklas Avenさん)</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ST_ClosestPoint</p></li><li class="listitem"><p>ST_DFullyWithin</p></li><li class="listitem"><p>ST_LongestLine</p></li><li class="listitem"><p>ST_MaxDistance</p></li><li class="listitem"><p>ST_ShortestLine</p></li></ul></div><p>ST_DumpPoints (Maxime van Noppenさん)</p><p>ST_GeomFromGMLとST_GeomFromKMLを介したGML, KMLの入力 (Olivier Courtinさん)</p><p>ST_CollectionExtractによる同種のコレクションの抽出 (Paul Ramseyさん)</p><p>ST_AddMeasureによる既存のラインストリングへのM値の追加 (Paul Ramseyさん)</p><p>utilsでのヒストリテーブルの実装 (George Silvaさん)</p><p>ジオグラフィ型と対応関数</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>球面アルゴリズム (Dave Skeaさん)</p></li><li class="listitem"><p>オブジェクト/インデックス実装 (Paurl Ramseyさん)</p></li><li class="listitem"><p>選択度の実装 (Mark Cave-Aylandさん)</p></li><li class="listitem"><p>KML, GMLおよびJSONへのシリアライズ (Olivier Courtin)</p></li><li class="listitem"><p>ST_Area, ST_Distance, ST_DWithin, ST_GeogFromText, ST_GeogFromWKB, ST_Intersects, ST_Covers, ST_Buffer (Paul Ramseyさん)</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102521296"></a>性能強化</h3></div></div></div><p>ST_Distanceの能率改善 (Nicklas Avenさん)</p><p>文書の更新と改善 (Regina Obeさん、Kevin Neufeldさん)</p><p>テストと品質管理 (Regina Obe)</p><p>PostGIS 1.5のPostgreSQL 8.5 trunkへの対応( Guillaume Lelargeさん)</p><p>shp2pgsql-guiの中核のWin32対応と改善 (Mark Cave-Aylandさん)</p><p>適切な'make check'対応 (Paul Ramseyさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102524368"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/query?status=closed&amp;milestone=PostGIS+1.5.0&amp;order=priority" target="_top">http://trac.osgeo.org/postgis/query?status=closed&amp;milestone=PostGIS+1.5.0&amp;order=priority</a></p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102525904"></a>A.58. リリース 1.4.0</h2></div></div></div><p>リリース日: 2009/07/24</p><p>このリリースでは、能率改善、内部構造とテストの改善、新機能、文書の更新が行われました。PostGIS 1.1以上を実行している場合には、ソフトアップグレードで十分です。そうでない場合には、ハードアップグレードが推奨されます。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102527312"></a>API安定性</h3></div></div></div><p>1.4リリース以降は、PostGISの公開APIはマイナーリリースの間は変更しません。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102528464"></a>互換性</h3></div></div></div><p>PostGIS 1.4に必須の*最低*のバージョン</p><p>全てのプラットフォームのPostgreSQL 8.2以上</p><p>GEOS 3.0以上のみ</p><p>PROJ4 4.5以上のみ</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102551248"></a>新機能</h3></div></div></div><p>GEOS 3.1以上でコンパイルした場合には、ST_Union()で高速なカスケードユニオンを使うようにしました (Paul Ramseyさん)</p><p>ST_ContainsProperly()はGEOS 3.1以上が必要です</p><p>ST_Intersects(), ST_Contains(), ST_Within()について、GEOS 3.1以上で高速なキャッシュジオメトリを使うようにしました (Paul Ramseyさん / 資金提供 Zonar Systems)</p><p>文書とマニュアルの大幅改善 (Regina ObeさんとKevin Neufeldさん)</p><p>マニュアル内の図とダイアグラム (Kevin Neufeldさん)</p><p>正当性評価に失敗した場合の、人が読める説明を返すST_IsValidReason() (Paul Ramseyさん)</p><p>ジオメトリからgeohash.orgの符号を返すST_GeoHash() (Paul Ramseyさん)</p><p>シェープファイルをロードするためのGTK+マルチプラットフォームGUI (Paul Ramseyさん)</p><p>交差方向を返すST_LineCrossingDirection() (Paul Ramseyさん)</p><p>Z軸に基づく部分列を返すST_LocateBetweenElevations() (Paul Ramseyさん)</p><p>ジオメトリのパーサが文法エラーの位置に関する明示的なエラーメッセージを返すようにしました (Mark Cave-Aylandさん)</p><p>JSON書式のジオメトリを返すST_AsGeoJSON() (Olivier Courtinさん)</p><p>Populate_Geometry_Columns() -- テーブルとビューについて自動的にgeometry_columnsに追加するようにしました (Kevin Neufeldさん)</p><p>ST_MinimumBoundingCircle()  --包含する円ポリゴンをより小さくできるようにしました (Bruce Rindahlさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102557392"></a>性能強化</h3></div></div></div><p>核のジオメトリシステムを独立したライブラリliglwgeomに移動 (Mark Cave-Aylandさん)</p><p>PostgreSQLのビルドブートストラップコマンドpgxsを使った新しいビルドシステム</p><p>デバッグフレームワークの形式化と単純化 (Mark Cave-Aylandさん)</p><p>クロスプラットフォーム対応を用意にするためにヘッダに全てのビルド時の#defineをコンフィギュア時に生成しヘッダに入れるようにしました</p><p>ログ作成フレームワークの形式化と単純化 (Mark Cave-Aylandさん)</p><p>CIRCULARSTRING, COMPOUNDCURVEとCURVEPOLYGONの対応の拡張と安定性向上、パースの改善、対応関数強化 (Mark LeslieさんとMark Cave-Aylandさん)</p><p>OpenSolarisビルドへの対応改善 (Paul Ramseyさん)</p><p>MSVCビルドの対応改善 (Mateusz Loskot)</p><p>KML対応の更新 (Olivier Courtin)</p><p>liblwgeom用ユニットテストフレームワーク (Paul Ramseyさん)</p><p>全てのPostGIS関数を包括的に試験できる新しい試験フレームワーク (Regine Obeさん)</p><p>全てのジオメトリ集約関数の能率改善 (Paul Ramseyさん)</p><p>まもなく登場するPostgreSQL 8.4の対応 (Mark Cave-Aylandさん, Talha Bin Rizwanさん)</p><p>shp2pgsqとpgsql2shpをliblwgeomのパース/アンパースの共通部分に依存させるために再作成しました。</p><p>PDF文書のビルドと予備的なビルドの説明にPDF DbLaTeXを使用するようにしました (Jean David Techerさん)</p><p>ユーザ文書 (PDFとHTML)とDoxygen開発者文書の自動ビルド (Kevin Neufeldさん)</p><p>ImageMagickによるWKTジオメトリテキストファイルから文書画像への自動ビルド (Kevin Neufeldさん)</p><p>HTML文書用CSSをより魅力的にしました (Dane Springmeyerさん)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102565200"></a>誤り訂正</h3></div></div></div><p><a class="ulink" href="http://trac.osgeo.org/postgis/query?status=closed&amp;milestone=PostGIS+1.4.0&amp;order=priority" target="_top">http://trac.osgeo.org/postgis/query?status=closed&amp;milestone=PostGIS+1.4.0&amp;order=priority</a></p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102566736"></a>A.59. リリース 1.3.6</h2></div></div></div><p>リリース日: 2009/05/04</p><p>PostGIS 1.1以上を実行している場合には、ソフトアップグレードで十分です。そうでない場合には、ハードアップグレードが推奨されます。このリリースでは、PostgreSQL 8.4への対応、シェープファイルへの出力時のprjファイル出力とが追加され、shp2pgsqlの異常終了に関する訂正と、曲線タイプの処理とdbfファイルだけのインポートでの論理エラーとに関する小さな誤り訂正、AddGeometryColumnsのエラー処理の改善がなされています。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102568272"></a>A.60. リリース 1.3.5</h2></div></div></div><p>リリース日: 2008/12/15</p><p>PostGIS 1.1以上を実行している場合には、ソフトアップグレードで十分です。そうでない場合には、ハードアップグレードが推奨されます。このリリースは誤り訂正リリースです。ST_ForceCollectionの実行失敗への対応と、MapServerでラインストリングのレイヤを使う場合に重大な影響を受ける関連関数への対応を行っています。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102569808"></a>A.61. リリース 1.3.4</h2></div></div></div><p>リリース日: 2008/11/24</p><p>このリリースでは、GeoJSON出力とPostgreSQL 8.4でのビルドへの対応、文書品質と出力の美しさの改善、関数レベルのSQL文書を追加し、空間述語の性能改善 (ポリゴン内のポイントのテスト)が行われました。</p><p>誤り訂正として、多数の関数で曲線ラインストリングの処理で異常終了する問題、メモリリーク、線形参照が頂点上での計測で失敗する問題等の排除が挙げられます。詳細についてはNEWSファイルをご覧下さい。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102571728"></a>A.62. リリース 1.3.3</h2></div></div></div><p>リリース日: 2008/04/12</p><p>このリリースでは、shp2gpsqlの誤り訂正、SVGとKMLへの対応の強化、ST_SimplifyPreserveTopology関数の追加、GEOSの版に注意を払ったビルド、厳格かつ稀な失敗ケースの訂正が行われました。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102573264"></a>A.63. リリース 1.3.2</h2></div></div></div><p>リリース日: 2007/12/01</p><p>このリリースでは、ST_EndPoint()とST_Envelope()の誤り訂正、JDBCビルドとOS/Xへの対応の改善、GML3出力を含むST_AsGML()でのGML出力の対応の改善が行われました。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102574800"></a>A.64. リリース 1.3.1</h2></div></div></div><p>リリース日: 2007/08/13</p><p>このリリースでは、以前のリリースでの見落としていた、版番号、文書、タグ等に関する問題の訂正が行われました。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102576336"></a>A.65. リリース 1.3.0</h2></div></div></div><p>リリース日: 2007/08/09</p><p>このリリースでは、空間関係関数の性能改善、新しい空間関係関数の追加、関数名のSQL-MMへの変換 (空間型(Spatial Type)前置辞 (SP)を使います)が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102577744"></a>機能追加</h3></div></div></div><p>JDBC: Hibernate Dialectの追加 (Norman Barkerさんに感謝)</p><p>空間関係関数ST_CoversとST_CoveredByの追加。こららの関数の説明と根拠は<a class="ulink" href="http://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html" target="_top">http://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html</a>にあります。</p><p>空間関係関数ST_DWithinの追加。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102580304"></a>性能強化</h3></div></div></div><p>ST_Contains, ST_Intersects, ST_WithinとST_Disjoint用のキャッシュとインデックスを用いたポリゴン内ポイントの簡略版の追加。</p><p>空間関係関数のインラインインデックス対応の追加 (ST_Disjointを除く)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102581840"></a>他の変更</h3></div></div></div><p>ジオメトリアクセサと処理関数における曲線ジオメトリ対応の拡張</p><p>空間型 (ST)前置辞を使用するSQL-MM命名規則への移動の開始。</p><p>PostgreSQL 8.3への最初の対応</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102583888"></a>A.66. リリース 1.2.1</h2></div></div></div><p>リリース日: 2007/01/11</p><p>このリリースでは、PostgreSQL 8.2対応の誤り訂正と若干の性能改善が行われています。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102585424"></a>変更</h3></div></div></div><p>Within()のポリゴン内ポイントの短縮動作の訂正。</p><p>PostgreSQL 8.2のインデックスに対するNULL処理の訂正。</p><p>RPM specファイルの更新。</p><p>Transform()で処理を行わなくて良い場合の短縮版を追加。</p><p>JDBC: 多次元ジオメトリに対するJTS処理の訂正 (Thomas Martiさんのヒントと部分的なパッチに感謝)。さらに、Javadocがコンパイルされ同梱されるようになりました。GCJ使用時のCLASSPATH問題が訂正されました。pgjdbc 8.2互換性への対応の訂正、JDK 1.3以前の対応欠落の訂正が行われました。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102588240"></a>A.67. リリース 1.2.0</h2></div></div></div><p>リリース日: 2006/12/08</p><p>このリリースでは、SQL-MM定義の曲線ジオメトリのシリアライズ/デシリアライズ能力に沿ったタイプ定義と、性能改善が行われました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102589648"></a>変更</h3></div></div></div><p>シリアライズ/デシリアライズの曲線ジオメトリタイプへの対応を追加</p><p>性能改善のためにContains()とWithin()にポリゴン内ポイントの短縮版を追加してました。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102591440"></a>A.68. リリース 1.1.6</h2></div></div></div><p>リリース日: 2006/11/02</p><p>これは誤り訂正のリリースです。特に64ビット機におけるGEOSインタフェースの重大なエラーを訂正しています。SRSパラメータの更新と投影変換の改善 (Z軸を取る)が行われました。アップグレードが<span class="emphasis"><em>必要です</em></span>。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102593232"></a>アップグレード</h3></div></div></div><p>1.0.3以上からアップグレードする場合には、<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">soft upgrade</a>の手続きを行います。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102597072"></a>誤り訂正</h3></div></div></div><p>64ビット機で壊れていたCAPIの訂正</p><p>ローダ/ダンパ: 回帰テストと使用法出力の訂正</p><p>JDBCにおけるsetSRID()の誤り訂正。Thomas Martiさんに感謝。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102598992"></a>他の変更</h3></div></div></div><p>投影変換でのZ軸の使用</p><p>spatial_ref_sys.sqlをEPSG 6.11.1に更新</p><p>全体のためのバージョン変数を単一で使うためVersion.config基盤を単純化</p><p>ローダ/ダンパの使用法メッセージにVersion.configを含むようにしました</p><p>手作りで脆いJDBCのバージョンパーサをPropertiesに置き換え</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102601808"></a>A.69. リリース 1.1.5</h2></div></div></div><p>リリース日: 2006/10/13</p><p>誤り訂正版です。Win32での重大なセグメンテーション違反を含みます。アップグレードは<span class="emphasis"><em>推奨されます</em></span>。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102603728"></a>アップグレード</h3></div></div></div><p>1.0.3以上からアップグレードする場合には、<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">soft upgrade</a>の手続きを行います。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102607568"></a>誤り訂正</h3></div></div></div><p>PostgreSQL 8.2用でコンパイルした際に発生する、Win32上のpgsql2shpでセグメンテーション違反を引き起こすMingWのリンクの誤りの訂正</p><p>JavaのGeometry.equals()メソッドでNULLポインタ例外が発生する問題を訂正</p><p>GPL要求「変更の好まれる形式」の配布を満たすようEJB3Spatial.odtを追加</p><p>JDBC JTSコードから用いられていない同期を削除。</p><p>shp2pgsql/pgsql2shpのREADMEファイルが非常に古くなっていたのを、マニュアルページにマージして更新。</p><p>JDBCの版のタグが"1.1.4"なのに"1.1.3"になっていた問題を訂正。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102614736"></a>新機能</h3></div></div></div><p>非マルチ系ジオメトリのための-Sオプションをshp2pgsqlに追加</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102616016"></a>A.70. リリース 1.1.4</h2></div></div></div><p>リリース日: 2006/09/27</p><p>Javaインタフェースでのいくつかの改善を含む誤り訂正版です。アップグレードは<span class="emphasis"><em>推奨されます</em></span>。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102617808"></a>アップグレード</h3></div></div></div><p>1.0.3以上からアップグレードする場合には、<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">soft upgrade</a>の手続きを行います。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102621648"></a>誤り訂正</h3></div></div></div><p>PostgreSQL 8.2対応で訂正</p><p>collect()関数の入力のSRIDを捨てる問題を訂正</p><p>MakeBox2dとMakeBox3dでSRID合致確認を追加</p><p>GEOS 3.0.0が通るよう回帰テストの訂正</p><p>pgsql2shp同時実行の改善。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102624464"></a>Javaの変更</h3></div></div></div><p>SRID処理への新しいJTS開発者の姿勢を反映したJTS対応の再作業。コードの単純化とGNU Trove依存のビルドの削除。</p><p>"Geodetix s.r.l. Company"からの寄付によるEJB2対応の追加 </p><p>Norman Barker &lt;nbarker@ittvis.com&gt;さんの寄付によるEJB3チュートリアル/例の追加</p><p>Javaディレクトリ編成の若干の再編</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102626896"></a>A.71. リリース 1.1.3</h2></div></div></div><p>リリース日: 2006/06/30</p><p>誤り訂正リリースです。新しい関数 (特にロングトランザクション対応)とポータビリティ強化を含みます。アップグレードは<span class="emphasis"><em>推奨されます</em></span>。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102628688"></a>アップグレード</h3></div></div></div><p>1.0.3以上からアップグレードする場合には、<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">soft upgrade</a>の手続きを行います。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102632528"></a>誤り訂正/修正</h3></div></div></div><p>distance(ポリゴン, ポリゴン)で誤った結果となる誤り訂正</p><p>pgsql2shpの成功時の終了ステータスの誤り訂正。</p><p>shp2gpsqlにおけるマルチラインWKTの処理の誤り訂正</p><p>affine()でバウンディングボックス更新がある場合に失敗する誤り訂正</p><p>WKTパーサ: EMPTY要素を持つマルチ系ジオメトリの構築の禁止(GEOMETRYCOLLECTIONは対応)。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102635344"></a>新機能</h3></div></div></div><p>ロングトランザクション対応の新規追加。</p><p>DumpRings()関数の新規追加。</p><p>AsHEXEWKB(geom, XDR|NDR)関数の新規追加。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102637264"></a>JDBC変更</h3></div></div></div><p>回帰テストの改善: マルチポイントとXY以外の座標値</p><p>JDBCコードの小規模な訂正</p><p>全てのフィールドを今後非公開にする準備として適切なアクセサ関数の追加。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102639184"></a>他の変更</h3></div></div></div><p>ローダ/ダンパに対応する新しい回帰テスト。</p><p>コンフィギュアスイッチ--with-proj-libdirと--with-geos-libdirの追加</p><p>Tru64のビルドへの対応。</p><p>文書生成のためにJadeを使用。</p><p>pgsql2shpを求める以上のライブラリにリンクしないようにしました。</p><p>PostgreSQL 8.2への最初の対応。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102642384"></a>A.72. リリース 1.1.2</h2></div></div></div><p>リリース日: 2006/03/30</p><p>誤り訂正リリースで、新しい関数とポータビリティ強化を含みます。アップグレードは<span class="emphasis"><em>推奨されます</em></span>。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102644304"></a>アップグレード</h3></div></div></div><p>1.0.3以上からアップグレードする場合には、<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">soft upgrade</a>の手続きを行います。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102648144"></a>誤り訂正</h3></div></div></div><p>SnapToGrid()内の出力バウンディングボックスの計算の誤り訂正</p><p>EnforceRHR()の誤り訂正</p><p>JDBC2のJTSコード内のSRID処理の訂正</p><p>64ビット対応の訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102650448"></a>新機能</h3></div></div></div><p>回帰試験をPostGISのインストール*前に*実行できるようになりました</p><p>新しいafiine()行列変形関数</p><p>新しいrotate{,X,Y,Z}()関数</p><p>古い翻訳とaffine()を内部で使用している拡大縮小関数</p><p>pgsql 8.0.0以上に対するビルドで、estimated_extent()内にアクセス制御を埋め込みました</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102653136"></a>他の変更</h3></div></div></div><p>./configureスクリプトをよりポータブルにしました</p><p>./run_testスクリプトを、デフォルトの振る舞いがより健全になるよう変更しました。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102654800"></a>A.73. リリース 1.1.1</h2></div></div></div><p>リリース日: 2006/01/23</p><p>重要な誤り訂正リリースです。アップグレードを<span class="emphasis"><em>強くお勧めします</em></span>。前の版では、postgis_restore.plに<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>を阻害する誤りがあります。また、GEOS 2.2以上のコネクタで、ジオメトリコレクションのオブジェクトがトポロジ演算子で使われるのを阻害される誤りがあります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102657104"></a>アップグレード</h3></div></div></div><p>1.0.3以上からアップグレードする場合には、<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">soft upgrade</a>の手続きを行います。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102660944"></a>誤り訂正</h3></div></div></div><p>postgis_restore.plで早すぎるexitがある誤り訂正</p><p>GEOS-CAPIコネクタのジオメトリコレクションの処理に関する誤り訂正</p><p>Solaris 2.7とMingWへの対応を改善</p><p>line_locate_point()の誤り訂正</p><p>PostgreSQLのパスの処理を訂正</p><p>line_substring()の誤り訂正</p><p>回帰テストで局所化されたクラスタへの対応を追加</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102664528"></a>新機能</h3></div></div></div><p>line_substring()でZ値とM値の補間を新規追加</p><p>line_interpolate_point()でZ値とM値の補間を新規追加</p><p>OpenGISのあいまいさのためNumInteriorRing()の別名を追加</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102666704"></a>A.74. リリース 1.1.0</h2></div></div></div><p>リリース日: 2005/12/21</p><p>多数の改善と新規追加が行われたマイナーリリースです。最も注意して頂きたいのは、ビルド手続きが非常に単純化したこと、transform()の速度が大幅に改善したこと、GEOSとの接続の安定化 (CAPI対応)、多数の新規関数、トポロジ対応の草案、です。</p><p>PostGISをインストールする前にGEOS-2.2.xにアップグレードすることを<span class="emphasis"><em>強くお勧めします</em></span>。これによって、将来のGEOSのアップグレードでPostGISライブラリの再構築が必要になることが無くなることが保証されます。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102668880"></a>貢献者</h3></div></div></div><p>このリリースには、Mark Cave Aylandさんからのproj4オブジェクトのキャッシュ機能のコードが含まれています。Markus Schaberさんは、JDBC2コードの多数の改善点を追加しました。Alex Bodnaruさんは、PostgreSQLソース依存の除去を助け、Debianのspecファイルを提供しました。Michael Fuhrさんは、Solarisアーキテクチャの新しい点をテストしました。David TecherさんとGerald Fenoyさんは、GEOS C言語APIコネクタの試験を助けました。Hartmut Tschaunerは、azimuth()関数のコードを提供しました。Devrim GUNDUZさんは、RPMのspecファイルを提供しました。Carl Andersonさんは、新しい面構築関数の作成を助けました。より多くの貢献者情報については<a class="link" href="postgis_introduction.html#credits_other_contributors" title="1.4. 他の貢献者">他の貢献者</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102670544"></a>アップグレード</h3></div></div></div><p>1.0.3以降から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span>。全ての存在するデータベースで、新しいlwpostgis_upgrade.sqlスクリプトが単純に取り込まれます。詳細情報については<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">ソフトアップグレード</a>の章をご覧下さい。</p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102674640"></a>新しい関数</h3></div></div></div><p>translate()が使用する関数scale()とtransscale()</p><p>line_substring()</p><p>line_locate_point()</p><p>M(point)</p><p>LineMerge(geometry)</p><p>shift_longitude(geometry)</p><p>azimuth(geometry)</p><p>locate_along_measure(geometry, float8)</p><p>locate_between_measures(geometry, float8, float8)</p><p>ポイントによるオフセットを行うSnapToGrid (4次元まで対応)</p><p>BuildArea(any_geometry)</p><p>OGC BdPolyFromText(linestring_wkt, srid)</p><p>OGC BdMPolyFromText(linestring_wkt, srid)</p><p>RemovePoint(linestring, offset)</p><p>ReplacePoint(linestring, offset, point)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102681168"></a>誤り訂正</h3></div></div></div><p>polygonize()のメモリリークの誤り訂正</p><p>キャスト関数lwgeom_as_anytypeの誤り訂正</p><p>psotgis_version()の出力のUSE_GEOS, USE_PROJ , USE_STATS要素を常にライブラリの状態に合わせるよう誤り訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102683088"></a>関数の内容の変更</h3></div></div></div><p>SnapToGridにおける高次元値を破棄しなくなりました</p><p>Z()関数を、Z値を持たない場合にNULLを返すよう変更</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102684624"></a>速度改善</h3></div></div></div><p>transform()関数の大幅な高速化、proj4オブジェクトのキャッシュ機能</p><p>AddGeometryColumns()とupdate_geometry_stats()からのfix_geometry_columns()の自動呼出しの削除</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102686160"></a>JDBC2での作業</h3></div></div></div><p>Mkaefileの改善</p><p>JTS対応の改善</p><p>回帰テストシステムの改善</p><p>ジオメトリコレクションの基本的な整合性検査メソッド</p><p>(HEX)(E)wkbへの対応</p><p>HexWKB / EWKT の切り替えのための自動検出機能DriverWrapper</p><p>古いJDKリリースのValueSetterで発生するコンパイルの誤り訂正。</p><p>EWKTコンストラクタを"SRID=4711;"といった表現を受け取れるよう誤り訂正</p><p>予備的な読み込み専用のJava2Dのジオメトリへの対応</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102690384"></a>他の新しいこと</h3></div></div></div><p>PostgreSQLソース依存を除去した完全なautoconfを用いたコンフィギュレーション</p><p>GEOS C-API対応 (2.2.0以上)</p><p>トポロジモデリングの最初の対応</p><p>DebianとRPMのspecファイル</p><p>lwpostgis_upgrade.sqlスクリプトの追加</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102693072"></a>他の変更</h3></div></div></div><p>JTS対応の改善</p><p>DBFとSQLの間における整数と文字列の属性の対応付けの厳格化</p><p>回帰テスト群の範囲拡大と見やすさ改善</p><p>古いjdbcコードはこの版で削除</p><p>postgis_proc_upgrade.plの直接の使用を廃止</p><p>スクリプトの版とリリースの版とを合わせました</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102696272"></a>A.75. リリース 1.0.6</h2></div></div></div><p>リリース日: 2005/12/06</p><p>若干の誤り訂正と改善があります</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102697680"></a>アップグレード</h3></div></div></div><p>1.0.3以降から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102701136"></a>誤り訂正</h3></div></div></div><p>コレクションのデシリアライザでpalloc(0)を呼ぶ誤り訂正 (--enable-cassertがある場合のみ)</p><p>バウンディングボックスキャッシュ処理の誤り訂正</p><p>geom_accum(NULL, NULL)のセグメンテーション違反の誤り訂正</p><p>addPoint()のセグメンテーション違反の誤り訂正</p><p>lwcollection_clone()の短時間メモリ確保の訂正</p><p>segmentize()の誤り訂正</p><p>SnapToGrid出力の固定バウンディングボックスの計算</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102704976"></a>改善</h3></div></div></div><p>PostgreSQL 8.2への最初の対応</p><p>GEOSオプションでSRID整合性検査が無かったのを追加</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102706640"></a>A.76. リリース 1.0.5</h2></div></div></div><p>リリース日: 2005/11/25</p><p>ライブラリにおけるメモリのアラインメントの訂正、ローダのUTF8属性値の処理におけるセグメンテーション違反の訂正、若干の改善と整理を行っています。</p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>shp2pgsqlのコードを以前の版からUNIX標準に適合する (成功時に0を返す)ように変更</p></td></tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102708816"></a>アップグレード</h3></div></div></div><p>1.0.3以降から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102712272"></a>ライブラリの変更</h3></div></div></div><p>メモリのアラインメントの訂正</p><p>アナライザにおける少量のNULL値の計算の訂正</p><p>低水準関数getPoint4d_p()の小さな誤り訂正。</p><p>シリアライズ関数の速度向上</p><p>force_3dm(), force_3dz() およびorce_4d()における誤り訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102714960"></a>ローダの変更</h3></div></div></div><p>shp2pgsqlの終了ステータスに関する誤り訂正</p><p>ローダの後方互換に関する誤りを訂正 (NULLシェープファイルのロード)</p><p>DBFの数値の属性値について最後にドットが付く場合の処理の誤りを訂正</p><p>shp2pgsql (utf8エンコーディング)でのセグメンテーション違反が出る誤りを訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102717392"></a>他の変更</h3></div></div></div><p>スキーマ対応のpostgis_proc_upgrade.pl、PostgreSQL 7.2以上に対応</p><p>マニュアルに「問題を報告する 」の章を追加</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102719056"></a>A.77. リリース 1.0.4</h2></div></div></div><p>リリース日: 2005/09/09</p><p>重大な誤り訂正と若干の改善があります。特に、大きな地理空間テーブルでのGiSTインデックスの構築で起こるメモリリークを訂正しています。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102720464"></a>アップグレード</h3></div></div></div><p>1.0.3から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p><span class="emphasis"><em>1.0.0RC6から1.0.2まで</em></span>のリリースからアップグレードする場合には、リリース 1.0.3にある<a class="link" href="release_notes.html#rel_1.0.3_upgrading" title="A.78. リリース 1.0.3">アップグレード</a>をご覧ください。</p><p>1.0.0RC6より前のリリースからのアップグレードは、<a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>が必要です。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102724048"></a>誤り訂正</h3></div></div></div><p>GiSTインデックスのメモリリーク</p><p>proj4のtransform()処理でのセグメンテーション違反の誤り訂正</p><p>spatial_ref_sysのproj4の誤り訂正 (+projが無かった)</p><p>ローダ: 文字列関数の使用の訂正、NULLオブジェクトチェックの改定、MULTILINESTRING入力でのセグメンテーション違反になる誤りの訂正。</p><p>MakeLineの次元処理に関する誤り訂正</p><p>translate()で出力バウンディングボックスが壊れることに関する誤り訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102727248"></a>改善</h3></div></div></div><p>文書の改善</p><p>選択度推測器の堅牢性向上</p><p>distance()の少しの速度向上</p><p>小規模な整理</p><p>GiSTインデックスの整理</p><p>BOX3Dパーサでより緩い構文を受け付けるようにしました</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="rel_1.0.3_upgrading"></a>A.78. リリース 1.0.3</h2></div></div></div><p>リリース日: 2005/08/08</p><p>いくつかの誤り訂正 - <span class="emphasis"><em>格納されているジオメトリの正しさに厳しい影響を与えるものを含みます</em></span> - および若干の改善。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102732368"></a>アップグレード</h3></div></div></div><p>バウンディングボックスの計算ルーティンの誤りのため、データベースにキャッシュされているバウンディングボックスが正しくない可能性があり、アップグレード手続きでは特別な注意が必要となりました。</p><p><a class="link" href="postgis_administration.html#hard_upgrade" title="3.4.2. ハードアップグレード">ハードアップグレード</a>手続き (ダンプ/リロード)によって、全てのバウンディングボックス (ダンプ内にない)の再計算が強制的に行われます。これは、1.0.0RC6より前のリリースからのアップグレードには<span class="emphasis"><em>必要です</em></span>。</p><p>1.0.0RC6以上からアップグレードする場合には、このリリースには、ジオメトリのバウンディングボックスの再計算と、その結果として発生する変更を伝播させる全ての処理を強制するPerlスクリプト(utils/rebuild_bbox_caches.pl)を持っています。インストール後にこのスクリプトを実行します (引数無しで走らせるとヘルプが出ます)。もしくは、utils/postgis_proc_upgrade.pを実行して、PostGISのプロシージャと関数を更新します (<a class="link" href="postgis_administration.html#soft_upgrade" title="3.4.1. ソフトアップグレード">ソフトアップグレード</a>を参照して下さい)。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102735568"></a>誤り訂正</h3></div></div></div><p>lwgeomの2次元バンディングボックス計算の厳しい誤り訂正</p><p>ローダのWKT (-w)ポイント処理の誤り訂正</p><p>64ビット機のダンパの誤り訂正</p><p>ユーザ定義クエリの処理を行うダンパの誤り訂正</p><p>create_undef.plスクリプトの誤り訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102738256"></a>改善</h3></div></div></div><p>カノニカル入力関数の少しの能率改善</p><p>ローダの小規模な整理</p><p>ローダの多バイト文字によるフィールド名への対応</p><p>postgis_restore.plスクリプトの改善</p><p>ユーティリティスクリプトrebuild_bbox_caches.plの再構築</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102741072"></a>A.79. リリース 1.0.2</h2></div></div></div><p>リリース日: 2005/07/04</p><p>若干の誤り訂正と改善があります</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102742480"></a>アップグレード</h3></div></div></div><p>1.0.0RC6から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102744912"></a>誤り訂正</h3></div></div></div><p>B木オプションの誤り許容</p><p>pg_errorでのメモリリーク</p><p>R木インデックスの訂正</p><p>ビルドスクリプトの整理 (CFLAGSとCXXFLAGSの混在の回避)</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102747216"></a>改善</h3></div></div></div><p>ローダにおける新しいインデックス生成機能 (-lスイッチ)</p><p>PostgreSQL 8.1devへの最初の対応</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102748880"></a>A.80. リリース 1.0.1</h2></div></div></div><p>リリース日: 2005/05/24</p><p>若干の誤り訂正といくつかの改善があります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102750288"></a>アップグレード</h3></div></div></div><p>1.0.0RC6から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102752720"></a>ライブラリの変更</h3></div></div></div><p>length_spheroid()の3次元計算の誤り訂正</p><p>JOIN選択推定器の誤り訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102754256"></a>他の変更追加</h3></div></div></div><p>shp2pgsqlのエスケープ関数の誤り訂正</p><p>複数スキーマで同時発生するPostGISに対するより良い対応</p><p>文書の訂正</p><p>jdbc2: コンパイル時に"-target 1.2 -source 1.2"をデフォルトとするよう変更</p><p>pgsql2shpの-kスイッチの追加</p><p>postgis_restore.plの独自のcreatedへの対応</p><p>pgsql2shp属性名の一意性強制の誤り訂正</p><p>NTF (Paris)の投影定義の誤り訂正</p><p>postgis_restore.plの整理</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102758608"></a>A.81. リリース 1.0.0</h2></div></div></div><p>リリース日: 2005/04/19</p><p>最後の1.0.0リリースです。若干の誤り訂正、ローダのいくつかの改良 (古いPostGISへの対応が特筆すべき点)、文書の追加がありました。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102760016"></a>アップグレード</h3></div></div></div><p>1.0.0RC6から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102762448"></a>ライブラリの変更</h3></div></div></div><p>transform()が不規則なメモリアドレスを解放する問題を訂正</p><p>force_3dm()のメモリ確保が必要より小さい問題を訂正</p><p>JOIN選択度見積もりの誤り (デフォルト値、メモリリーク、行カウント、SD)訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102764368"></a>他の変更追加</h3></div></div></div><p>shp2pgsqlがタブまたはシングルクォートで始まる値を読み飛ばす誤りを訂正</p><p>マニュアルへのローダ/ダンパの追加</p><p>古い (HWGEOM)PostGISに対応するshp2gsql</p><p>shp2pgsqlのフラグに -p (prepare)を追加</p><p>マニュアルにOGC互換の強制に関する新章追加</p><p>JTSライブラリに対応する新しいautoconf</p><p>推測器のテストの誤り訂正 (LWGEOMとスキーマの構文解析への対応)</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102767952"></a>A.82. リリース 1.0.0RC6</h2></div></div></div><p>リリース日: 2005/03/30</p><p>1.0.0の6番目のリリース候補、若干の誤り訂正と整理を行っています。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102769360"></a>アップグレード</h3></div></div></div><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102771152"></a>ライブラリの変更</h3></div></div></div><p>multi()の誤り訂正</p><p>noop時にmulti()からの早い復帰</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102772688"></a>スクリプトの変更</h3></div></div></div><p>{x,y}{min,max}(box2d)関数の削除</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102773840"></a>他の変更</h3></div></div></div><p>postgis_restore.plスクリプトの誤り訂正</p><p>64ビット対応のダンパの誤り訂正</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102775504"></a>A.83. リリース 1.0.0RC5</h2></div></div></div><p>リリース日: 2005/03/25</p><p>1.0.0の5番目のリリース候補、若干の誤り訂正と改善があります</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102776912"></a>アップグレード</h3></div></div></div><p>1.0.0RC4から更新する場合には、ダンプ/リロードは<span class="emphasis"><em>不要です</em></span></p><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102779344"></a>ライブラリの変更</h3></div></div></div><p>box3d計算の問題 (セグメンテーションフォールト)の訂正 (ほかにもあります)</p><p>estimated_extent()でのセグメンテーションフォールトの訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102780880"></a>他の変更</h3></div></div></div><p>ビルドスクリプトとユーティリティの若干の改良</p><p>性能向上に関する技法の文章の追加</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102782544"></a>A.84. リリース 1.0.0RC4</h2></div></div></div><p>リリース日: 2005/03/18</p><p>1.0.0の4番目のリリース候補、誤り訂正と若干の改善があります</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102783952"></a>アップグレード</h3></div></div></div><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102785744"></a>ライブラリの変更</h3></div></div></div><p>geom_accum()のセグメンテーションフォールトの誤り訂正</p><p>64ビットアーキテクチャ対応の誤り訂正</p><p>コレクションを引数に取るbox3d計算関数の誤りの訂正</p><p>副問い合わせの選択度推定への対応</p><p>force_collectionからの早い復帰</p><p>SnapToGrid()の一貫性検査の訂正</p><p>Box2d出力精度を15桁に後退</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102789200"></a>スクリプトの変更</h3></div></div></div><p>distance_sphere()の追加</p><p>get_proj4_from_sridの実装をSQLからPL/pgSQLに変更</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102790864"></a>他の変更</h3></div></div></div><p>ローダとダンパのMULTOLINEシェープの処理の問題を訂正</p><p>ローダでポリゴンの最初の穴を読み飛ばす誤りを訂正。</p><p>jdbc2: コードの整理、Makefileの改善</p><p>FLEX変数とYACC変数がpgsqlのMakefile.globalが取り込まれた*後*で、pgsqlの*空白を除いた*ものが空文字列と評価された場合に限って設定される</p><p>既に作成されていたパーサの追加</p><p>ビルドスクリプトの改良</p><p>Version.configの改善を中心とした版処理の改善</p><p>postgis_restore.plの改善</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102799056"></a>A.85. リリース 1.0.0RC3</h2></div></div></div><p>リリース日: 2005/02/24</p><p>1.0.0の3番目のリリース候補、多数の誤り訂正と改善があります。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102800464"></a>アップグレード</h3></div></div></div><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102802256"></a>ライブラリの変更</h3></div></div></div><p>transform()でSRIDが消える問題を訂正、エラー処理を改善。</p><p>メモリアラインメントのハンドリングに関する誤り訂正</p><p>force_collection()で単純な (単一)ジオメトリ型でMapServerの接続が切れる問題を訂正。</p><p>GeometryFromText()でbboxキャッシュを追加しない誤り訂正。</p><p>box2d出力の精度低下。</p><p>pgsqlで異常終了する問題を避けるため、DEBUGマクロにPGIS_の前置辞を付加</p><p>GEOS2POSTGISコンバータのリークを訂正</p><p>pallocで確保したクエリコンテキストのメモリを早く開放することによるメモリ使用の削減</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102810192"></a>スクリプトの変更</h3></div></div></div><p>PostgreSQL 7.2のインデックスのバインディングを訂正しました。</p><p>PG72での動作と、1テーブルに複数カラムの場合への対応のため、probe_geometry_columns()の誤り訂正</p><p>boolからtextへのキャストの更新</p><p>動作効率改善のため、いくつかの関数をSTABLEからIMMUTABLEに変更</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102812496"></a>JDBC変更</h3></div></div></div><p>jdbc2: 小さなパッチ、box2d/box3dの試験、文書とライセンスの改定</p><p>jdbc2: pgjdbc 8.0の型の自動登録の誤り訂正とテストケース作成</p><p>jdbc2: 古いjdkリリースでの構築を有効にするためためにjdk1.4使用箇所の削除</p><p>jdbc2: pg72jdbc2.jarに対するビルドへの対応の追加</p><p>jdbc2: Makefileの更新と無駄の除去</p><p>jdbc2: JTSジオメトリクラス対応のベータ版を追加</p><p>jdbc2: 古いPostGISサーバに対して失敗するのが判明しているテストをスキップするようにしました。</p><p>jdbc2: EWKTのM値を持つジオメトリの処理の訂正</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102816592"></a>他の変更</h3></div></div></div><p>性能向上に関する技法の新章追加</p><p>ドキュメント更新: pgsql72に必要なもの、lwpostgis.sql</p><p>autoconfの若干の変更</p><p>BUILDDATE抽出の移植可能範囲を広げました</p><p>spatial_ref_sys.sqlを訂正してvacuumが全体のデータベースに及ぶのを避けるようにしました。</p><p>spatial_ref_sys: NTF (Paris)を0.xで配布していたものに合うよう変更。</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102819792"></a>A.86. リリース 1.0.0RC2</h2></div></div></div><p>リリース日: 2005/01/26</p><p>1.0.0の第2リリース候補版。誤り訂正と若干の改善。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102821200"></a>アップグレード</h3></div></div></div><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102822992"></a>ライブラリの変更</h3></div></div></div><p>ポイント配列からのbox3d計算に関する誤り訂正</p><p>distance_spheroid定義に関する誤り訂正</p><p>bboxキャッシュ更新がtransform()無かったことに関する誤り訂正</p><p>新しいJDBCドライバ (jdbc2)</p><p>後方互換のためのGEOMETRYCOLLECTION(EMPTY)書式への対応</p><p>バイナリ出力の高速化</p><p>OGC WKB/WKTコンストラクタの厳格化</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102826448"></a>スクリプトの変更</h3></div></div></div><p>lwpostgis.sql内でのSTABLE, IMMUTABLE, STRICTの訂正</p><p>OGC WKB/WKTコンストラクタの厳格化</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102828112"></a>他の変更</h3></div></div></div><p>ローダ (i18n、非i18nの両方)の高速化と堅牢化</p><p>最初のautoconfスクリプト</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp102829776"></a>A.87. リリース 1.0.0RC1</h2></div></div></div><p>リリース日: 2005/01/13</p><p>最初のPostGISメジャーリリース候補版。格納領域の低減とインデックス使用クエリの高速化のためのPostGIS型の内部格納の再設計。</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102831184"></a>アップグレード</h3></div></div></div><p>前のリリースからアップグレードするにはダンプ/リロードが必要です。詳細については<a class="link" href="postgis_administration.html#upgrading" title="3.4. 空間データベースのアップグレード">アップグレード</a>をご覧下さい。</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="idp102832976"></a>変更</h3></div></div></div><p>標準形式入力パースの高速化。</p><p>標準形式出力の可逆化。</p><p>PostgreSQL 7.3以上でのEWKBの標準形式バイナリ入出力対応。</p><p>4次元座標以上の対応、可逆shapefile-&gt;postgis-&gt;shapefile変換。</p><p>新関数: UpdateGeometrySRID(), AsGML(), SnapToGrid(), ForceRHR(), estimated_extent(), accum().</p><p>垂直方向位置インデックス演算子。</p><p>JOIN選択関数。</p><p>ジオメトリコンストラクタとエディタの強化。</p><p>PostGISエクステンションAPI。</p><p>ローダのUTF-8対応。</p></div></div></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch16.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top">Chapter 16. 問題を報告する </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
